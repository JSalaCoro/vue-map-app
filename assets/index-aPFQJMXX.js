var Uh=Object.defineProperty;var Xh=(t,e,n)=>e in t?Uh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var oa=(t,e,n)=>Xh(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function no(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Te={},Ln=[],bt=()=>{},Kh=()=>!1,xr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),io=t=>t.startsWith("onUpdate:"),Ve=Object.assign,ro=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},jh=Object.prototype.hasOwnProperty,fe=(t,e)=>jh.call(t,e),ne=Array.isArray,li=t=>Cr(t)==="[object Map]",Yh=t=>Cr(t)==="[object Set]",te=t=>typeof t=="function",Le=t=>typeof t=="string",Bn=t=>typeof t=="symbol",Me=t=>t!==null&&typeof t=="object",Fl=t=>(Me(t)||te(t))&&te(t.then)&&te(t.catch),Bh=Object.prototype.toString,Cr=t=>Bh.call(t),Vh=t=>Cr(t).slice(8,-1),Wh=t=>Cr(t)==="[object Object]",so=t=>Le(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ci=no(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),br=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Zh=/-(\w)/g,ut=br(t=>t.replace(Zh,(e,n)=>n?n.toUpperCase():"")),Hh=/\B([A-Z])/g,_n=br(t=>t.replace(Hh,"-$1").toLowerCase()),Ir=br(t=>t.charAt(0).toUpperCase()+t.slice(1)),es=br(t=>t?`on${Ir(t)}`:""),un=(t,e)=>!Object.is(t,e),ts=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Nl=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},$h=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let aa;const Ar=()=>aa||(aa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function oo(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=Le(i)?eu(i):oo(i);if(r)for(const s in r)e[s]=r[s]}return e}else if(Le(t)||Me(t))return t}const qh=/;(?![^(]*\))/g,Jh=/:([^]+)/,Qh=/\/\*[^]*?\*\//g;function eu(t){const e={};return t.replace(Qh,"").split(qh).forEach(n=>{if(n){const i=n.split(Jh);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function ao(t){let e="";if(Le(t))e=t;else if(ne(t))for(let n=0;n<t.length;n++){const i=ao(t[n]);i&&(e+=i+" ")}else if(Me(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const tu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nu=no(tu);function zl(t){return!!t||t===""}/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tt;class iu{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=tt,!e&&tt&&(this.index=(tt.scopes||(tt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=tt;try{return tt=this,e()}finally{tt=n}}}on(){tt=this}off(){tt=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function ru(){return tt}let we;const ns=new WeakSet;class kl{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,tt&&tt.active&&tt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ns.has(this)&&(ns.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ul(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,la(this),Xl(this);const e=we,n=mt;we=this,mt=!0;try{return this.fn()}finally{Kl(this),we=e,mt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ho(e);this.deps=this.depsTail=void 0,la(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ns.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ss(this)&&this.run()}get dirty(){return Ss(this)}}let Gl=0,hi,ui;function Ul(t,e=!1){if(t.flags|=8,e){t.next=ui,ui=t;return}t.next=hi,hi=t}function lo(){Gl++}function co(){if(--Gl>0)return;if(ui){let e=ui;for(ui=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;hi;){let e=hi;for(hi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function Xl(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Kl(t){let e,n=t.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),ho(i),su(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}t.deps=e,t.depsTail=n}function Ss(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(jl(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function jl(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===pi))return;t.globalVersion=pi;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Ss(t)){t.flags&=-3;return}const n=we,i=mt;we=t,mt=!0;try{Xl(t);const r=t.fn(t._value);(e.version===0||un(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{we=n,mt=i,Kl(t),t.flags&=-3}}function ho(t,e=!1){const{dep:n,prevSub:i,nextSub:r}=t;if(i&&(i.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)ho(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function su(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let mt=!0;const Yl=[];function Jt(){Yl.push(mt),mt=!1}function Qt(){const t=Yl.pop();mt=t===void 0?!0:t}function la(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=we;we=void 0;try{e()}finally{we=n}}}let pi=0;class ou{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Bl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!we||!mt||we===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==we)n=this.activeLink=new ou(we,this),we.deps?(n.prevDep=we.depsTail,we.depsTail.nextDep=n,we.depsTail=n):we.deps=we.depsTail=n,Vl(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=we.depsTail,n.nextDep=void 0,we.depsTail.nextDep=n,we.depsTail=n,we.deps===n&&(we.deps=i)}return n}trigger(e){this.version++,pi++,this.notify(e)}notify(e){lo();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{co()}}}function Vl(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)Vl(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ls=new WeakMap,fn=Symbol(""),Ps=Symbol(""),Ei=Symbol("");function ze(t,e,n){if(mt&&we){let i=Ls.get(t);i||Ls.set(t,i=new Map);let r=i.get(n);r||(i.set(n,r=new Bl),r.map=i,r.key=n),r.track()}}function Dt(t,e,n,i,r,s){const o=Ls.get(t);if(!o){pi++;return}const a=l=>{l&&l.trigger()};if(lo(),e==="clear")o.forEach(a);else{const l=ne(t),c=l&&so(n);if(l&&n==="length"){const h=Number(i);o.forEach((u,f)=>{(f==="length"||f===Ei||!Bn(f)&&f>=h)&&a(u)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Ei)),e){case"add":l?c&&a(o.get("length")):(a(o.get(fn)),li(t)&&a(o.get(Ps)));break;case"delete":l||(a(o.get(fn)),li(t)&&a(o.get(Ps)));break;case"set":li(t)&&a(o.get(fn));break}}co()}function pn(t){const e=me(t);return e===t?e:(ze(e,"iterate",Ei),It(t)?e:e.map(it))}function uo(t){return ze(t=me(t),"iterate",Ei),t}const au={__proto__:null,[Symbol.iterator](){return is(this,Symbol.iterator,it)},concat(...t){return pn(this).concat(...t.map(e=>ne(e)?pn(e):e))},entries(){return is(this,"entries",t=>(t[1]=it(t[1]),t))},every(t,e){return Mt(this,"every",t,e,void 0,arguments)},filter(t,e){return Mt(this,"filter",t,e,n=>n.map(it),arguments)},find(t,e){return Mt(this,"find",t,e,it,arguments)},findIndex(t,e){return Mt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Mt(this,"findLast",t,e,it,arguments)},findLastIndex(t,e){return Mt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Mt(this,"forEach",t,e,void 0,arguments)},includes(...t){return rs(this,"includes",t)},indexOf(...t){return rs(this,"indexOf",t)},join(t){return pn(this).join(t)},lastIndexOf(...t){return rs(this,"lastIndexOf",t)},map(t,e){return Mt(this,"map",t,e,void 0,arguments)},pop(){return Hn(this,"pop")},push(...t){return Hn(this,"push",t)},reduce(t,...e){return ca(this,"reduce",t,e)},reduceRight(t,...e){return ca(this,"reduceRight",t,e)},shift(){return Hn(this,"shift")},some(t,e){return Mt(this,"some",t,e,void 0,arguments)},splice(...t){return Hn(this,"splice",t)},toReversed(){return pn(this).toReversed()},toSorted(t){return pn(this).toSorted(t)},toSpliced(...t){return pn(this).toSpliced(...t)},unshift(...t){return Hn(this,"unshift",t)},values(){return is(this,"values",it)}};function is(t,e,n){const i=uo(t),r=i[e]();return i!==t&&!It(t)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const lu=Array.prototype;function Mt(t,e,n,i,r,s){const o=uo(t),a=o!==t&&!It(t),l=o[e];if(l!==lu[e]){const u=l.apply(t,s);return a?it(u):u}let c=n;o!==t&&(a?c=function(u,f){return n.call(this,it(u),f,t)}:n.length>2&&(c=function(u,f){return n.call(this,u,f,t)}));const h=l.call(o,c,i);return a&&r?r(h):h}function ca(t,e,n,i){const r=uo(t);let s=n;return r!==t&&(It(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,it(a),l,t)}),r[e](s,...i)}function rs(t,e,n){const i=me(t);ze(i,"iterate",Ei);const r=i[e](...n);return(r===-1||r===!1)&&mo(n[0])?(n[0]=me(n[0]),i[e](...n)):r}function Hn(t,e,n=[]){Jt(),lo();const i=me(t)[e].apply(t,n);return co(),Qt(),i}const cu=no("__proto__,__v_isRef,__isVue"),Wl=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Bn));function hu(t){Bn(t)||(t=String(t));const e=me(this);return ze(e,"has",t),e.hasOwnProperty(t)}class Zl{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?vu:Jl:s?ql:$l).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=ne(e);if(!r){let l;if(o&&(l=au[n]))return l;if(n==="hasOwnProperty")return hu}const a=Reflect.get(e,n,Ye(e)?e:i);return(Bn(n)?Wl.has(n):cu(n))||(r||ze(e,"get",n),s)?a:Ye(a)?o&&so(n)?a:a.value:Me(a)?r?Ql(a):go(a):a}}class Hl extends Zl{constructor(e=!1){super(!1,e)}set(e,n,i,r){let s=e[n];if(!this._isShallow){const l=Un(s);if(!It(i)&&!Un(i)&&(s=me(s),i=me(i)),!ne(e)&&Ye(s)&&!Ye(i))return l?!1:(s.value=i,!0)}const o=ne(e)&&so(n)?Number(n)<e.length:fe(e,n),a=Reflect.set(e,n,i,Ye(e)?e:r);return e===me(r)&&(o?un(i,s)&&Dt(e,"set",n,i):Dt(e,"add",n,i)),a}deleteProperty(e,n){const i=fe(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&i&&Dt(e,"delete",n,void 0),r}has(e,n){const i=Reflect.has(e,n);return(!Bn(n)||!Wl.has(n))&&ze(e,"has",n),i}ownKeys(e){return ze(e,"iterate",ne(e)?"length":fn),Reflect.ownKeys(e)}}class uu extends Zl{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const fu=new Hl,du=new uu,gu=new Hl(!0);const Os=t=>t,Ki=t=>Reflect.getPrototypeOf(t);function _u(t,e,n){return function(...i){const r=this.__v_raw,s=me(r),o=li(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...i),h=n?Os:e?Ds:it;return!e&&ze(s,"iterate",l?Ps:fn),{next(){const{value:u,done:f}=c.next();return f?{value:u,done:f}:{value:a?[h(u[0]),h(u[1])]:h(u),done:f}},[Symbol.iterator](){return this}}}}function ji(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function mu(t,e){const n={get(r){const s=this.__v_raw,o=me(s),a=me(r);t||(un(r,a)&&ze(o,"get",r),ze(o,"get",a));const{has:l}=Ki(o),c=e?Os:t?Ds:it;if(l.call(o,r))return c(s.get(r));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(r)},get size(){const r=this.__v_raw;return!t&&ze(me(r),"iterate",fn),Reflect.get(r,"size",r)},has(r){const s=this.__v_raw,o=me(s),a=me(r);return t||(un(r,a)&&ze(o,"has",r),ze(o,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const o=this,a=o.__v_raw,l=me(a),c=e?Os:t?Ds:it;return!t&&ze(l,"iterate",fn),a.forEach((h,u)=>r.call(s,c(h),c(u),o))}};return Ve(n,t?{add:ji("add"),set:ji("set"),delete:ji("delete"),clear:ji("clear")}:{add(r){!e&&!It(r)&&!Un(r)&&(r=me(r));const s=me(this);return Ki(s).has.call(s,r)||(s.add(r),Dt(s,"add",r,r)),this},set(r,s){!e&&!It(s)&&!Un(s)&&(s=me(s));const o=me(this),{has:a,get:l}=Ki(o);let c=a.call(o,r);c||(r=me(r),c=a.call(o,r));const h=l.call(o,r);return o.set(r,s),c?un(s,h)&&Dt(o,"set",r,s):Dt(o,"add",r,s),this},delete(r){const s=me(this),{has:o,get:a}=Ki(s);let l=o.call(s,r);l||(r=me(r),l=o.call(s,r)),a&&a.call(s,r);const c=s.delete(r);return l&&Dt(s,"delete",r,void 0),c},clear(){const r=me(this),s=r.size!==0,o=r.clear();return s&&Dt(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=_u(r,t,e)}),n}function fo(t,e){const n=mu(t,e);return(i,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(fe(n,r)&&r in i?n:i,r,s)}const pu={get:fo(!1,!1)},Eu={get:fo(!1,!0)},yu={get:fo(!0,!1)};const $l=new WeakMap,ql=new WeakMap,Jl=new WeakMap,vu=new WeakMap;function wu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Tu(t){return t.__v_skip||!Object.isExtensible(t)?0:wu(Vh(t))}function go(t){return Un(t)?t:_o(t,!1,fu,pu,$l)}function Ru(t){return _o(t,!1,gu,Eu,ql)}function Ql(t){return _o(t,!0,du,yu,Jl)}function _o(t,e,n,i,r){if(!Me(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const o=Tu(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return r.set(t,a),a}function fi(t){return Un(t)?fi(t.__v_raw):!!(t&&t.__v_isReactive)}function Un(t){return!!(t&&t.__v_isReadonly)}function It(t){return!!(t&&t.__v_isShallow)}function mo(t){return t?!!t.__v_raw:!1}function me(t){const e=t&&t.__v_raw;return e?me(e):t}function xu(t){return!fe(t,"__v_skip")&&Object.isExtensible(t)&&Nl(t,"__v_skip",!0),t}const it=t=>Me(t)?go(t):t,Ds=t=>Me(t)?Ql(t):t;function Ye(t){return t?t.__v_isRef===!0:!1}function Cu(t){return Ye(t)?t.value:t}const bu={get:(t,e,n)=>e==="__v_raw"?t:Cu(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return Ye(r)&&!Ye(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function ec(t){return fi(t)?t:new Proxy(t,bu)}class Iu{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Bl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=pi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&we!==this)return Ul(this,!0),!0}get value(){const e=this.dep.track();return jl(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Au(t,e,n=!1){let i,r;return te(t)?i=t:(i=t.get,r=t.set),new Iu(i,r,n)}const Yi={},sr=new WeakMap;let an;function Mu(t,e=!1,n=an){if(n){let i=sr.get(n);i||sr.set(n,i=[]),i.push(t)}}function Su(t,e,n=Te){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=n,c=E=>r?E:It(E)||r===!1||r===0?Zt(E,1):Zt(E);let h,u,f,g,d=!1,p=!1;if(Ye(t)?(u=()=>t.value,d=It(t)):fi(t)?(u=()=>c(t),d=!0):ne(t)?(p=!0,d=t.some(E=>fi(E)||It(E)),u=()=>t.map(E=>{if(Ye(E))return E.value;if(fi(E))return c(E);if(te(E))return l?l(E,2):E()})):te(t)?e?u=l?()=>l(t,2):t:u=()=>{if(f){Jt();try{f()}finally{Qt()}}const E=an;an=h;try{return l?l(t,3,[g]):t(g)}finally{an=E}}:u=bt,e&&r){const E=u,T=r===!0?1/0:r;u=()=>Zt(E(),T)}const y=ru(),w=()=>{h.stop(),y&&y.active&&ro(y.effects,h)};if(s&&e){const E=e;e=(...T)=>{E(...T),w()}}let v=p?new Array(t.length).fill(Yi):Yi;const M=E=>{if(!(!(h.flags&1)||!h.dirty&&!E))if(e){const T=h.run();if(r||d||(p?T.some((N,X)=>un(N,v[X])):un(T,v))){f&&f();const N=an;an=h;try{const X=[T,v===Yi?void 0:p&&v[0]===Yi?[]:v,g];l?l(e,3,X):e(...X),v=T}finally{an=N}}}else h.run()};return a&&a(M),h=new kl(u),h.scheduler=o?()=>o(M,!1):M,g=E=>Mu(E,!1,h),f=h.onStop=()=>{const E=sr.get(h);if(E){if(l)l(E,4);else for(const T of E)T();sr.delete(h)}},e?i?M(!0):v=h.run():o?o(M.bind(null,!0),!0):h.run(),w.pause=h.pause.bind(h),w.resume=h.resume.bind(h),w.stop=w,w}function Zt(t,e=1/0,n){if(e<=0||!Me(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Ye(t))Zt(t.value,e,n);else if(ne(t))for(let i=0;i<t.length;i++)Zt(t[i],e,n);else if(Yh(t)||li(t))t.forEach(i=>{Zt(i,e,n)});else if(Wh(t)){for(const i in t)Zt(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Zt(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Pi(t,e,n,i){try{return i?t(...i):t()}catch(r){Mr(r,e,n)}}function At(t,e,n,i){if(te(t)){const r=Pi(t,e,n,i);return r&&Fl(r)&&r.catch(s=>{Mr(s,e,n)}),r}if(ne(t)){const r=[];for(let s=0;s<t.length;s++)r.push(At(t[s],e,n,i));return r}}function Mr(t,e,n,i=!0){const r=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Te;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let u=0;u<h.length;u++)if(h[u](t,l,c)===!1)return}a=a.parent}if(s){Jt(),Pi(s,null,10,[t,l,c]),Qt();return}}Lu(t,n,r,i,o)}function Lu(t,e,n,i=!0,r=!1){if(r)throw t;console.error(t)}const Xe=[];let Tt=-1;const Pn=[];let Bt=null,bn=0;const tc=Promise.resolve();let or=null;function Pu(t){const e=or||tc;return t?e.then(this?t.bind(this):t):e}function Ou(t){let e=Tt+1,n=Xe.length;for(;e<n;){const i=e+n>>>1,r=Xe[i],s=yi(r);s<t||s===t&&r.flags&2?e=i+1:n=i}return e}function po(t){if(!(t.flags&1)){const e=yi(t),n=Xe[Xe.length-1];!n||!(t.flags&2)&&e>=yi(n)?Xe.push(t):Xe.splice(Ou(e),0,t),t.flags|=1,nc()}}function nc(){or||(or=tc.then(rc))}function Du(t){ne(t)?Pn.push(...t):Bt&&t.id===-1?Bt.splice(bn+1,0,t):t.flags&1||(Pn.push(t),t.flags|=1),nc()}function ha(t,e,n=Tt+1){for(;n<Xe.length;n++){const i=Xe[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Xe.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function ic(t){if(Pn.length){const e=[...new Set(Pn)].sort((n,i)=>yi(n)-yi(i));if(Pn.length=0,Bt){Bt.push(...e);return}for(Bt=e,bn=0;bn<Bt.length;bn++){const n=Bt[bn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Bt=null,bn=0}}const yi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function rc(t){try{for(Tt=0;Tt<Xe.length;Tt++){const e=Xe[Tt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Pi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Tt<Xe.length;Tt++){const e=Xe[Tt];e&&(e.flags&=-2)}Tt=-1,Xe.length=0,ic(),or=null,(Xe.length||Pn.length)&&rc()}}let gt=null,sc=null;function ar(t){const e=gt;return gt=t,sc=t&&t.type.__scopeId||null,e}function Fu(t,e=gt,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&va(-1);const s=ar(e);let o;try{o=t(...r)}finally{ar(s),i._d&&va(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function nn(t,e,n,i){const r=t.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(Jt(),At(l,n,8,[t.el,a,t,e]),Qt())}}const Nu=Symbol("_vte"),zu=t=>t.__isTeleport;function Eo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Eo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function oc(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function lr(t,e,n,i,r=!1){if(ne(t)){t.forEach((d,p)=>lr(d,e&&(ne(e)?e[p]:e),n,i,r));return}if(di(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&lr(t,e,n,i.component.subTree);return}const s=i.shapeFlag&4?wo(i.component):i.el,o=r?null:s,{i:a,r:l}=t,c=e&&e.r,h=a.refs===Te?a.refs={}:a.refs,u=a.setupState,f=me(u),g=u===Te?()=>!1:d=>fe(f,d);if(c!=null&&c!==l&&(Le(c)?(h[c]=null,g(c)&&(u[c]=null)):Ye(c)&&(c.value=null)),te(l))Pi(l,a,12,[o,h]);else{const d=Le(l),p=Ye(l);if(d||p){const y=()=>{if(t.f){const w=d?g(l)?u[l]:h[l]:l.value;r?ne(w)&&ro(w,s):ne(w)?w.includes(s)||w.push(s):d?(h[l]=[s],g(l)&&(u[l]=h[l])):(l.value=[s],t.k&&(h[t.k]=l.value))}else d?(h[l]=o,g(l)&&(u[l]=o)):p&&(l.value=o,t.k&&(h[t.k]=o))};o?(y.id=-1,et(y,n)):y()}}}Ar().requestIdleCallback;Ar().cancelIdleCallback;const di=t=>!!t.type.__asyncLoader,ac=t=>t.type.__isKeepAlive;function ku(t,e){lc(t,"a",e)}function Gu(t,e){lc(t,"da",e)}function lc(t,e,n=Ge){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Sr(e,i,n),n){let r=n.parent;for(;r&&r.parent;)ac(r.parent.vnode)&&Uu(i,e,n,r),r=r.parent}}function Uu(t,e,n,i){const r=Sr(e,t,i,!0);cc(()=>{ro(i[e],r)},n)}function Sr(t,e,n=Ge,i=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Jt();const a=Oi(n),l=At(e,n,t,o);return a(),Qt(),l});return i?r.unshift(s):r.push(s),s}}const zt=t=>(e,n=Ge)=>{(!Ti||t==="sp")&&Sr(t,(...i)=>e(...i),n)},Xu=zt("bm"),Ku=zt("m"),ju=zt("bu"),Yu=zt("u"),Bu=zt("bum"),cc=zt("um"),Vu=zt("sp"),Wu=zt("rtg"),Zu=zt("rtc");function Hu(t,e=Ge){Sr("ec",t,e)}const $u="components";function qu(t,e){return Qu($u,t,!0,e)||t}const Ju=Symbol.for("v-ndc");function Qu(t,e,n=!0,i=!1){const r=gt||Ge;if(r){const s=r.type;{const a=jf(s,!1);if(a&&(a===e||a===ut(e)||a===Ir(ut(e))))return s}const o=ua(r[t]||s[t],e)||ua(r.appContext[t],e);return!o&&i?s:o}}function ua(t,e){return t&&(t[e]||t[ut(e)]||t[Ir(ut(e))])}const Fs=t=>t?Pc(t)?wo(t):Fs(t.parent):null,gi=Ve(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Fs(t.parent),$root:t=>Fs(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>uc(t),$forceUpdate:t=>t.f||(t.f=()=>{po(t.update)}),$nextTick:t=>t.n||(t.n=Pu.bind(t.proxy)),$watch:t=>Tf.bind(t)}),ss=(t,e)=>t!==Te&&!t.__isScriptSetup&&fe(t,e),ef={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return s[e]}else{if(ss(i,e))return o[e]=1,i[e];if(r!==Te&&fe(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&fe(c,e))return o[e]=3,s[e];if(n!==Te&&fe(n,e))return o[e]=4,n[e];Ns&&(o[e]=0)}}const h=gi[e];let u,f;if(h)return e==="$attrs"&&ze(t.attrs,"get",""),h(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(n!==Te&&fe(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,fe(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:s}=t;return ss(r,e)?(r[e]=n,!0):i!==Te&&fe(i,e)?(i[e]=n,!0):fe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||t!==Te&&fe(t,o)||ss(e,o)||(a=s[0])&&fe(a,o)||fe(i,o)||fe(gi,o)||fe(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:fe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function fa(t){return ne(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Ns=!0;function tf(t){const e=uc(t),n=t.proxy,i=t.ctx;Ns=!1,e.beforeCreate&&da(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:h,beforeMount:u,mounted:f,beforeUpdate:g,updated:d,activated:p,deactivated:y,beforeDestroy:w,beforeUnmount:v,destroyed:M,unmounted:E,render:T,renderTracked:N,renderTriggered:X,errorCaptured:D,serverPrefetch:k,expose:L,inheritAttrs:Z,components:Y,directives:q,filters:ie}=e;if(c&&nf(c,i,null),o)for(const G in o){const V=o[G];te(V)&&(i[G]=V.bind(n))}if(r){const G=r.call(n,n);Me(G)&&(t.data=go(G))}if(Ns=!0,s)for(const G in s){const V=s[G],ae=te(V)?V.bind(n,n):te(V.get)?V.get.bind(n,n):bt,H=!te(V)&&te(V.set)?V.set.bind(n):bt,$=Bf({get:ae,set:H});Object.defineProperty(i,G,{enumerable:!0,configurable:!0,get:()=>$.value,set:le=>$.value=le})}if(a)for(const G in a)hc(a[G],i,n,G);if(l){const G=te(l)?l.call(n):l;Reflect.ownKeys(G).forEach(V=>{cf(V,G[V])})}h&&da(h,t,"c");function ee(G,V){ne(V)?V.forEach(ae=>G(ae.bind(n))):V&&G(V.bind(n))}if(ee(Xu,u),ee(Ku,f),ee(ju,g),ee(Yu,d),ee(ku,p),ee(Gu,y),ee(Hu,D),ee(Zu,N),ee(Wu,X),ee(Bu,v),ee(cc,E),ee(Vu,k),ne(L))if(L.length){const G=t.exposed||(t.exposed={});L.forEach(V=>{Object.defineProperty(G,V,{get:()=>n[V],set:ae=>n[V]=ae})})}else t.exposed||(t.exposed={});T&&t.render===bt&&(t.render=T),Z!=null&&(t.inheritAttrs=Z),Y&&(t.components=Y),q&&(t.directives=q),k&&oc(t)}function nf(t,e,n=bt){ne(t)&&(t=zs(t));for(const i in t){const r=t[i];let s;Me(r)?"default"in r?s=tr(r.from||i,r.default,!0):s=tr(r.from||i):s=tr(r),Ye(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function da(t,e,n){At(ne(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function hc(t,e,n,i){let r=i.includes(".")?Cc(n,i):()=>n[i];if(Le(t)){const s=e[t];te(s)&&as(r,s)}else if(te(t))as(r,t.bind(n));else if(Me(t))if(ne(t))t.forEach(s=>hc(s,e,n,i));else{const s=te(t.handler)?t.handler.bind(n):e[t.handler];te(s)&&as(r,s,t)}}function uc(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!n&&!i?l=e:(l={},r.length&&r.forEach(c=>cr(l,c,o,!0)),cr(l,e,o)),Me(e)&&s.set(e,l),l}function cr(t,e,n,i=!1){const{mixins:r,extends:s}=e;s&&cr(t,s,n,!0),r&&r.forEach(o=>cr(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=rf[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const rf={data:ga,props:_a,emits:_a,methods:ti,computed:ti,beforeCreate:Ue,created:Ue,beforeMount:Ue,mounted:Ue,beforeUpdate:Ue,updated:Ue,beforeDestroy:Ue,beforeUnmount:Ue,destroyed:Ue,unmounted:Ue,activated:Ue,deactivated:Ue,errorCaptured:Ue,serverPrefetch:Ue,components:ti,directives:ti,watch:of,provide:ga,inject:sf};function ga(t,e){return e?t?function(){return Ve(te(t)?t.call(this,this):t,te(e)?e.call(this,this):e)}:e:t}function sf(t,e){return ti(zs(t),zs(e))}function zs(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ue(t,e){return t?[...new Set([].concat(t,e))]:e}function ti(t,e){return t?Ve(Object.create(null),t,e):e}function _a(t,e){return t?ne(t)&&ne(e)?[...new Set([...t,...e])]:Ve(Object.create(null),fa(t),fa(e??{})):e}function of(t,e){if(!t)return e;if(!e)return t;const n=Ve(Object.create(null),t);for(const i in e)n[i]=Ue(t[i],e[i]);return n}function fc(){return{app:null,config:{isNativeTag:Kh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let af=0;function lf(t,e){return function(i,r=null){te(i)||(i=Ve({},i)),r!=null&&!Me(r)&&(r=null);const s=fc(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:af++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:Vf,get config(){return s.config},set config(h){},use(h,...u){return o.has(h)||(h&&te(h.install)?(o.add(h),h.install(c,...u)):te(h)&&(o.add(h),h(c,...u))),c},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),c},component(h,u){return u?(s.components[h]=u,c):s.components[h]},directive(h,u){return u?(s.directives[h]=u,c):s.directives[h]},mount(h,u,f){if(!l){const g=c._ceVNode||Ht(i,r);return g.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),t(g,h,f),l=!0,c._container=h,h.__vue_app__=c,wo(g.component)}},onUnmount(h){a.push(h)},unmount(){l&&(At(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(h,u){return s.provides[h]=u,c},runWithContext(h){const u=On;On=c;try{return h()}finally{On=u}}};return c}}let On=null;function cf(t,e){if(Ge){let n=Ge.provides;const i=Ge.parent&&Ge.parent.provides;i===n&&(n=Ge.provides=Object.create(i)),n[t]=e}}function tr(t,e,n=!1){const i=Ge||gt;if(i||On){const r=On?On._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&te(e)?e.call(i&&i.proxy):e}}const dc={},gc=()=>Object.create(dc),_c=t=>Object.getPrototypeOf(t)===dc;function hf(t,e,n,i=!1){const r={},s=gc();t.propsDefaults=Object.create(null),mc(t,e,r,s);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=i?r:Ru(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function uf(t,e,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=t,a=me(r),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let u=0;u<h.length;u++){let f=h[u];if(Lr(t.emitsOptions,f))continue;const g=e[f];if(l)if(fe(s,f))g!==s[f]&&(s[f]=g,c=!0);else{const d=ut(f);r[d]=ks(l,a,d,g,t,!1)}else g!==s[f]&&(s[f]=g,c=!0)}}}else{mc(t,e,r,s)&&(c=!0);let h;for(const u in a)(!e||!fe(e,u)&&((h=_n(u))===u||!fe(e,h)))&&(l?n&&(n[u]!==void 0||n[h]!==void 0)&&(r[u]=ks(l,a,u,void 0,t,!0)):delete r[u]);if(s!==a)for(const u in s)(!e||!fe(e,u))&&(delete s[u],c=!0)}c&&Dt(t.attrs,"set","")}function mc(t,e,n,i){const[r,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ci(l))continue;const c=e[l];let h;r&&fe(r,h=ut(l))?!s||!s.includes(h)?n[h]=c:(a||(a={}))[h]=c:Lr(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=me(n),c=a||Te;for(let h=0;h<s.length;h++){const u=s[h];n[u]=ks(r,l,u,c[u],t,!fe(c,u))}}return o}function ks(t,e,n,i,r,s){const o=t[n];if(o!=null){const a=fe(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&te(l)){const{propsDefaults:c}=r;if(n in c)i=c[n];else{const h=Oi(r);i=c[n]=l.call(null,e),h()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===_n(n))&&(i=!0))}return i}const ff=new WeakMap;function pc(t,e,n=!1){const i=n?ff:e.propsCache,r=i.get(t);if(r)return r;const s=t.props,o={},a=[];let l=!1;if(!te(t)){const h=u=>{l=!0;const[f,g]=pc(u,e,!0);Ve(o,f),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!s&&!l)return Me(t)&&i.set(t,Ln),Ln;if(ne(s))for(let h=0;h<s.length;h++){const u=ut(s[h]);ma(u)&&(o[u]=Te)}else if(s)for(const h in s){const u=ut(h);if(ma(u)){const f=s[h],g=o[u]=ne(f)||te(f)?{type:f}:Ve({},f),d=g.type;let p=!1,y=!0;if(ne(d))for(let w=0;w<d.length;++w){const v=d[w],M=te(v)&&v.name;if(M==="Boolean"){p=!0;break}else M==="String"&&(y=!1)}else p=te(d)&&d.name==="Boolean";g[0]=p,g[1]=y,(p||fe(g,"default"))&&a.push(u)}}const c=[o,a];return Me(t)&&i.set(t,c),c}function ma(t){return t[0]!=="$"&&!ci(t)}const Ec=t=>t[0]==="_"||t==="$stable",yo=t=>ne(t)?t.map(Rt):[Rt(t)],df=(t,e,n)=>{if(e._n)return e;const i=Fu((...r)=>yo(e(...r)),n);return i._c=!1,i},yc=(t,e,n)=>{const i=t._ctx;for(const r in t){if(Ec(r))continue;const s=t[r];if(te(s))e[r]=df(r,s,i);else if(s!=null){const o=yo(s);e[r]=()=>o}}},vc=(t,e)=>{const n=yo(e);t.slots.default=()=>n},wc=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},gf=(t,e,n)=>{const i=t.slots=gc();if(t.vnode.shapeFlag&32){const r=e._;r?(wc(i,e,n),n&&Nl(i,"_",r,!0)):yc(e,i)}else e&&vc(t,e)},_f=(t,e,n)=>{const{vnode:i,slots:r}=t;let s=!0,o=Te;if(i.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:wc(r,e,n):(s=!e.$stable,yc(e,r)),o=e}else e&&(vc(t,e),o={default:1});if(s)for(const a in r)!Ec(a)&&o[a]==null&&delete r[a]},et=Mf;function mf(t){return pf(t)}function pf(t,e){const n=Ar();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:h,parentNode:u,nextSibling:f,setScopeId:g=bt,insertStaticContent:d}=t,p=(_,m,R,I=null,C=null,b=null,O=void 0,P=null,S=!!m.dynamicChildren)=>{if(_===m)return;_&&!$n(_,m)&&(I=xe(_),le(_,C,b,!0),_=null),m.patchFlag===-2&&(S=!1,m.dynamicChildren=null);const{type:A,ref:j,shapeFlag:F}=m;switch(A){case Pr:y(_,m,R,I);break;case vi:w(_,m,R,I);break;case ls:_==null&&v(m,R,I,O);break;case Pt:Y(_,m,R,I,C,b,O,P,S);break;default:F&1?T(_,m,R,I,C,b,O,P,S):F&6?q(_,m,R,I,C,b,O,P,S):(F&64||F&128)&&A.process(_,m,R,I,C,b,O,P,S,Pe)}j!=null&&C&&lr(j,_&&_.ref,b,m||_,!m)},y=(_,m,R,I)=>{if(_==null)i(m.el=a(m.children),R,I);else{const C=m.el=_.el;m.children!==_.children&&c(C,m.children)}},w=(_,m,R,I)=>{_==null?i(m.el=l(m.children||""),R,I):m.el=_.el},v=(_,m,R,I)=>{[_.el,_.anchor]=d(_.children,m,R,I,_.el,_.anchor)},M=({el:_,anchor:m},R,I)=>{let C;for(;_&&_!==m;)C=f(_),i(_,R,I),_=C;i(m,R,I)},E=({el:_,anchor:m})=>{let R;for(;_&&_!==m;)R=f(_),r(_),_=R;r(m)},T=(_,m,R,I,C,b,O,P,S)=>{m.type==="svg"?O="svg":m.type==="math"&&(O="mathml"),_==null?N(m,R,I,C,b,O,P,S):k(_,m,C,b,O,P,S)},N=(_,m,R,I,C,b,O,P)=>{let S,A;const{props:j,shapeFlag:F,transition:K,dirs:U}=_;if(S=_.el=o(_.type,b,j&&j.is,j),F&8?h(S,_.children):F&16&&D(_.children,S,null,I,C,os(_,b),O,P),U&&nn(_,null,I,"created"),X(S,_,_.scopeId,O,I),j){for(const ve in j)ve!=="value"&&!ci(ve)&&s(S,ve,null,j[ve],b,I);"value"in j&&s(S,"value",null,j.value,b),(A=j.onVnodeBeforeMount)&&wt(A,I,_)}U&&nn(_,null,I,"beforeMount");const oe=Ef(C,K);oe&&K.beforeEnter(S),i(S,m,R),((A=j&&j.onVnodeMounted)||oe||U)&&et(()=>{A&&wt(A,I,_),oe&&K.enter(S),U&&nn(_,null,I,"mounted")},C)},X=(_,m,R,I,C)=>{if(R&&g(_,R),I)for(let b=0;b<I.length;b++)g(_,I[b]);if(C){let b=C.subTree;if(m===b||Ic(b.type)&&(b.ssContent===m||b.ssFallback===m)){const O=C.vnode;X(_,O,O.scopeId,O.slotScopeIds,C.parent)}}},D=(_,m,R,I,C,b,O,P,S=0)=>{for(let A=S;A<_.length;A++){const j=_[A]=P?Vt(_[A]):Rt(_[A]);p(null,j,m,R,I,C,b,O,P)}},k=(_,m,R,I,C,b,O)=>{const P=m.el=_.el;let{patchFlag:S,dynamicChildren:A,dirs:j}=m;S|=_.patchFlag&16;const F=_.props||Te,K=m.props||Te;let U;if(R&&rn(R,!1),(U=K.onVnodeBeforeUpdate)&&wt(U,R,m,_),j&&nn(m,_,R,"beforeUpdate"),R&&rn(R,!0),(F.innerHTML&&K.innerHTML==null||F.textContent&&K.textContent==null)&&h(P,""),A?L(_.dynamicChildren,A,P,R,I,os(m,C),b):O||V(_,m,P,null,R,I,os(m,C),b,!1),S>0){if(S&16)Z(P,F,K,R,C);else if(S&2&&F.class!==K.class&&s(P,"class",null,K.class,C),S&4&&s(P,"style",F.style,K.style,C),S&8){const oe=m.dynamicProps;for(let ve=0;ve<oe.length;ve++){const ge=oe[ve],Je=F[ge],Ze=K[ge];(Ze!==Je||ge==="value")&&s(P,ge,Je,Ze,C,R)}}S&1&&_.children!==m.children&&h(P,m.children)}else!O&&A==null&&Z(P,F,K,R,C);((U=K.onVnodeUpdated)||j)&&et(()=>{U&&wt(U,R,m,_),j&&nn(m,_,R,"updated")},I)},L=(_,m,R,I,C,b,O)=>{for(let P=0;P<m.length;P++){const S=_[P],A=m[P],j=S.el&&(S.type===Pt||!$n(S,A)||S.shapeFlag&70)?u(S.el):R;p(S,A,j,null,I,C,b,O,!0)}},Z=(_,m,R,I,C)=>{if(m!==R){if(m!==Te)for(const b in m)!ci(b)&&!(b in R)&&s(_,b,m[b],null,C,I);for(const b in R){if(ci(b))continue;const O=R[b],P=m[b];O!==P&&b!=="value"&&s(_,b,P,O,C,I)}"value"in R&&s(_,"value",m.value,R.value,C)}},Y=(_,m,R,I,C,b,O,P,S)=>{const A=m.el=_?_.el:a(""),j=m.anchor=_?_.anchor:a("");let{patchFlag:F,dynamicChildren:K,slotScopeIds:U}=m;U&&(P=P?P.concat(U):U),_==null?(i(A,R,I),i(j,R,I),D(m.children||[],R,j,C,b,O,P,S)):F>0&&F&64&&K&&_.dynamicChildren?(L(_.dynamicChildren,K,R,C,b,O,P),(m.key!=null||C&&m===C.subTree)&&Tc(_,m,!0)):V(_,m,R,j,C,b,O,P,S)},q=(_,m,R,I,C,b,O,P,S)=>{m.slotScopeIds=P,_==null?m.shapeFlag&512?C.ctx.activate(m,R,I,O,S):ie(m,R,I,C,b,O,S):B(_,m,S)},ie=(_,m,R,I,C,b,O)=>{const P=_.component=kf(_,I,C);if(ac(_)&&(P.ctx.renderer=Pe),Gf(P,!1,O),P.asyncDep){if(C&&C.registerDep(P,ee,O),!_.el){const S=P.subTree=Ht(vi);w(null,S,m,R)}}else ee(P,_,m,R,C,b,O)},B=(_,m,R)=>{const I=m.component=_.component;if(If(_,m,R))if(I.asyncDep&&!I.asyncResolved){G(I,m,R);return}else I.next=m,I.update();else m.el=_.el,I.vnode=m},ee=(_,m,R,I,C,b,O)=>{const P=()=>{if(_.isMounted){let{next:F,bu:K,u:U,parent:oe,vnode:ve}=_;{const yt=Rc(_);if(yt){F&&(F.el=ve.el,G(_,F,O)),yt.asyncDep.then(()=>{_.isUnmounted||P()});return}}let ge=F,Je;rn(_,!1),F?(F.el=ve.el,G(_,F,O)):F=ve,K&&ts(K),(Je=F.props&&F.props.onVnodeBeforeUpdate)&&wt(Je,oe,F,ve),rn(_,!0);const Ze=Ea(_),Et=_.subTree;_.subTree=Ze,p(Et,Ze,u(Et.el),xe(Et),_,C,b),F.el=Ze.el,ge===null&&Af(_,Ze.el),U&&et(U,C),(Je=F.props&&F.props.onVnodeUpdated)&&et(()=>wt(Je,oe,F,ve),C)}else{let F;const{el:K,props:U}=m,{bm:oe,m:ve,parent:ge,root:Je,type:Ze}=_,Et=di(m);rn(_,!1),oe&&ts(oe),!Et&&(F=U&&U.onVnodeBeforeMount)&&wt(F,ge,m),rn(_,!0);{Je.ce&&Je.ce._injectChildStyle(Ze);const yt=_.subTree=Ea(_);p(null,yt,R,I,_,C,b),m.el=yt.el}if(ve&&et(ve,C),!Et&&(F=U&&U.onVnodeMounted)){const yt=m;et(()=>wt(F,ge,yt),C)}(m.shapeFlag&256||ge&&di(ge.vnode)&&ge.vnode.shapeFlag&256)&&_.a&&et(_.a,C),_.isMounted=!0,m=R=I=null}};_.scope.on();const S=_.effect=new kl(P);_.scope.off();const A=_.update=S.run.bind(S),j=_.job=S.runIfDirty.bind(S);j.i=_,j.id=_.uid,S.scheduler=()=>po(j),rn(_,!0),A()},G=(_,m,R)=>{m.component=_;const I=_.vnode.props;_.vnode=m,_.next=null,uf(_,m.props,I,R),_f(_,m.children,R),Jt(),ha(_),Qt()},V=(_,m,R,I,C,b,O,P,S=!1)=>{const A=_&&_.children,j=_?_.shapeFlag:0,F=m.children,{patchFlag:K,shapeFlag:U}=m;if(K>0){if(K&128){H(A,F,R,I,C,b,O,P,S);return}else if(K&256){ae(A,F,R,I,C,b,O,P,S);return}}U&8?(j&16&&ye(A,C,b),F!==A&&h(R,F)):j&16?U&16?H(A,F,R,I,C,b,O,P,S):ye(A,C,b,!0):(j&8&&h(R,""),U&16&&D(F,R,I,C,b,O,P,S))},ae=(_,m,R,I,C,b,O,P,S)=>{_=_||Ln,m=m||Ln;const A=_.length,j=m.length,F=Math.min(A,j);let K;for(K=0;K<F;K++){const U=m[K]=S?Vt(m[K]):Rt(m[K]);p(_[K],U,R,null,C,b,O,P,S)}A>j?ye(_,C,b,!0,!1,F):D(m,R,I,C,b,O,P,S,F)},H=(_,m,R,I,C,b,O,P,S)=>{let A=0;const j=m.length;let F=_.length-1,K=j-1;for(;A<=F&&A<=K;){const U=_[A],oe=m[A]=S?Vt(m[A]):Rt(m[A]);if($n(U,oe))p(U,oe,R,null,C,b,O,P,S);else break;A++}for(;A<=F&&A<=K;){const U=_[F],oe=m[K]=S?Vt(m[K]):Rt(m[K]);if($n(U,oe))p(U,oe,R,null,C,b,O,P,S);else break;F--,K--}if(A>F){if(A<=K){const U=K+1,oe=U<j?m[U].el:I;for(;A<=K;)p(null,m[A]=S?Vt(m[A]):Rt(m[A]),R,oe,C,b,O,P,S),A++}}else if(A>K)for(;A<=F;)le(_[A],C,b,!0),A++;else{const U=A,oe=A,ve=new Map;for(A=oe;A<=K;A++){const Qe=m[A]=S?Vt(m[A]):Rt(m[A]);Qe.key!=null&&ve.set(Qe.key,A)}let ge,Je=0;const Ze=K-oe+1;let Et=!1,yt=0;const Zn=new Array(Ze);for(A=0;A<Ze;A++)Zn[A]=0;for(A=U;A<=F;A++){const Qe=_[A];if(Je>=Ze){le(Qe,C,b,!0);continue}let vt;if(Qe.key!=null)vt=ve.get(Qe.key);else for(ge=oe;ge<=K;ge++)if(Zn[ge-oe]===0&&$n(Qe,m[ge])){vt=ge;break}vt===void 0?le(Qe,C,b,!0):(Zn[vt-oe]=A+1,vt>=yt?yt=vt:Et=!0,p(Qe,m[vt],R,null,C,b,O,P,S),Je++)}const ra=Et?yf(Zn):Ln;for(ge=ra.length-1,A=Ze-1;A>=0;A--){const Qe=oe+A,vt=m[Qe],sa=Qe+1<j?m[Qe+1].el:I;Zn[A]===0?p(null,vt,R,sa,C,b,O,P,S):Et&&(ge<0||A!==ra[ge]?$(vt,R,sa,2):ge--)}}},$=(_,m,R,I,C=null)=>{const{el:b,type:O,transition:P,children:S,shapeFlag:A}=_;if(A&6){$(_.component.subTree,m,R,I);return}if(A&128){_.suspense.move(m,R,I);return}if(A&64){O.move(_,m,R,Pe);return}if(O===Pt){i(b,m,R);for(let F=0;F<S.length;F++)$(S[F],m,R,I);i(_.anchor,m,R);return}if(O===ls){M(_,m,R);return}if(I!==2&&A&1&&P)if(I===0)P.beforeEnter(b),i(b,m,R),et(()=>P.enter(b),C);else{const{leave:F,delayLeave:K,afterLeave:U}=P,oe=()=>i(b,m,R),ve=()=>{F(b,()=>{oe(),U&&U()})};K?K(b,oe,ve):ve()}else i(b,m,R)},le=(_,m,R,I=!1,C=!1)=>{const{type:b,props:O,ref:P,children:S,dynamicChildren:A,shapeFlag:j,patchFlag:F,dirs:K,cacheIndex:U}=_;if(F===-2&&(C=!1),P!=null&&lr(P,null,R,_,!0),U!=null&&(m.renderCache[U]=void 0),j&256){m.ctx.deactivate(_);return}const oe=j&1&&K,ve=!di(_);let ge;if(ve&&(ge=O&&O.onVnodeBeforeUnmount)&&wt(ge,m,_),j&6)Re(_.component,R,I);else{if(j&128){_.suspense.unmount(R,I);return}oe&&nn(_,null,m,"beforeUnmount"),j&64?_.type.remove(_,m,R,Pe,I):A&&!A.hasOnce&&(b!==Pt||F>0&&F&64)?ye(A,m,R,!1,!0):(b===Pt&&F&384||!C&&j&16)&&ye(S,m,R),I&&ue(_)}(ve&&(ge=O&&O.onVnodeUnmounted)||oe)&&et(()=>{ge&&wt(ge,m,_),oe&&nn(_,null,m,"unmounted")},R)},ue=_=>{const{type:m,el:R,anchor:I,transition:C}=_;if(m===Pt){be(R,I);return}if(m===ls){E(_);return}const b=()=>{r(R),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(_.shapeFlag&1&&C&&!C.persisted){const{leave:O,delayLeave:P}=C,S=()=>O(R,b);P?P(_.el,b,S):S()}else b()},be=(_,m)=>{let R;for(;_!==m;)R=f(_),r(_),_=R;r(m)},Re=(_,m,R)=>{const{bum:I,scope:C,job:b,subTree:O,um:P,m:S,a:A}=_;pa(S),pa(A),I&&ts(I),C.stop(),b&&(b.flags|=8,le(O,_,m,R)),P&&et(P,m),et(()=>{_.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},ye=(_,m,R,I=!1,C=!1,b=0)=>{for(let O=b;O<_.length;O++)le(_[O],m,R,I,C)},xe=_=>{if(_.shapeFlag&6)return xe(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const m=f(_.anchor||_.el),R=m&&m[Nu];return R?f(R):m};let We=!1;const ot=(_,m,R)=>{_==null?m._vnode&&le(m._vnode,null,null,!0):p(m._vnode||null,_,m,null,null,null,R),m._vnode=_,We||(We=!0,ha(),ic(),We=!1)},Pe={p,um:le,m:$,r:ue,mt:ie,mc:D,pc:V,pbc:L,n:xe,o:t};return{render:ot,hydrate:void 0,createApp:lf(ot)}}function os({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function rn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Ef(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Tc(t,e,n=!1){const i=t.children,r=e.children;if(ne(i)&&ne(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Vt(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&Tc(o,a)),a.type===Pr&&(a.el=o.el)}}function yf(t){const e=t.slice(),n=[0];let i,r,s,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(r=n[n.length-1],t[r]<c){e[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function Rc(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Rc(e)}function pa(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const vf=Symbol.for("v-scx"),wf=()=>tr(vf);function as(t,e,n){return xc(t,e,n)}function xc(t,e,n=Te){const{immediate:i,deep:r,flush:s,once:o}=n,a=Ve({},n),l=e&&i||!e&&s!=="post";let c;if(Ti){if(s==="sync"){const g=wf();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=bt,g.resume=bt,g.pause=bt,g}}const h=Ge;a.call=(g,d,p)=>At(g,h,d,p);let u=!1;s==="post"?a.scheduler=g=>{et(g,h&&h.suspense)}:s!=="sync"&&(u=!0,a.scheduler=(g,d)=>{d?g():po(g)}),a.augmentJob=g=>{e&&(g.flags|=4),u&&(g.flags|=2,h&&(g.id=h.uid,g.i=h))};const f=Su(t,e,a);return Ti&&(c?c.push(f):l&&f()),f}function Tf(t,e,n){const i=this.proxy,r=Le(t)?t.includes(".")?Cc(i,t):()=>i[t]:t.bind(i,i);let s;te(e)?s=e:(s=e.handler,n=e);const o=Oi(this),a=xc(r,s.bind(i),n);return o(),a}function Cc(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}const Rf=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ut(e)}Modifiers`]||t[`${_n(e)}Modifiers`];function xf(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Te;let r=n;const s=e.startsWith("update:"),o=s&&Rf(i,e.slice(7));o&&(o.trim&&(r=n.map(h=>Le(h)?h.trim():h)),o.number&&(r=n.map($h)));let a,l=i[a=es(e)]||i[a=es(ut(e))];!l&&s&&(l=i[a=es(_n(e))]),l&&At(l,t,6,r);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,At(c,t,6,r)}}function bc(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const s=t.emits;let o={},a=!1;if(!te(t)){const l=c=>{const h=bc(c,e,!0);h&&(a=!0,Ve(o,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Me(t)&&i.set(t,null),null):(ne(s)?s.forEach(l=>o[l]=null):Ve(o,s),Me(t)&&i.set(t,o),o)}function Lr(t,e){return!t||!xr(e)?!1:(e=e.slice(2).replace(/Once$/,""),fe(t,e[0].toLowerCase()+e.slice(1))||fe(t,_n(e))||fe(t,e))}function Ea(t){const{type:e,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:h,props:u,data:f,setupState:g,ctx:d,inheritAttrs:p}=t,y=ar(t);let w,v;try{if(n.shapeFlag&4){const E=r||i,T=E;w=Rt(c.call(T,E,h,u,g,f,d)),v=a}else{const E=e;w=Rt(E.length>1?E(u,{attrs:a,slots:o,emit:l}):E(u,null)),v=e.props?a:Cf(a)}}catch(E){_i.length=0,Mr(E,t,1),w=Ht(vi)}let M=w;if(v&&p!==!1){const E=Object.keys(v),{shapeFlag:T}=M;E.length&&T&7&&(s&&E.some(io)&&(v=bf(v,s)),M=Xn(M,v,!1,!0))}return n.dirs&&(M=Xn(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&Eo(M,n.transition),w=M,ar(y),w}const Cf=t=>{let e;for(const n in t)(n==="class"||n==="style"||xr(n))&&((e||(e={}))[n]=t[n]);return e},bf=(t,e)=>{const n={};for(const i in t)(!io(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function If(t,e,n){const{props:i,children:r,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?ya(i,o,c):!!o;if(l&8){const h=e.dynamicProps;for(let u=0;u<h.length;u++){const f=h[u];if(o[f]!==i[f]&&!Lr(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?ya(i,o,c):!0:!!o;return!1}function ya(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!Lr(n,s))return!0}return!1}function Af({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ic=t=>t.__isSuspense;function Mf(t,e){e&&e.pendingBranch?ne(t)?e.effects.push(...t):e.effects.push(t):Du(t)}const Pt=Symbol.for("v-fgt"),Pr=Symbol.for("v-txt"),vi=Symbol.for("v-cmt"),ls=Symbol.for("v-stc"),_i=[];let rt=null;function Ac(t=!1){_i.push(rt=t?null:[])}function Sf(){_i.pop(),rt=_i[_i.length-1]||null}let wi=1;function va(t,e=!1){wi+=t,t<0&&rt&&e&&(rt.hasOnce=!0)}function Lf(t){return t.dynamicChildren=wi>0?rt||Ln:null,Sf(),wi>0&&rt&&rt.push(t),t}function Mc(t,e,n,i,r,s){return Lf(mi(t,e,n,i,r,s,!0))}function Sc(t){return t?t.__v_isVNode===!0:!1}function $n(t,e){return t.type===e.type&&t.key===e.key}const Lc=({key:t})=>t??null,nr=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Le(t)||Ye(t)||te(t)?{i:gt,r:t,k:e,f:!!n}:t:null);function mi(t,e=null,n=null,i=0,r=null,s=t===Pt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Lc(e),ref:e&&nr(e),scopeId:sc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:gt};return a?(vo(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Le(n)?8:16),wi>0&&!o&&rt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&rt.push(l),l}const Ht=Pf;function Pf(t,e=null,n=null,i=0,r=null,s=!1){if((!t||t===Ju)&&(t=vi),Sc(t)){const a=Xn(t,e,!0);return n&&vo(a,n),wi>0&&!s&&rt&&(a.shapeFlag&6?rt[rt.indexOf(t)]=a:rt.push(a)),a.patchFlag=-2,a}if(Yf(t)&&(t=t.__vccOpts),e){e=Of(e);let{class:a,style:l}=e;a&&!Le(a)&&(e.class=ao(a)),Me(l)&&(mo(l)&&!ne(l)&&(l=Ve({},l)),e.style=oo(l))}const o=Le(t)?1:Ic(t)?128:zu(t)?64:Me(t)?4:te(t)?2:0;return mi(t,e,n,i,r,o,s,!0)}function Of(t){return t?mo(t)||_c(t)?Ve({},t):t:null}function Xn(t,e,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=t,c=e?Ff(r||{},e):r,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Lc(c),ref:e&&e.ref?n&&s?ne(s)?s.concat(nr(e)):[s,nr(e)]:nr(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Pt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Xn(t.ssContent),ssFallback:t.ssFallback&&Xn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&Eo(h,l.clone(h)),h}function Df(t=" ",e=0){return Ht(Pr,null,t,e)}function Rt(t){return t==null||typeof t=="boolean"?Ht(vi):ne(t)?Ht(Pt,null,t.slice()):Sc(t)?Vt(t):Ht(Pr,null,String(t))}function Vt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Xn(t)}function vo(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(ne(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),vo(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!_c(e)?e._ctx=gt:r===3&&gt&&(gt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else te(e)?(e={default:e,_ctx:gt},n=32):(e=String(e),i&64?(n=16,e=[Df(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ff(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=ao([e.class,i.class]));else if(r==="style")e.style=oo([e.style,i.style]);else if(xr(r)){const s=e[r],o=i[r];o&&s!==o&&!(ne(s)&&s.includes(o))&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=i[r])}return e}function wt(t,e,n,i=null){At(t,e,7,[n,i])}const Nf=fc();let zf=0;function kf(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||Nf,s={uid:zf++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new iu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pc(i,r),emitsOptions:bc(i,r),emit:null,emitted:null,propsDefaults:Te,inheritAttrs:i.inheritAttrs,ctx:Te,data:Te,props:Te,attrs:Te,slots:Te,refs:Te,setupState:Te,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=xf.bind(null,s),t.ce&&t.ce(s),s}let Ge=null,hr,Gs;{const t=Ar(),e=(n,i)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};hr=e("__VUE_INSTANCE_SETTERS__",n=>Ge=n),Gs=e("__VUE_SSR_SETTERS__",n=>Ti=n)}const Oi=t=>{const e=Ge;return hr(t),t.scope.on(),()=>{t.scope.off(),hr(e)}},wa=()=>{Ge&&Ge.scope.off(),hr(null)};function Pc(t){return t.vnode.shapeFlag&4}let Ti=!1;function Gf(t,e=!1,n=!1){e&&Gs(e);const{props:i,children:r}=t.vnode,s=Pc(t);hf(t,i,s,e),gf(t,r,n);const o=s?Uf(t,e):void 0;return e&&Gs(!1),o}function Uf(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ef);const{setup:i}=n;if(i){Jt();const r=t.setupContext=i.length>1?Kf(t):null,s=Oi(t),o=Pi(i,t,0,[t.props,r]),a=Fl(o);if(Qt(),s(),(a||t.sp)&&!di(t)&&oc(t),a){if(o.then(wa,wa),e)return o.then(l=>{Ta(t,l)}).catch(l=>{Mr(l,t,0)});t.asyncDep=o}else Ta(t,o)}else Oc(t)}function Ta(t,e,n){te(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Me(e)&&(t.setupState=ec(e)),Oc(t)}function Oc(t,e,n){const i=t.type;t.render||(t.render=i.render||bt);{const r=Oi(t);Jt();try{tf(t)}finally{Qt(),r()}}}const Xf={get(t,e){return ze(t,"get",""),t[e]}};function Kf(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Xf),slots:t.slots,emit:t.emit,expose:e}}function wo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ec(xu(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in gi)return gi[n](t)},has(e,n){return n in e||n in gi}})):t.proxy}function jf(t,e=!0){return te(t)?t.displayName||t.name:t.name||e&&t.__name}function Yf(t){return te(t)&&"__vccOpts"in t}const Bf=(t,e)=>Au(t,e,Ti),Vf="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Us;const Ra=typeof window<"u"&&window.trustedTypes;if(Ra)try{Us=Ra.createPolicy("vue",{createHTML:t=>t})}catch{}const Dc=Us?t=>Us.createHTML(t):t=>t,Wf="http://www.w3.org/2000/svg",Zf="http://www.w3.org/1998/Math/MathML",Lt=typeof document<"u"?document:null,xa=Lt&&Lt.createElement("template"),Hf={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e==="svg"?Lt.createElementNS(Wf,t):e==="mathml"?Lt.createElementNS(Zf,t):n?Lt.createElement(t,{is:n}):Lt.createElement(t);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>Lt.createTextNode(t),createComment:t=>Lt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Lt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,s){const o=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{xa.innerHTML=Dc(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=xa.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},$f=Symbol("_vtc");function qf(t,e,n){const i=t[$f];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ca=Symbol("_vod"),Jf=Symbol("_vsh"),Qf=Symbol(""),ed=/(^|;)\s*display\s*:/;function td(t,e,n){const i=t.style,r=Le(n);let s=!1;if(n&&!r){if(e)if(Le(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&ir(i,a,"")}else for(const o in e)n[o]==null&&ir(i,o,"");for(const o in n)o==="display"&&(s=!0),ir(i,o,n[o])}else if(r){if(e!==n){const o=i[Qf];o&&(n+=";"+o),i.cssText=n,s=ed.test(n)}}else e&&t.removeAttribute("style");Ca in t&&(t[Ca]=s?i.display:"",t[Jf]&&(i.display="none"))}const ba=/\s*!important$/;function ir(t,e,n){if(ne(n))n.forEach(i=>ir(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=nd(t,e);ba.test(n)?t.setProperty(_n(i),n.replace(ba,""),"important"):t[i]=n}}const Ia=["Webkit","Moz","ms"],cs={};function nd(t,e){const n=cs[e];if(n)return n;let i=ut(e);if(i!=="filter"&&i in t)return cs[e]=i;i=Ir(i);for(let r=0;r<Ia.length;r++){const s=Ia[r]+i;if(s in t)return cs[e]=s}return e}const Aa="http://www.w3.org/1999/xlink";function Ma(t,e,n,i,r,s=nu(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Aa,e.slice(6,e.length)):t.setAttributeNS(Aa,e,n):n==null||s&&!zl(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Bn(n)?String(n):n)}function Sa(t,e,n,i,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Dc(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=zl(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function id(t,e,n,i){t.addEventListener(e,n,i)}function rd(t,e,n,i){t.removeEventListener(e,n,i)}const La=Symbol("_vei");function sd(t,e,n,i,r=null){const s=t[La]||(t[La]={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=od(e);if(i){const c=s[e]=cd(i,r);id(t,a,c,l)}else o&&(rd(t,a,o,l),s[e]=void 0)}}const Pa=/(?:Once|Passive|Capture)$/;function od(t){let e;if(Pa.test(t)){e={};let i;for(;i=t.match(Pa);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):_n(t.slice(2)),e]}let hs=0;const ad=Promise.resolve(),ld=()=>hs||(ad.then(()=>hs=0),hs=Date.now());function cd(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;At(hd(i,n.value),e,5,[i])};return n.value=t,n.attached=ld(),n}function hd(t,e){if(ne(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const Oa=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ud=(t,e,n,i,r,s)=>{const o=r==="svg";e==="class"?qf(t,i,o):e==="style"?td(t,n,i):xr(e)?io(e)||sd(t,e,n,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):fd(t,e,i,o))?(Sa(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ma(t,e,i,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Le(i))?Sa(t,ut(e),i,s,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Ma(t,e,i,o))};function fd(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&Oa(e)&&te(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Oa(e)&&Le(n)?!1:e in t}const dd=Ve({patchProp:ud},Hf);let Da;function gd(){return Da||(Da=mf(dd))}const _d=(...t)=>{const e=gd().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=pd(i);if(!r)return;const s=e._component;!te(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,md(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function md(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function pd(t){return Le(t)?document.querySelector(t):t}class en{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const Ri={PROPERTYCHANGE:"propertychange"};class Or{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function To(t,e){return t>e?1:t<e?-1:0}function Ro(t,e,n){if(t[0]<=e)return 0;const i=t.length;if(e<=t[i-1])return i-1;if(typeof n=="function"){for(let r=1;r<i;++r){const s=t[r];if(s===e)return r;if(s<e)return n(e,t[r-1],s)>0?r-1:r}return i-1}if(n>0){for(let r=1;r<i;++r)if(t[r]<e)return r-1;return i-1}if(n<0){for(let r=1;r<i;++r)if(t[r]<=e)return r;return i-1}for(let r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1}function Ed(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let r=0;r<i;r++)t[t.length]=n[r]}function Dr(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function yd(t,e,n){const i=e;return t.every(function(r,s){if(s===0)return!0;const o=i(t[s-1],r);return!(o>0||o===0)})}function ur(){return!0}function Fr(){return!1}function fr(){}function vd(t){let e,n,i;return function(){const r=Array.prototype.slice.call(arguments);return(!n||this!==i||!Dr(r,n))&&(i=this,n=r,e=t.apply(this,arguments)),e}}function wd(t){function e(){let n;try{n=t()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return e()}function Nr(t){for(const e in t)delete t[e]}function Fc(t){let e;for(e in t)return!1;return!e}class zr extends Or{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(n)||r.push(n)}dispatchEvent(e){const n=typeof e=="string",i=n?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;const s=n?new en(e):e;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,a[i]=0),++o[i];let l;for(let c=0,h=r.length;c<h;++c)if("handleEvent"in r[c]?l=r[c].handleEvent(s):l=r[c].call(this,s),l===!1||s.propagationStopped){l=!1;break}if(--o[i]===0){let c=a[i];for(delete a[i];c--;)this.removeEventListener(i,fr);delete o[i]}return l}disposeInternal(){this.listeners_&&Nr(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const r=i.indexOf(n);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=fr,++this.pendingRemovals_[e]):(i.splice(r,1),i.length===0&&delete this.listeners_[e]))}}const Q={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function de(t,e,n,i,r){if(r){const o=n;n=function(){t.removeEventListener(e,n),o.apply(i??this,arguments)}}else i&&i!==t&&(n=n.bind(i));const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function dr(t,e,n,i){return de(t,e,n,i,!0)}function Ce(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Nr(t))}class Di extends zr{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Q.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const i=e.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=de(this,e[s],n);return r}return de(this,e,n)}onceInternal(e,n){let i;if(Array.isArray(e)){const r=e.length;i=new Array(r);for(let s=0;s<r;++s)i[s]=dr(this,e[s],n)}else i=dr(this,e,n);return n.ol_key=i,i}unInternal(e,n){const i=n.ol_key;if(i)Td(i);else if(Array.isArray(e))for(let r=0,s=e.length;r<s;++r)this.removeEventListener(e[r],n);else this.removeEventListener(e,n)}}Di.prototype.on;Di.prototype.once;Di.prototype.un;function Td(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)Ce(t[e]);else Ce(t)}function ce(){throw new Error("Unimplemented abstract method.")}let Rd=0;function ke(t){return t.ol_uid||(t.ol_uid=String(++Rd))}class Fa extends en{constructor(e,n,i){super(e),this.key=n,this.oldValue=i}}class kt extends Di{constructor(e){super(),this.on,this.once,this.un,ke(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new Fa(i,e,n)),i=Ri.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Fa(i,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,i){const r=this.values_||(this.values_={});if(i)r[e]=n;else{const s=r[e];r[e]=n,s!==n&&this.notify(e,s)}}setProperties(e,n){for(const i in e)this.set(i,e[i],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],Fc(this.values_)&&(this.values_=null),n||this.notify(e,i)}}}const at={ANIMATING:0,INTERACTING:1},ft={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},xd=42,xo=256,Co={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class bo{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Co[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Fi=6378137,Sn=Math.PI*Fi,Cd=[-Sn,-Sn,Sn,Sn],bd=[-180,-85,180,85],Bi=Fi*Math.log(Math.tan(Math.PI/2));class En extends bo{constructor(e){super({code:e,units:"m",extent:Cd,global:!0,worldExtent:bd,getPointResolution:function(n,i){return n/Math.cosh(i[1]/Fi)}})}}const Na=[new En("EPSG:3857"),new En("EPSG:102100"),new En("EPSG:102113"),new En("EPSG:900913"),new En("http://www.opengis.net/def/crs/EPSG/0/3857"),new En("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Id(t,e,n,i){const r=t.length;n=n>1?n:2,i=i??n,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let s=0;s<r;s+=i){e[s]=Sn*t[s]/180;let o=Fi*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));o>Bi?o=Bi:o<-Bi&&(o=-Bi),e[s+1]=o}return e}function Ad(t,e,n,i){const r=t.length;n=n>1?n:2,i=i??n,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let s=0;s<r;s+=i)e[s]=180*t[s]/Sn,e[s+1]=360*Math.atan(Math.exp(t[s+1]/Fi))/Math.PI-90;return e}const Md=6378137,za=[-180,-90,180,90],Sd=Math.PI*Md/180;class sn extends bo{constructor(e,n){super({code:e,units:"degrees",extent:za,axisOrientation:n,global:!0,metersPerUnit:Sd,worldExtent:za})}}const ka=[new sn("CRS:84"),new sn("EPSG:4326","neu"),new sn("urn:ogc:def:crs:OGC:1.3:CRS84"),new sn("urn:ogc:def:crs:OGC:2:84"),new sn("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new sn("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new sn("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Xs={};function Ld(t){return Xs[t]||Xs[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Pd(t,e){Xs[t]=e}let Dn={};function xi(t,e,n){const i=t.getCode(),r=e.getCode();i in Dn||(Dn[i]={}),Dn[i][r]=n}function us(t,e){return t in Dn&&e in Dn[t]?Dn[t][e]:null}const Oe={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Ga(t){const e=tn();for(let n=0,i=t.length;n<i;++n)rr(e,t[n]);return e}function Od(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Nc(t,e,n){let i,r;return e<t[0]?i=t[0]-e:t[2]<e?i=e-t[2]:i=0,n<t[1]?r=t[1]-n:t[3]<n?r=n-t[3]:r=0,i*i+r*r}function Io(t,e){return zc(t,e[0],e[1])}function Dd(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function zc(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Ua(t,e){const n=t[0],i=t[1],r=t[2],s=t[3],o=e[0],a=e[1];let l=Oe.UNKNOWN;return o<n?l=l|Oe.LEFT:o>r&&(l=l|Oe.RIGHT),a<i?l=l|Oe.BELOW:a>s&&(l=l|Oe.ABOVE),l===Oe.UNKNOWN&&(l=Oe.INTERSECTING),l}function tn(){return[1/0,1/0,-1/0,-1/0]}function Ni(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function kr(t){return Ni(1/0,1/0,-1/0,-1/0,t)}function Fd(t,e){const n=t[0],i=t[1];return Ni(n,i,n,i,e)}function Nd(t,e,n,i,r){const s=kr(r);return Gc(s,t,e,n,i)}function Ks(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function kc(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function rr(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Gc(t,e,n,i,r){for(;n<i;n+=r)zd(t,e[n],e[n+1]);return t}function zd(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Uc(t,e){let n;return n=e(Gr(t)),n||(n=e(Ur(t)),n)||(n=e(Xr(t)),n)||(n=e(Nt(t)),n)?n:!1}function Ci(t){let e=0;return Kr(t)||(e=pe(t)*je(t)),e}function Gr(t){return[t[0],t[1]]}function Ur(t){return[t[2],t[1]]}function Kn(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function kd(t,e){let n;if(e==="bottom-left")n=Gr(t);else if(e==="bottom-right")n=Ur(t);else if(e==="top-left")n=Nt(t);else if(e==="top-right")n=Xr(t);else throw new Error("Invalid corner");return n}function js(t,e,n,i,r){const[s,o,a,l,c,h,u,f]=Gd(t,e,n,i);return Ni(Math.min(s,a,c,u),Math.min(o,l,h,f),Math.max(s,a,c,u),Math.max(o,l,h,f),r)}function Gd(t,e,n,i){const r=e*i[0]/2,s=e*i[1]/2,o=Math.cos(n),a=Math.sin(n),l=r*o,c=r*a,h=s*o,u=s*a,f=t[0],g=t[1];return[f-l+u,g-c-h,f-l-u,g-c+h,f+l-u,g+c+h,f+l+u,g+c-h,f-l+u,g-c-h]}function je(t){return t[3]-t[1]}function _t(t,e,n){const i=n||tn();return zi(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):kr(i),i}function Nt(t){return[t[0],t[3]]}function Xr(t){return[t[2],t[3]]}function pe(t){return t[2]-t[0]}function zi(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Kr(t){return t[2]<t[0]||t[3]<t[1]}function Ud(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function Xd(t,e,n){let i=!1;const r=Ua(t,e),s=Ua(t,n);if(r===Oe.INTERSECTING||s===Oe.INTERSECTING)i=!0;else{const o=t[0],a=t[1],l=t[2],c=t[3],h=e[0],u=e[1],f=n[0],g=n[1],d=(g-u)/(f-h);let p,y;s&Oe.ABOVE&&!(r&Oe.ABOVE)&&(p=f-(g-c)/d,i=p>=o&&p<=l),!i&&s&Oe.RIGHT&&!(r&Oe.RIGHT)&&(y=g-(f-l)*d,i=y>=a&&y<=c),!i&&s&Oe.BELOW&&!(r&Oe.BELOW)&&(p=f-(g-a)/d,i=p>=o&&p<=l),!i&&s&Oe.LEFT&&!(r&Oe.LEFT)&&(y=g-(f-o)*d,i=y>=a&&y<=c)}return i}function Kd(t,e){const n=e.getExtent(),i=Kn(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const r=pe(n),o=Math.floor((i[0]-n[0])/r)*r;t[0]-=o,t[2]-=o}return t}function Xc(t,e,n){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[i[0],t[1],i[2],t[3]]];Kd(t,e);const r=pe(i);if(pe(t)>r,t[0]<i[0])return[[t[0]+r,t[1],i[2],t[3]],[i[0],t[1],t[2],t[3]]];if(t[2]>i[2])return[[t[0],t[1],i[2],t[3]],[i[0],t[1],t[2]-r,t[3]]]}return[t]}function Ae(t,e,n){return Math.min(Math.max(t,e),n)}function jd(t,e,n,i,r,s){const o=r-n,a=s-i;if(o!==0||a!==0){const l=((t-n)*o+(e-i)*a)/(o*o+a*a);l>1?(n=r,i=s):l>0&&(n+=o*l,i+=a*l)}return Fn(t,e,n,i)}function Fn(t,e,n,i){const r=n-t,s=i-e;return r*r+s*s}function Yd(t){const e=t.length;for(let i=0;i<e;i++){let r=i,s=Math.abs(t[i][i]);for(let a=i+1;a<e;a++){const l=Math.abs(t[a][i]);l>s&&(s=l,r=a)}if(s===0)return null;const o=t[r];t[r]=t[i],t[i]=o;for(let a=i+1;a<e;a++){const l=-t[a][i]/t[i][i];for(let c=i;c<e+1;c++)i==c?t[a][c]=0:t[a][c]+=l*t[i][c]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let r=i-1;r>=0;r--)t[r][e]-=t[r][i]*n[i]}return n}function Xa(t){return t*180/Math.PI}function $t(t){return t*Math.PI/180}function Nn(t,e){const n=t%e;return n*e<0?n+e:n}function Bd(t,e,n){return t+n*(e-t)}function Kc(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function Vi(t,e){return Math.floor(Kc(t,e))}function Wi(t,e){return Math.ceil(Kc(t,e))}function Ys(t,e,n){if(t>=e&&t<n)return t;const i=n-e;return((t-e)%i+i)%i+e}function Vd(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function gr(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function Ao(t,e){const n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,s=t[1]*n+t[0]*i;return t[0]=r,t[1]=s,t}function Wd(t,e){return t[0]*=e,t[1]*=e,t}function Zd(t,e){if(e.canWrapX()){const n=pe(e.getExtent()),i=Hd(t,e,n);i&&(t[0]-=i*n)}return t}function Hd(t,e,n){const i=e.getExtent();let r=0;return e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(n=n||pe(i),r=Math.floor((t[0]-i[0])/n)),r}const $d=63710088e-1;function Ka(t,e,n){n=n||$d;const i=$t(t[1]),r=$t(e[1]),s=(r-i)/2,o=$t(e[0]-t[0])/2,a=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}const _r=.9996,ht=.00669438,jr=ht*ht,Yr=jr*ht,ln=ht/(1-ht),ja=Math.sqrt(1-ht),jn=(1-ja)/(1+ja),jc=jn*jn,Mo=jc*jn,So=Mo*jn,Yc=So*jn,Bc=1-ht/4-3*jr/64-5*Yr/256,qd=3*ht/8+3*jr/32+45*Yr/1024,Jd=15*jr/256+45*Yr/1024,Qd=35*Yr/3072,eg=3/2*jn-27/32*Mo+269/512*Yc,tg=21/16*jc-55/32*So,ng=151/96*Mo-417/128*Yc,ig=1097/512*So,mr=6378137;function rg(t,e,n){const i=t-5e5,o=(n.north?e:e-1e7)/_r/(mr*Bc),a=o+eg*Math.sin(2*o)+tg*Math.sin(4*o)+ng*Math.sin(6*o)+ig*Math.sin(8*o),l=Math.sin(a),c=l*l,h=Math.cos(a),u=l/h,f=u*u,g=f*f,d=1-ht*c,p=Math.sqrt(1-ht*c),y=mr/p,w=(1-ht)/d,v=ln*h**2,M=v*v,E=i/(y*_r),T=E*E,N=T*E,X=N*E,D=X*E,k=D*E,L=a-u/w*(T/2-X/24*(5+3*f+10*v-4*M-9*ln))+k/720*(61+90*f+298*v+45*g-252*ln-3*M);let Z=(E-N/6*(1+2*f+v)+D/120*(5-2*v+28*f-3*M+8*ln+24*g))/h;return Z=Ys(Z+$t(Vc(n.number)),-Math.PI,Math.PI),[Xa(Z),Xa(L)]}const Ya=-80,Ba=84,sg=-180,og=180;function ag(t,e,n){t=Ys(t,sg,og),e<Ya?e=Ya:e>Ba&&(e=Ba);const i=$t(e),r=Math.sin(i),s=Math.cos(i),o=r/s,a=o*o,l=a*a,c=$t(t),h=Vc(n.number),u=$t(h),f=mr/Math.sqrt(1-ht*r**2),g=ln*s**2,d=s*Ys(c-u,-Math.PI,Math.PI),p=d*d,y=p*d,w=y*d,v=w*d,M=v*d,E=mr*(Bc*i-qd*Math.sin(2*i)+Jd*Math.sin(4*i)-Qd*Math.sin(6*i)),T=_r*f*(d+y/6*(1-a+g)+v/120*(5-18*a+l+72*g-58*ln))+5e5;let N=_r*(E+f*o*(p/2+w/24*(5-a+9*g+4*g**2)+M/720*(61-58*a+l+600*g-330*ln)));return n.north||(N+=1e7),[T,N]}function Vc(t){return(t-1)*6-180+3}const lg=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function Wc(t){let e=0;for(const r of lg){const s=t.match(r);if(s){e=parseInt(s[1]);break}}if(!e)return null;let n=0,i=!1;return e>32700&&e<32761?n=e-32700:e>32600&&e<32661&&(i=!0,n=e-32600),n?{number:n,north:i}:null}function Va(t,e){return function(n,i,r,s){const o=n.length;r=r>1?r:2,s=s??r,i||(r>2?i=n.slice():i=new Array(o));for(let a=0;a<o;a+=s){const l=n[a],c=n[a+1],h=t(l,c,e);i[a]=h[0],i[a+1]=h[1]}return i}}function cg(t){return Wc(t)?new bo({code:t,units:"m"}):null}function hg(t){const e=Wc(t.getCode());return e?{forward:Va(ag,e),inverse:Va(rg,e)}:null}function Zc(...t){console.warn(...t)}const ug=[hg],fg=[cg];let Bs=!0;function dg(t){Bs=!1}function Lo(t,e){if(e!==void 0){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];e=e}else e=t.slice();return e}function Vs(t){Pd(t.getCode(),t),xi(t,t,Lo)}function gg(t){t.forEach(Vs)}function st(t){if(typeof t!="string")return t;const e=Ld(t);if(e)return e;for(const n of fg){const i=n(t);if(i)return i}return null}function Wa(t,e,n,i){t=st(t);let r;const s=t.getPointResolutionFunc();if(s)r=s(e,n);else{const o=t.getUnits();if(o=="degrees"&&!i||i=="degrees")r=e;else{const a=Oo(t,st("EPSG:4326"));if(!a&&o!=="degrees")r=e*t.getMetersPerUnit();else{let c=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];c=a(c,c,2);const h=Ka(c.slice(0,2),c.slice(2,4)),u=Ka(c.slice(4,6),c.slice(6,8));r=(h+u)/2}const l=t.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function Za(t){gg(t),t.forEach(function(e){t.forEach(function(n){e!==n&&xi(e,n,Lo)})})}function _g(t,e,n,i){t.forEach(function(r){e.forEach(function(s){xi(r,s,n),xi(s,r,i)})})}function Po(t,e){return t?typeof t=="string"?st(t):t:st(e)}function mg(t){return function(e,n,i,r){const s=e.length;i=i!==void 0?i:2,r=r??i,n=n!==void 0?n:new Array(s);for(let o=0;o<s;o+=r){const a=t(e.slice(o,o+i)),l=a.length;for(let c=0,h=r;c<h;++c)n[o+c]=c>=l?e[o+c]:a[c]}return n}}function fs(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Oo(t,e)===Lo)&&n}function Oo(t,e){const n=t.getCode(),i=e.getCode();let r=us(n,i);if(r)return r;let s=null,o=null;for(const l of ug)s||(s=l(t)),o||(o=l(e));if(!s&&!o)return null;const a="EPSG:4326";if(o)if(s)r=ds(s.inverse,o.forward);else{const l=us(n,a);l&&(r=ds(l,o.forward))}else{const l=us(a,i);l&&(r=ds(s.inverse,l))}return r&&(Vs(t),Vs(e),xi(t,e,r)),r}function ds(t,e){return function(n,i,r,s){return i=t(n,i,r,s),e(i,i,r,s)}}function pr(t,e){const n=st(t),i=st(e);return Oo(n,i)}function Hc(t,e,n){const i=pr(e,n);if(!i){const r=st(e).getCode(),s=st(n).getCode();throw new Error(`No transform available between ${r} and ${s}`)}return i(t,void 0,t.length)}function Ws(t,e){return t}function St(t,e){return Bs&&!gr(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(Bs=!1,Zc("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function pg(t,e){return t}function cn(t,e){return t}function Eg(){Za(Na),Za(ka),_g(ka,Na,Id,Ad)}Eg();function Ee(t,e){if(!t)throw new Error(e)}function Ha(t,e,n){return function(i,r,s,o,a){if(!i)return;if(!r&&!e)return i;const l=e?0:s[0]*r,c=e?0:s[1]*r,h=a?a[0]:0,u=a?a[1]:0;let f=t[0]+l/2+h,g=t[2]-l/2+h,d=t[1]+c/2+u,p=t[3]-c/2+u;f>g&&(f=(g+f)/2,g=f),d>p&&(d=(p+d)/2,p=d);let y=Ae(i[0],f,g),w=Ae(i[1],d,p);if(o&&n&&r){const v=30*r;y+=-v*Math.log(1+Math.max(0,f-i[0])/v)+v*Math.log(1+Math.max(0,i[0]-g)/v),w+=-v*Math.log(1+Math.max(0,d-i[1])/v)+v*Math.log(1+Math.max(0,i[1]-p)/v)}return[y,w]}}function yg(t){return t}function Do(t,e,n,i){const r=pe(e)/n[0],s=je(e)/n[1];return i?Math.min(t,Math.max(r,s)):Math.min(t,Math.min(r,s))}function Fo(t,e,n){let i=Math.min(t,e);const r=50;return i*=Math.log(1+r*Math.max(0,t/e-1))/r+1,n&&(i=Math.max(i,n),i/=Math.log(1+r*Math.max(0,n/t-1))/r+1),Ae(i,n/2,e*2)}function vg(t,e,n,i){return e=e!==void 0?e:!0,function(r,s,o,a){if(r!==void 0){const l=t[0],c=t[t.length-1],h=n?Do(l,n,o,i):l;if(a)return e?Fo(r,h,c):Ae(r,c,h);const u=Math.min(h,r),f=Math.floor(Ro(t,u,s));return t[f]>h&&f<t.length-1?t[f+1]:t[f]}}}function wg(t,e,n,i,r,s){return i=i!==void 0?i:!0,n=n!==void 0?n:0,function(o,a,l,c){if(o!==void 0){const h=r?Do(e,r,l,s):e;if(c)return i?Fo(o,h,n):Ae(o,n,h);const u=1e-9,f=Math.ceil(Math.log(e/h)/Math.log(t)-u),g=-a*(.5-u)+.5,d=Math.min(h,o),p=Math.floor(Math.log(e/d)/Math.log(t)+g),y=Math.max(f,p),w=e/Math.pow(t,y);return Ae(w,n,h)}}}function $a(t,e,n,i,r){return n=n!==void 0?n:!0,function(s,o,a,l){if(s!==void 0){const c=i?Do(t,i,a,r):t;return!n||!l?Ae(s,e,c):Fo(s,c,e)}}}function No(t){if(t!==void 0)return 0}function qa(t){if(t!==void 0)return t}function Tg(t){const e=2*Math.PI/t;return function(n,i){if(i)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function Rg(t){const e=$t(5);return function(n,i){return i||n===void 0?n:Math.abs(n)<=e?0:n}}function $c(t){return Math.pow(t,3)}function Vn(t){return 1-$c(1-t)}function xg(t){return 3*t*t-2*t*t*t}function Cg(t){return t}new Array(6);function zn(){return[1,0,0,1,0,0]}function nt(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function bi(t,e,n,i,r,s,o,a){const l=Math.sin(s),c=Math.cos(s);return t[0]=i*c,t[1]=r*l,t[2]=-i*l,t[3]=r*c,t[4]=o*i*c-a*i*l+e,t[5]=o*r*l+a*r*c+n,t}function qc(t,e){const n=bg(e);Ee(n!==0,"Transformation matrix cannot be inverted");const i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5];return t[0]=o/n,t[1]=-r/n,t[2]=-s/n,t[3]=i/n,t[4]=(s*l-o*a)/n,t[5]=-(i*l-r*a)/n,t}function bg(t){return t[0]*t[3]-t[1]*t[2]}const Ja=[1e6,1e6,1e6,1e6,2,2];function Ig(t){return"matrix("+t.map((n,i)=>Math.round(n*Ja[i])/Ja[i]).join(", ")+")"}function Ag(t,e,n,i,r,s,o){s=s||[],o=o||2;let a=0;for(let l=e;l<n;l+=i){const c=t[l],h=t[l+1];s[a++]=r[0]*c+r[2]*h+r[4],s[a++]=r[1]*c+r[3]*h+r[5];for(let u=2;u<o;u++)s[a++]=t[l+u]}return s&&s.length!=a&&(s.length=a),s}function Mg(t,e,n,i,r,s,o){o=o||[];const a=Math.cos(r),l=Math.sin(r),c=s[0],h=s[1];let u=0;for(let f=e;f<n;f+=i){const g=t[f]-c,d=t[f+1]-h;o[u++]=c+g*a-d*l,o[u++]=h+g*l+d*a;for(let p=f+2;p<f+i;++p)o[u++]=t[p]}return o&&o.length!=u&&(o.length=u),o}function Sg(t,e,n,i,r,s,o,a){a=a||[];const l=o[0],c=o[1];let h=0;for(let u=e;u<n;u+=i){const f=t[u]-l,g=t[u+1]-c;a[h++]=l+r*f,a[h++]=c+s*g;for(let d=u+2;d<u+i;++d)a[h++]=t[d]}return a&&a.length!=h&&(a.length=h),a}function Lg(t,e,n,i,r,s,o){o=o||[];let a=0;for(let l=e;l<n;l+=i){o[a++]=t[l]+r,o[a++]=t[l+1]+s;for(let c=l+2;c<l+i;++c)o[a++]=t[c]}return o&&o.length!=a&&(o.length=a),o}const Qa=zn();class Pg extends kt{constructor(){super(),this.extent_=tn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=vd((e,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);const r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return ce()}closestPointXY(e,n,i,r){return ce()}containsXY(e,n){const i=this.getClosestPoint([e,n]);return i[0]===e&&i[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return ce()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&kr(n),this.extentRevision_=this.getRevision()}return Ud(this.extent_,e)}rotate(e,n){ce()}scale(e,n,i){ce()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return ce()}getType(){return ce()}applyTransform(e){ce()}intersectsExtent(e){return ce()}translate(e,n){ce()}transform(e,n){const i=st(e),r=i.getUnits()=="tile-pixels"?function(s,o,a){const l=i.getExtent(),c=i.getWorldExtent(),h=je(c)/je(l);bi(Qa,c[0],c[3],h,-h,0,0,0);const u=Ag(s,0,s.length,a,Qa,o),f=pr(i,n);return f?f(u,u,a):u}:pr(i,n);return this.applyTransform(r),this}}class zo extends Pg{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Nd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return ce()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=el(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){ce()}setLayout(e,n,i){let r;if(e)r=el(e);else{for(let s=0;s<i;++s){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}r=n.length,e=Og(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,n){const i=this.getFlatCoordinates();if(i){const r=this.getStride();Mg(i,0,i.length,r,e,n,i),this.changed()}}scale(e,n,i){n===void 0&&(n=e),i||(i=Kn(this.getExtent()));const r=this.getFlatCoordinates();if(r){const s=this.getStride();Sg(r,0,r.length,s,e,n,i,r),this.changed()}}translate(e,n){const i=this.getFlatCoordinates();if(i){const r=this.getStride();Lg(i,0,i.length,r,e,n,i),this.changed()}}}function Og(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function el(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function tl(t,e,n,i,r,s,o){const a=t[e],l=t[e+1],c=t[n]-a,h=t[n+1]-l;let u;if(c===0&&h===0)u=e;else{const f=((r-a)*c+(s-l)*h)/(c*c+h*h);if(f>1)u=n;else if(f>0){for(let g=0;g<i;++g)o[g]=Bd(t[e+g],t[n+g],f);o.length=i;return}else u=e}for(let f=0;f<i;++f)o[f]=t[u+f];o.length=i}function Jc(t,e,n,i,r){let s=t[e],o=t[e+1];for(e+=i;e<n;e+=i){const a=t[e],l=t[e+1],c=Fn(s,o,a,l);c>r&&(r=c),s=a,o=l}return r}function Dg(t,e,n,i,r){for(let s=0,o=n.length;s<o;++s){const a=n[s];r=Jc(t,e,a,i,r),e=a}return r}function Qc(t,e,n,i,r,s,o,a,l,c,h){if(e==n)return c;let u,f;if(r===0){if(f=Fn(o,a,t[e],t[e+1]),f<c){for(u=0;u<i;++u)l[u]=t[e+u];return l.length=i,f}return c}h=h||[NaN,NaN];let g=e+i;for(;g<n;)if(tl(t,g-i,g,i,o,a,h),f=Fn(o,a,h[0],h[1]),f<c){for(c=f,u=0;u<i;++u)l[u]=h[u];l.length=i,g+=i}else g+=i*Math.max((Math.sqrt(f)-Math.sqrt(c))/r|0,1);if(tl(t,n-i,e,i,o,a,h),f=Fn(o,a,h[0],h[1]),f<c){for(c=f,u=0;u<i;++u)l[u]=h[u];l.length=i}return c}function Fg(t,e,n,i,r,s,o,a,l,c,h){h=h||[NaN,NaN];for(let u=0,f=n.length;u<f;++u){const g=n[u];c=Qc(t,e,g,i,r,s,o,a,l,c,h),e=g}return c}function Ng(t,e,n,i){for(let r=0,s=n.length;r<s;++r)t[e++]=n[r];return e}function eh(t,e,n,i){for(let r=0,s=n.length;r<s;++r){const o=n[r];for(let a=0;a<i;++a)t[e++]=o[a]}return e}function zg(t,e,n,i,r){r=r||[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=eh(t,e,n[o],i);r[s++]=l,e=l}return r.length=s,r}function kg(t,e,n,i,r,s,o){const a=(n-e)/i;if(a<3){for(;e<n;e+=i)s[o++]=t[e],s[o++]=t[e+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[e,n-i];let h=0;for(;c.length>0;){const u=c.pop(),f=c.pop();let g=0;const d=t[f],p=t[f+1],y=t[u],w=t[u+1];for(let v=f+i;v<u;v+=i){const M=t[v],E=t[v+1],T=jd(M,E,d,p,y,w);T>g&&(h=v,g=T)}g>r&&(l[(h-e)/i]=1,f+i<h&&c.push(f,h),h+i<u&&c.push(h,u))}for(let u=0;u<a;++u)l[u]&&(s[o++]=t[e+u*i],s[o++]=t[e+u*i+1]);return o}function yn(t,e){return e*Math.round(t/e)}function Gg(t,e,n,i,r,s,o){if(e==n)return o;let a=yn(t[e],r),l=yn(t[e+1],r);e+=i,s[o++]=a,s[o++]=l;let c,h;do if(c=yn(t[e],r),h=yn(t[e+1],r),e+=i,e==n)return s[o++]=c,s[o++]=h,o;while(c==a&&h==l);for(;e<n;){const u=yn(t[e],r),f=yn(t[e+1],r);if(e+=i,u==c&&f==h)continue;const g=c-a,d=h-l,p=u-a,y=f-l;if(g*y==d*p&&(g<0&&p<g||g==p||g>0&&p>g)&&(d<0&&y<d||d==y||d>0&&y>d)){c=u,h=f;continue}s[o++]=c,s[o++]=h,a=c,l=h,c=u,h=f}return s[o++]=c,s[o++]=h,o}function Ug(t,e,n,i,r,s,o,a){for(let l=0,c=n.length;l<c;++l){const h=n[l];o=Gg(t,e,h,i,r,s,o),a.push(o),e=h}return o}function th(t,e,n,i,r){r=r!==void 0?r:[];let s=0;for(let o=e;o<n;o+=i)r[s++]=t.slice(o,o+i);return r.length=s,r}function Xg(t,e,n,i,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=n[o];r[s++]=th(t,e,l,i,r[s]),e=l}return r.length=s,r}function nh(t,e,n,i){let r=0;const s=t[n-i],o=t[n-i+1];let a=0,l=0;for(;e<n;e+=i){const c=t[e]-s,h=t[e+1]-o;r+=l*c-a*h,a=c,l=h}return r/2}function Kg(t,e,n,i){let r=0;for(let s=0,o=n.length;s<o;++s){const a=n[s];r+=nh(t,e,a,i),e=a}return r}class Ii extends zo{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new Ii(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,i,r){return r<Nc(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Jc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Qc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,i,r))}getArea(){return nh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return th(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=kg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Ii(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=eh(this.flatCoordinates,0,e,this.stride),this.changed()}}class ko extends zo{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new ko(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,r){const s=this.flatCoordinates,o=Fn(e,n,s[0],s[1]);if(o<r){const a=this.stride;for(let l=0;l<a;++l)i[l]=s[l];return i.length=a,o}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return Fd(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return zc(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ng(this.flatCoordinates,0,e,this.stride),this.changed()}}function jg(t,e,n,i,r){return!Uc(r,function(o){return!hn(t,e,n,i,o[0],o[1])})}function hn(t,e,n,i,r,s){let o=0,a=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const c=t[e],h=t[e+1];l<=s?h>s&&(c-a)*(s-l)-(r-a)*(h-l)>0&&o++:h<=s&&(c-a)*(s-l)-(r-a)*(h-l)<0&&o--,a=c,l=h}return o!==0}function ih(t,e,n,i,r,s){if(n.length===0||!hn(t,e,n[0],i,r,s))return!1;for(let o=1,a=n.length;o<a;++o)if(hn(t,n[o-1],n[o],i,r,s))return!1;return!0}function Yg(t,e,n,i,r,s,o){let a,l,c,h,u,f,g;const d=r[s+1],p=[];for(let v=0,M=n.length;v<M;++v){const E=n[v];for(h=t[E-i],f=t[E-i+1],a=e;a<E;a+=i)u=t[a],g=t[a+1],(d<=f&&g<=d||f<=d&&d<=g)&&(c=(d-f)/(g-f)*(u-h)+h,p.push(c)),h=u,f=g}let y=NaN,w=-1/0;for(p.sort(To),h=p[0],a=1,l=p.length;a<l;++a){u=p[a];const v=Math.abs(u-h);v>w&&(c=(h+u)/2,ih(t,e,n,i,c,d)&&(y=c,w=v)),h=u}return isNaN(y)&&(y=r[s]),[y,d,w]}function Bg(t,e,n,i,r){let s;for(e+=i;e<n;e+=i)if(s=r(t.slice(e-i,e),t.slice(e,e+i)),s)return s;return!1}function rh(t,e,n,i,r){const s=Gc(tn(),t,e,n,i);return zi(r,s)?Dd(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:Bg(t,e,n,i,function(o,a){return Xd(r,o,a)}):!1}function sh(t,e,n,i,r){return!!(rh(t,e,n,i,r)||hn(t,e,n,i,r[0],r[1])||hn(t,e,n,i,r[0],r[3])||hn(t,e,n,i,r[2],r[1])||hn(t,e,n,i,r[2],r[3]))}function Vg(t,e,n,i,r){if(!sh(t,e,n[0],i,r))return!1;if(n.length===1)return!0;for(let s=1,o=n.length;s<o;++s)if(jg(t,n[s-1],n[s],i,r)&&!rh(t,n[s-1],n[s],i,r))return!1;return!0}function Wg(t,e,n,i){for(;e<n-i;){for(let r=0;r<i;++r){const s=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=s}e+=i,n-=i}}function oh(t,e,n,i){let r=0,s=t[n-i],o=t[n-i+1];for(;e<n;e+=i){const a=t[e],l=t[e+1];r+=(a-s)*(l+o),s=a,o=l}return r===0?void 0:r>0}function Zg(t,e,n,i,r){r=r!==void 0?r:!1;for(let s=0,o=n.length;s<o;++s){const a=n[s],l=oh(t,e,a,i);if(s===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;e=a}return!0}function nl(t,e,n,i,r){r=r!==void 0?r:!1;for(let s=0,o=n.length;s<o;++s){const a=n[s],l=oh(t,e,a,i);(s===0?r&&l||!r&&!l:r&&!l||!r&&l)&&Wg(t,e,a,i),e=a}return e}class Ai extends zo{constructor(e,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?Ed(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Ai(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,r){return r<Nc(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Dg(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Fg(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,i,r))}containsXY(e,n){return ih(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return Kg(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),nl(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,Xg(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Kn(this.getExtent());this.flatInteriorPoint_=Yg(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new ko(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Ii(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,i=this.ends_,r=[];let s=0;for(let o=0,a=i.length;o<a;++o){const l=i[o],c=new Ii(n.slice(s,l),e);r.push(c),s=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Zg(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=nl(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=Ug(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new Ai(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return Vg(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=zg(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function il(t){if(Kr(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],i=t[2],r=t[3],s=[e,n,e,r,i,r,i,n,e,n];return new Ai(s,"XY",[s.length])}const gs=0;class xt extends kt{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Po(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&dg(),e.center&&(e.center=St(e.center,this.projection_)),e.extent&&(e.extent=cn(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const a in ft)delete n[a];this.setProperties(n,!0);const i=$g(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const r=Hg(e),s=i.constraint,o=qg(e);this.constraints_={center:r,resolution:s,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const r=e||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution(),o=s/2*(r[3]-n[3]+n[1]-r[1]),a=s/2*(r[0]-n[0]+n[2]-r[2]);this.setCenterInternal([i[0]+o,i[1]-a])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let i=0;i<n.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=St(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=St(r.anchor,this.getProjection())),n[i]=r}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){const h=arguments[r];h.center&&this.setCenterInternal(h.center),h.zoom!==void 0?this.setZoom(h.zoom):h.resolution&&this.setResolution(h.resolution),h.rotation!==void 0&&this.setRotation(h.rotation)}if(r===n){i&&Zi(i,!0);return}let s=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const c=[];for(;r<n;++r){const h=arguments[r],u={start:s,complete:!1,anchor:h.anchor,duration:h.duration!==void 0?h.duration:1e3,easing:h.easing||xg,callback:i};if(h.center&&(u.sourceCenter=o,u.targetCenter=h.center.slice(),o=u.targetCenter),h.zoom!==void 0?(u.sourceResolution=a,u.targetResolution=this.getResolutionForZoom(h.zoom),a=u.targetResolution):h.resolution&&(u.sourceResolution=a,u.targetResolution=h.resolution,a=u.targetResolution),h.rotation!==void 0){u.sourceRotation=l;const f=Nn(h.rotation-l+Math.PI,2*Math.PI)-Math.PI;u.targetRotation=l+f,l=u.targetRotation}Jg(u)?u.complete=!0:s+=u.duration,c.push(u)}this.animations_.push(c),this.setHint(at.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[at.ANIMATING]>0}getInteracting(){return this.hints_[at.INTERACTING]>0}cancelAnimations(){this.setHint(at.ANIMATING,-this.hints_[at.ANIMATING]);let e;for(let n=0,i=this.animations_.length;n<i;++n){const r=this.animations_[n];if(r[0].callback&&Zi(r[0].callback,!1),!e)for(let s=0,o=r.length;s<o;++s){const a=r[s];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let i=this.animations_.length-1;i>=0;--i){const r=this.animations_[i];let s=!0;for(let o=0,a=r.length;o<a;++o){const l=r[o];if(l.complete)continue;const c=e-l.start;let h=l.duration>0?c/l.duration:1;h>=1?(l.complete=!0,h=1):s=!1;const u=l.easing(h);if(l.sourceCenter){const f=l.sourceCenter[0],g=l.sourceCenter[1],d=l.targetCenter[0],p=l.targetCenter[1];this.nextCenter_=l.targetCenter;const y=f+u*(d-f),w=g+u*(p-g);this.targetCenter_=[y,w]}if(l.sourceResolution&&l.targetResolution){const f=u===1?l.targetResolution:l.sourceResolution+u*(l.targetResolution-l.sourceResolution);if(l.anchor){const g=this.getViewportSize_(this.getRotation()),d=this.constraints_.resolution(f,0,g,!0);this.targetCenter_=this.calculateCenterZoom(d,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=f,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const f=u===1?Nn(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+u*(l.targetRotation-l.sourceRotation);if(l.anchor){const g=this.constraints_.rotation(f,!0);this.targetCenter_=this.calculateCenterRotate(g,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=f}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(s){this.animations_[i]=null,this.setHint(at.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=r[0].callback;o&&Zi(o,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let i;const r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-n[0],r[1]-n[1]],Ao(i,e-this.getRotation()),Vd(i,n)),i}calculateCenterZoom(e,n){let i;const r=this.getCenterInternal(),s=this.getResolution();if(r!==void 0&&s!==void 0){const o=n[0]-e*(n[0]-r[0])/s,a=n[1]-e*(n[1]-r[1])/s;i=[o,a]}return i}getViewportSize_(e){const n=this.viewportSize_;if(e){const i=n[0],r=n[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&Ws(e,this.getProjection())}getCenterInternal(){return this.get(ft.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return pg(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Ee(n,"The view center is not defined");const i=this.getResolution();Ee(i!==void 0,"The view resolution is not defined");const r=this.getRotation();return Ee(r!==void 0,"The view rotation is not defined"),js(n,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(ft.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(cn(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const i=pe(e)/n[0],r=je(e)/n[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(s){return n/Math.pow(e,s*r)}}getRotation(){return this.get(ft.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,s=Math.log(i/r)/n;return function(o){return Math.log(i/o)/n/s}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),i=this.getRotation();let r=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();r=_s(r,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],n,i)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,i,r;if(this.resolutions_){const s=Ro(this.resolutions_,e,1);n=s,i=this.resolutions_[s],s==this.resolutions_.length-1?r=2:r=i/this.resolutions_[s+1]}else i=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){var n;if((n=this.resolutions_)!=null&&n.length){if(this.resolutions_.length===1)return this.resolutions_[0];const i=Ae(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[i]/this.resolutions_[i+1];return this.resolutions_[i]/Math.pow(r,Ae(e-i,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let i;if(Ee(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Ee(!Kr(e),"Cannot fit empty extent provided as `geometry`");const r=cn(e,this.getProjection());i=il(r)}else if(e.getType()==="Circle"){const r=cn(e.getExtent(),this.getProjection());i=il(r),i.rotate(this.getRotation(),Kn(r))}else i=e;this.fitInternal(i,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),i=Math.cos(n),r=Math.sin(-n),s=e.getFlatCoordinates(),o=e.getStride();let a=1/0,l=1/0,c=-1/0,h=-1/0;for(let u=0,f=s.length;u<f;u+=o){const g=s[u]*i-s[u+1]*r,d=s[u]*r+s[u+1]*i;a=Math.min(a,g),l=Math.min(l,d),c=Math.max(c,g),h=Math.max(h,d)}return[a,l,c,h]}fitInternal(e,n){n=n||{};let i=n.size;i||(i=this.getViewportSizeMinusPadding_());const r=n.padding!==void 0?n.padding:[0,0,0,0],s=n.nearest!==void 0?n.nearest:!1;let o;n.minResolution!==void 0?o=n.minResolution:n.maxZoom!==void 0?o=this.getResolutionForZoom(n.maxZoom):o=0;const a=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(a,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,s?0:1);const c=this.getRotation(),h=Math.sin(c),u=Math.cos(c),f=Kn(a);f[0]+=(r[1]-r[3])/2*l,f[1]+=(r[0]-r[2])/2*l;const g=f[0]*u-f[1]*h,d=f[1]*u+f[0]*h,p=this.getConstrainedCenter([g,d],l),y=n.callback?n.callback:fr;n.duration!==void 0?this.animateInternal({resolution:l,center:p,duration:n.duration,easing:n.easing},y):(this.targetResolution_=l,this.targetCenter_=p,this.applyTargetState_(!1,!0),Zi(y,!0))}centerOn(e,n,i){this.centerOnInternal(St(e,this.getProjection()),n,i)}centerOnInternal(e,n,i){this.setCenterInternal(_s(e,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,i,r){let s;const o=this.padding_;if(o&&e){const a=this.getViewportSizeMinusPadding_(-i),l=_s(e,r,[a[0]/2+o[3],a[1]/2+o[0]],n,i);s=[e[0]-l[0],e[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=Ws(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&St(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,r,i);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=St(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);n&&(this.targetCenter_=this.calculateCenterRotate(r,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&St(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const i=this.getAnimating()||this.getInteracting()||n,r=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,s,i),a=this.constraints_.center(this.targetCenter_,o,s,i,this.calculateCenterShift(this.targetCenter_,o,r,s));this.get(ft.ROTATION)!==r&&this.set(ft.ROTATION,r),this.get(ft.RESOLUTION)!==o&&(this.set(ft.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(ft.CENTER)||!gr(this.get(ft.CENTER),a))&&this.set(ft.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,i){e=e!==void 0?e:200;const r=n||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,r,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,s,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=s,this.targetCenter_=l,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==s||!this.getCenterInternal()||!gr(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:a,duration:e,easing:Vn,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(at.INTERACTING,1)}endInteraction(e,n,i){i=i&&St(i,this.getProjection()),this.endInteractionInternal(e,n,i)}endInteractionInternal(e,n,i){this.getInteracting()&&(this.setHint(at.INTERACTING,-1),this.resolveConstraints(e,n,i))}getConstrainedCenter(e,n){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),i)}getConstrainedZoom(e,n){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(e,n){n=n||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,i)}}function Zi(t,e){setTimeout(function(){t(e)},0)}function Hg(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return Ha(t.extent,t.constrainOnlyCenter,n)}const e=Po(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,Ha(n,!1,!1)}return yg}function $g(t){let e,n,i,o=t.minZoom!==void 0?t.minZoom:gs,a=t.maxZoom!==void 0?t.maxZoom:28;const l=t.zoomFactor!==void 0?t.zoomFactor:2,c=t.multiWorld!==void 0?t.multiWorld:!1,h=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,u=t.showFullExtent!==void 0?t.showFullExtent:!1,f=Po(t.projection,"EPSG:3857"),g=f.getExtent();let d=t.constrainOnlyCenter,p=t.extent;if(!c&&!p&&f.isGlobal()&&(d=!1,p=g),t.resolutions!==void 0){const y=t.resolutions;n=y[o],i=y[a]!==void 0?y[a]:y[y.length-1],t.constrainResolution?e=vg(y,h,!d&&p,u):e=$a(n,i,h,!d&&p,u)}else{const w=(g?Math.max(pe(g),je(g)):360*Co.degrees/f.getMetersPerUnit())/xo/Math.pow(2,gs),v=w/Math.pow(2,28-gs);n=t.maxResolution,n!==void 0?o=0:n=w/Math.pow(l,o),i=t.minResolution,i===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?i=n/Math.pow(l,a):i=w/Math.pow(l,a):i=v),a=o+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,a-o),t.constrainResolution?e=wg(l,n,i,h,!d&&p,u):e=$a(n,i,h,!d&&p,u)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:l}}function qg(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?Rg():n===!1?qa:typeof n=="number"?Tg(n):qa}return No}function Jg(t){return!(t.sourceCenter&&t.targetCenter&&!gr(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function _s(t,e,n,i,r){const s=Math.cos(-r);let o=Math.sin(-r),a=t[0]*s-t[1]*o,l=t[1]*s+t[0]*o;a+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,o=-o;const c=a*s-l*o,h=l*s+a*o;return[c,h]}const lt={ADD:"add",REMOVE:"remove"},rl={LENGTH:"length"};class Hi extends en{constructor(e,n,i){super(e),this.element=n,this.index=i}}class Ft extends kt{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,i=e.length;n<i;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let i=0,r=n.length;i<r;++i)e(n[i],i,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(rl.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new Hi(lt.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let i=0,r=n.length;i<r;++i)if(n[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Hi(lt.REMOVE,n,e)),n}setAt(e,n){const i=this.getLength();if(e>=i){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const r=this.array_[e];this.array_[e]=n,this.dispatchEvent(new Hi(lt.REMOVE,r,e)),this.dispatchEvent(new Hi(lt.ADD,n,e))}updateLength_(){this.set(rl.LENGTH,this.array_.length)}assertUnique_(e,n){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===e&&i!==n)throw new Error("Duplicate item added to a unique collection")}}const _e={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class ah extends kt{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[_e.OPACITY]=e.opacity!==void 0?e.opacity:1,Ee(typeof n[_e.OPACITY]=="number","Layer opacity must be a number"),n[_e.VISIBLE]=e.visible!==void 0?e.visible:!0,n[_e.Z_INDEX]=e.zIndex,n[_e.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[_e.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[_e.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[_e.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return n.opacity=Ae(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return ce()}getLayerStatesArray(e){return ce()}getExtent(){return this.get(_e.EXTENT)}getMaxResolution(){return this.get(_e.MAX_RESOLUTION)}getMinResolution(){return this.get(_e.MIN_RESOLUTION)}getMinZoom(){return this.get(_e.MIN_ZOOM)}getMaxZoom(){return this.get(_e.MAX_ZOOM)}getOpacity(){return this.get(_e.OPACITY)}getSourceState(){return ce()}getVisible(){return this.get(_e.VISIBLE)}getZIndex(){return this.get(_e.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(_e.EXTENT,e)}setMaxResolution(e){this.set(_e.MAX_RESOLUTION,e)}setMinResolution(e){this.set(_e.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(_e.MAX_ZOOM,e)}setMinZoom(e){this.set(_e.MIN_ZOOM,e)}setOpacity(e){Ee(typeof e=="number","Layer opacity must be a number"),this.set(_e.OPACITY,e)}setVisible(e){this.set(_e.VISIBLE,e)}setZIndex(e){this.set(_e.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const Ct={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class Br extends ah{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(_e.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(_e.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Ce(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=de(e,Q.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof xt?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e,!n.layerStatesArray&&i&&(n.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;if(n.layerStatesArray){if(r=n.layerStatesArray.find(o=>o.layer===this),!r)return!1}else r=this.getLayerState();const s=this.getExtent();return Go(r,n.viewState)&&(!s||zi(s,n.extent))}getAttributions(e){var s;if(!this.isVisible(e))return[];const n=(s=this.getSource())==null?void 0:s.getAttributions();if(!n)return[];const i=e instanceof xt?e.getViewStateAndExtent():e;let r=n(i);return Array.isArray(r)||(r=[r]),r}render(e,n){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){const n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(_e.MAP,e)}getMapInternal(){return this.get(_e.MAP)}setMap(e){this.mapPrecomposeKey_&&(Ce(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Ce(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=de(e,Ct.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=de(this,Q.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const n=e.frameState.layerStatesArray,i=this.getLayerState(!1);Ee(!n.some(r=>r.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(i)}setSource(e){this.set(_e.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function Go(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}function lh(t,e,n=0,i=t.length-1,r=Qg){for(;i>n;){if(i-n>600){const l=i-n+1,c=e-n+1,h=Math.log(l),u=.5*Math.exp(2*h/3),f=.5*Math.sqrt(h*u*(l-u)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(e-c*u/l+f)),d=Math.min(i,Math.floor(e+(l-c)*u/l+f));lh(t,e,g,d,r)}const s=t[e];let o=n,a=i;for(qn(t,n,e),r(t[i],s)>0&&qn(t,n,i);o<a;){for(qn(t,o,a),o++,a--;r(t[o],s)<0;)o++;for(;r(t[a],s)>0;)a--}r(t[n],s)===0?qn(t,n,a):(a++,qn(t,a,i)),a<=e&&(n=a+1),e<=a&&(i=a-1)}}function qn(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function Qg(t,e){return t<e?-1:t>e?1:0}class e_{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const i=[];if(!qi(e,n))return i;const r=this.toBBox,s=[];for(;n;){for(let o=0;o<n.children.length;o++){const a=n.children[o],l=n.leaf?r(a):a;qi(e,l)&&(n.leaf?i.push(a):ps(e,l)?this._all(a,i):s.push(a))}n=s.pop()}return i}collides(e){let n=this.data;if(!qi(e,n))return!1;const i=[];for(;n;){for(let r=0;r<n.children.length;r++){const s=n.children[r],o=n.leaf?this.toBBox(s):s;if(qi(e,o)){if(n.leaf||ps(e,o))return!0;i.push(s)}}n=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=In([]),this}remove(e,n){if(!e)return this;let i=this.data;const r=this.toBBox(e),s=[],o=[];let a,l,c;for(;i||s.length;){if(i||(i=s.pop(),l=s[s.length-1],a=o.pop(),c=!0),i.leaf){const h=t_(e,i.children,n);if(h!==-1)return i.children.splice(h,1),s.push(i),this._condense(s),this}!c&&!i.leaf&&ps(i,r)?(s.push(i),o.push(a),a=0,l=i,i=i.children[0]):l?(a++,i=l.children[a],c=!1):i=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const i=[];for(;e;)e.leaf?n.push(...e.children):i.push(...e.children),e=i.pop();return n}_build(e,n,i,r){const s=i-n+1;let o=this._maxEntries,a;if(s<=o)return a=In(e.slice(n,i+1)),vn(a,this.toBBox),a;r||(r=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,r-1))),a=In([]),a.leaf=!1,a.height=r;const l=Math.ceil(s/o),c=l*Math.ceil(Math.sqrt(o));sl(e,n,i,c,this.compareMinX);for(let h=n;h<=i;h+=c){const u=Math.min(h+c-1,i);sl(e,h,u,l,this.compareMinY);for(let f=h;f<=u;f+=l){const g=Math.min(f+l-1,u);a.children.push(this._build(e,f,g,r-1))}}return vn(a,this.toBBox),a}_chooseSubtree(e,n,i,r){for(;r.push(n),!(n.leaf||r.length-1===i);){let s=1/0,o=1/0,a;for(let l=0;l<n.children.length;l++){const c=n.children[l],h=ms(c),u=r_(e,c)-h;u<o?(o=u,s=h<s?h:s,a=c):u===o&&h<s&&(s=h,a=c)}n=a||n.children[0]}return n}_insert(e,n,i){const r=i?e:this.toBBox(e),s=[],o=this._chooseSubtree(r,this.data,n,s);for(o.children.push(e),ii(o,r);n>=0&&s[n].children.length>this._maxEntries;)this._split(s,n),n--;this._adjustParentBBoxes(r,s,n)}_split(e,n){const i=e[n],r=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,r);const o=this._chooseSplitIndex(i,s,r),a=In(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,vn(i,this.toBBox),vn(a,this.toBBox),n?e[n-1].children.push(a):this._splitRoot(i,a)}_splitRoot(e,n){this.data=In([e,n]),this.data.height=e.height+1,this.data.leaf=!1,vn(this.data,this.toBBox)}_chooseSplitIndex(e,n,i){let r,s=1/0,o=1/0;for(let a=n;a<=i-n;a++){const l=ni(e,0,a,this.toBBox),c=ni(e,a,i,this.toBBox),h=s_(l,c),u=ms(l)+ms(c);h<s?(s=h,r=a,o=u<o?u:o):h===s&&u<o&&(o=u,r=a)}return r||i-n}_chooseSplitAxis(e,n,i){const r=e.leaf?this.compareMinX:n_,s=e.leaf?this.compareMinY:i_,o=this._allDistMargin(e,n,i,r),a=this._allDistMargin(e,n,i,s);o<a&&e.children.sort(r)}_allDistMargin(e,n,i,r){e.children.sort(r);const s=this.toBBox,o=ni(e,0,n,s),a=ni(e,i-n,i,s);let l=$i(o)+$i(a);for(let c=n;c<i-n;c++){const h=e.children[c];ii(o,e.leaf?s(h):h),l+=$i(o)}for(let c=i-n-1;c>=n;c--){const h=e.children[c];ii(a,e.leaf?s(h):h),l+=$i(a)}return l}_adjustParentBBoxes(e,n,i){for(let r=i;r>=0;r--)ii(n[r],e)}_condense(e){for(let n=e.length-1,i;n>=0;n--)e[n].children.length===0?n>0?(i=e[n-1].children,i.splice(i.indexOf(e[n]),1)):this.clear():vn(e[n],this.toBBox)}}function t_(t,e,n){if(!n)return e.indexOf(t);for(let i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function vn(t,e){ni(t,0,t.children.length,e,t)}function ni(t,e,n,i,r){r||(r=In(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s=e;s<n;s++){const o=t.children[s];ii(r,t.leaf?i(o):o)}return r}function ii(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function n_(t,e){return t.minX-e.minX}function i_(t,e){return t.minY-e.minY}function ms(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function $i(t){return t.maxX-t.minX+(t.maxY-t.minY)}function r_(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function s_(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,s-i)}function ps(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function qi(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function In(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function sl(t,e,n,i,r){const s=[e,n];for(;s.length;){if(n=s.pop(),e=s.pop(),n-e<=i)continue;const o=e+Math.ceil((n-e)/i/2)*i;lh(t,o,e,n,r),s.push(e,o,o,n)}}const se={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},Mi={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var De={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};De.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};De.max=De.whitepoint[2].D65;De.rgb=function(t,e){e=e||De.whitepoint[2].E;var n=t[0]/e[0],i=t[1]/e[1],r=t[2]/e[2],s,o,a;return s=n*3.240969941904521+i*-1.537383177570093+r*-.498610760293,o=n*-.96924363628087+i*1.87596750150772+r*.041555057407175,a=n*.055630079696993+i*-.20397695888897+r*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[s*255,o*255,a*255]};Mi.xyz=function(t,e){var n=t[0]/255,i=t[1]/255,r=t[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var s=n*.41239079926595+i*.35758433938387+r*.18048078840183,o=n*.21263900587151+i*.71516867876775+r*.072192315360733,a=n*.019330818715591+i*.11919477979462+r*.95053215224966;return e=e||De.whitepoint[2].E,[s*e[0],o*e[1],a*e[2]]};const Uo={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var i,r,s,o,a,l,c,h,u,f,g,d,p;if(s=t[0],o=t[1],a=t[2],s===0)return[0,0,0];var y=.0011070564598794539;return e=e||"D65",n=n||2,u=De.whitepoint[n][e][0],f=De.whitepoint[n][e][1],g=De.whitepoint[n][e][2],d=4*u/(u+15*f+3*g),p=9*f/(u+15*f+3*g),i=o/(13*s)+d||0,r=a/(13*s)+p||0,c=s>8?f*Math.pow((s+16)/116,3):f*s*y,l=c*9*i/(4*r)||0,h=c*(12-3*i-20*r)/(4*r)||0,[l,c,h]}};De.luv=function(t,e,n){var i,r,s,o,a,l,c,h,u,f,g,d,p,y=.008856451679035631,w=903.2962962962961;e=e||"D65",n=n||2,u=De.whitepoint[n][e][0],f=De.whitepoint[n][e][1],g=De.whitepoint[n][e][2],d=4*u/(u+15*f+3*g),p=9*f/(u+15*f+3*g),l=t[0],c=t[1],h=t[2],i=4*l/(l+15*c+3*h)||0,r=9*c/(l+15*c+3*h)||0;var v=c/f;return s=v<=y?w*v:116*Math.pow(v,1/3)-16,o=13*s*(i-d),a=13*s*(r-p),[s,o,a]};var ch={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e=t[0],n=t[1],i=t[2],r,s,o;return o=i/360*2*Math.PI,r=n*Math.cos(o),s=n*Math.sin(o),[e,r,s]},xyz:function(t){return Uo.xyz(ch.luv(t))}};Uo.lchuv=function(t){var e=t[0],n=t[1],i=t[2],r=Math.sqrt(n*n+i*i),s=Math.atan2(i,n),o=s*360/2/Math.PI;return o<0&&(o+=360),[e,r,o]};De.lchuv=function(t){return Uo.lchuv(De.luv(t))};const ol={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var al={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function o_(t){var h,u;var e,n=[],i=1,r;if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(t=String(t).toLowerCase(),ol[t])n=ol[t].slice(),r="rgb";else if(t==="transparent")i=0,r="rgb",n=[0,0,0];else if(t[0]==="#"){var s=t.slice(1),o=s.length,a=o<=4;i=1,a?(n=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],o===4&&(i=parseInt(s[3]+s[3],16)/255)):(n=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],o===8&&(i=parseInt(s[6]+s[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),r="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var l=e[1];r=l.replace(/a$/,"");var c=r==="cmyk"?4:r==="gray"?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=n.shift()),n=n.map(function(f,g){if(f[f.length-1]==="%")return f=parseFloat(f)/100,g===3?f:r==="rgb"?f*255:r[0]==="h"||r[0]==="l"&&!g?f*100:r==="lab"?f*125:r==="lch"?g<2?f*150:f*360:r[0]==="o"&&!g?f:r==="oklab"?f*.4:r==="oklch"?g<2?f*.4:f*360:f;if(r[g]==="h"||g===2&&r[r.length-1]==="h"){if(al[f]!==void 0)return al[f];if(f.endsWith("deg"))return parseFloat(f);if(f.endsWith("turn"))return parseFloat(f)*360;if(f.endsWith("grad"))return parseFloat(f)*360/400;if(f.endsWith("rad"))return parseFloat(f)*180/Math.PI}return f==="none"?0:parseFloat(f)}),i=n.length>c?n.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(n=t.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),r=((u=(h=t.match(/([a-z])/ig))==null?void 0:h.join(""))==null?void 0:u.toLowerCase())||"rgb");return{space:r,values:n,alpha:i}}const Es={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100,r,s,o,a,l,c=0;if(n===0)return l=i*255,[l,l,l];for(s=i<.5?i*(1+n):i+n-i*n,r=2*i-s,a=[0,0,0];c<3;)o=e+1/3*-(c-1),o<0?o++:o>1&&o--,l=6*o<1?r+(s-r)*6*o:2*o<1?s:3*o<2?r+(s-r)*(2/3-o)*6:r,a[c++]=l*255;return a}};Mi.hsl=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255,r=Math.min(e,n,i),s=Math.max(e,n,i),o=s-r,a,l,c;return s===r?a=0:e===s?a=(n-i)/o:n===s?a=2+(i-e)/o:i===s&&(a=4+(e-n)/o),a=Math.min(a*60,360),a<0&&(a+=360),c=(r+s)/2,s===r?l=0:c<=.5?l=o/(s+r):l=o/(2-s-r),[a,l*100,c*100]};function a_(t){Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var e,n=o_(t);if(!n.space)return[];const i=n.space[0]==="h"?Es.min:Mi.min,r=n.space[0]==="h"?Es.max:Mi.max;return e=Array(3),e[0]=Math.min(Math.max(n.values[0],i[0]),r[0]),e[1]=Math.min(Math.max(n.values[1],i[1]),r[1]),e[2]=Math.min(Math.max(n.values[2],i[2]),r[2]),n.space[0]==="h"&&(e=Es.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}const Xo=[NaN,NaN,NaN,0];function l_(t){return typeof t=="string"?t:jo(t)}const c_=1024,Jn={};let ys=0;function h_(t){if(t.length===4)return t;const e=t.slice();return e[3]=1,e}function ll(t){const e=De.lchuv(Mi.xyz(t));return e[3]=t[3],e}function u_(t){const e=De.rgb(ch.xyz(t));return e[3]=t[3],e}function Ko(t){if(t==="none")return Xo;if(Jn.hasOwnProperty(t))return Jn[t];if(ys>=c_){let n=0;for(const i in Jn)n++&3||(delete Jn[i],--ys)}const e=a_(t);if(e.length!==4)throw new Error('failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('failed to parse "'+t+'" as color');return hh(e),Jn[t]=e,++ys,e}function Yn(t){return Array.isArray(t)?t:Ko(t)}function hh(t){return t[0]=Ae(t[0]+.5|0,0,255),t[1]=Ae(t[1]+.5|0,0,255),t[2]=Ae(t[2]+.5|0,0,255),t[3]=Ae(t[3],0,1),t}function jo(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let i=t[2];i!=(i|0)&&(i=i+.5|0);const r=t[3]===void 0?1:Math.round(t[3]*1e3)/1e3;return"rgba("+e+","+n+","+i+","+r+")"}const qt=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",f_=qt.includes("firefox"),d_=qt.includes("safari")&&!qt.includes("chrom");d_&&(qt.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(qt));const g_=qt.includes("webkit")&&!qt.includes("edge"),uh=qt.includes("macintosh"),fh=typeof devicePixelRatio<"u"?devicePixelRatio:1,dh=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,gh=typeof Image<"u"&&Image.prototype.decode,_h=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();function Be(t,e,n,i){let r;return n&&n.length?r=n.shift():dh?r=new OffscreenCanvas(t||300,e||300):r=document.createElement("canvas"),t&&(r.width=t),e&&(r.height=e),r.getContext("2d",i)}let vs;function Er(){return vs||(vs=Be(1,1)),vs}function Yo(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function cl(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function __(t){for(;t.lastChild;)t.lastChild.remove()}function m_(t,e){const n=t.childNodes;for(let i=0;;++i){const r=n[i],s=e[i];if(!r&&!s)break;if(r!==s){if(!r){t.appendChild(s);continue}if(!s){t.removeChild(r),--i;continue}t.insertBefore(s,r)}}}function p_(t,e,n){const i=t;let r=!0,s=!1,o=!1;const a=[dr(i,Q.LOAD,function(){o=!0,s||e()})];return i.src&&gh?(s=!0,i.decode().then(function(){r&&e()}).catch(function(l){r&&(o?e():n())})):a.push(dr(i,Q.ERROR,n)),function(){r=!1,a.forEach(Ce)}}function E_(t,e){return new Promise((n,i)=>{function r(){o(),n(t)}function s(){o(),i(new Error("Image load error"))}function o(){t.removeEventListener("load",r),t.removeEventListener("error",s)}t.addEventListener("load",r),t.addEventListener("error",s)})}function y_(t,e){return e&&(t.src=e),t.src&&gh?new Promise((n,i)=>t.decode().then(()=>n(t)).catch(r=>t.complete&&t.width?n(t):i(r))):E_(t)}class v_{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const i=this.cache_[n];!(e++&3)&&!i.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(e,n,i){const r=ws(e,n,i);return r in this.cache_?this.cache_[r]:null}getPattern(e,n,i){const r=ws(e,n,i);return r in this.patternCache_?this.patternCache_[r]:null}set(e,n,i,r,s){const o=ws(e,n,i),a=o in this.cache_;this.cache_[o]=r,s&&(r.getImageState()===se.IDLE&&r.load(),r.getImageState()===se.LOADING?r.ready().then(()=>{this.patternCache_[o]=Er().createPattern(r.getImage(1),"repeat")}):this.patternCache_[o]=Er().createPattern(r.getImage(1),"repeat")),a||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function ws(t,e,n){const i=n?Yn(n):"null";return e+":"+t+":"+i}const ct=new v_;let Qn=null;class mh extends zr{constructor(e,n,i,r,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=s,this.imageState_=r===void 0?se.IDLE:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===se.LOADED){Qn||(Qn=Be(1,1,void 0,{willReadFrequently:!0})),Qn.drawImage(this.image_,0,0);try{Qn.getImageData(0,0,1,1),this.tainted_=!1}catch{Qn=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Q.CHANGE)}handleImageError_(){this.imageState_=se.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=se.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],i=Be(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===se.IDLE){this.image_||this.initializeImage_(),this.imageState_=se.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&y_(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==se.LOADED)return;const n=this.image_,i=Be(Math.ceil(n.width*e),Math.ceil(n.height*e)),r=i.canvas;i.scale(e,e),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=l_(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[e]=r}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===se.LOADED||this.imageState_===se.ERROR)e();else{const n=()=>{(this.imageState_===se.LOADED||this.imageState_===se.ERROR)&&(this.removeEventListener(Q.CHANGE,n),e())};this.addEventListener(Q.CHANGE,n)}})),this.ready_}}function Bo(t,e,n,i,r,s){let o=e===void 0?void 0:ct.get(e,n,r);return o||(o=new mh(t,t&&"src"in t?t.src||void 0:e,n,i,r),ct.set(e,n,r,o,s)),s&&o&&!ct.getPattern(e,n,r)&&ct.set(e,n,r,o,s),o}function hl(t){return t[0]>0&&t[1]>0}function w_(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function qe(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class Vr{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=qe(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Vr({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return ce()}getImage(e){return ce()}getHitDetectionImage(){return ce()}getPixelRatio(e){return 1}getImageState(){return ce()}getImageSize(){return ce()}getOrigin(){return ce()}getSize(){return ce()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=qe(e)}listenImageChange(e){ce()}load(){ce()}unlistenImageChange(e){ce()}ready(){return Promise.resolve()}}function ul(t){return t?Array.isArray(t)?jo(t):typeof t=="object"&&"src"in t?T_(t):t:null}function T_(t){if(!t.offset||!t.size)return ct.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=ct.getPattern(e,void 0,t.color);if(n)return n;const i=ct.get(t.src,"anonymous",null);if(i.getImageState()!==se.LOADED)return null;const r=Be(t.size[0],t.size[1]);return r.drawImage(i.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),Bo(r.canvas,e,void 0,se.LOADED,t.color,!0),ct.getPattern(e,void 0,t.color)}const Ji="ol-hidden",Wr="ol-unselectable",Vo="ol-control",fl="ol-collapsed",dl="#000",gl="round",_l="round",R_=10,x_="#000",C_=1,b_=new kt;class Zr extends Vr{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?se.LOADING:se.LOADED,this.imageState_===se.LOADING&&this.ready().then(()=>this.imageState_=se.LOADED),this.render()}clone(){const e=this.getScale(),n=new Zr({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_,n=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-n[0]/i[0],e[1]/2+n[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){var s,o;const n=(s=this.fill_)==null?void 0:s.getKey(),i=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(",");let r=(o=ct.get(i,null,null))==null?void 0:o.getImage(1);if(!r){const a=this.renderOptions_,l=Math.ceil(a.size*e),c=Be(l,l);this.draw_(a,c,e),r=c.canvas,ct.set(i,null,null,new mh(r,void 0,null,se.LOADED,null))}return r}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,i){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let r=this.radius,s=this.radius2_===void 0?r:this.radius2_;if(r<s){const N=r;r=s,s=N}const o=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/o,l=s*Math.sin(a),c=Math.sqrt(s*s-l*l),h=r-c,u=Math.sqrt(l*l+h*h),f=u/l;if(e==="miter"&&f<=i)return f*n;const g=n/2/f,d=n/2*(h/u),y=Math.sqrt((r+g)*(r+g)+d*d)-r;if(this.radius2_===void 0||e==="bevel")return y*2;const w=r*Math.sin(a),v=Math.sqrt(r*r-w*w),M=s-v,T=Math.sqrt(w*w+M*M)/w;if(T<=i){const N=T*n/2-s-r;return 2*Math.max(y,N)}return y*2}createRenderOptions(){let e=gl,n=_l,i=0,r=null,s=0,o,a=0;this.stroke_&&(o=ul(this.stroke_.getColor()??x_),a=this.stroke_.getWidth()??C_,r=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??_l,e=this.stroke_.getLineCap()??gl,i=this.stroke_.getMiterLimit()??R_);const l=this.calculateLineJoinSize_(n,a,i),c=Math.max(this.radius,this.radius2_||0),h=Math.ceil(2*c+l);return{strokeStyle:o,strokeWidth:a,size:h,lineCap:e,lineDash:r,lineDashOffset:s,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,i){if(n.scale(i,i),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let r=this.fill_.getColor();r===null&&(r=dl),n.fillStyle=ul(r),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=Yn(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(n=Be(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_;const i=this.radius;if(n===1/0)e.arc(0,0,i,0,2*Math.PI);else{const r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);const s=this.angle_-Math.PI/2,o=2*Math.PI/n;for(let a=0;a<n;a++){const l=s+a*o,c=a%2===0?i:r;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=dl,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class Hr extends Zr{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new Hr({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius=e,this.render()}}class ki{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new ki({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const n=Bo(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===se.IDLE&&n.load(),n.getImageState()===se.LOADING&&(this.patternImage_=n)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?ke(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:Yn(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class $r{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new $r({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class dn{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=ml,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new dn({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=ml,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function I_(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(Ee(typeof t.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}let Ts=null;function ph(t,e){if(!Ts){const n=new ki({color:"rgba(255,255,255,0.4)"}),i=new $r({color:"#3399CC",width:1.25});Ts=[new dn({image:new Hr({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return Ts}function ml(t){return t.getGeometry()}function pl(t,e,n,i){return n!==void 0&&i!==void 0?[n/t,i/e]:n!==void 0?n/t:i!==void 0?i/e:1}class Wo extends Vr{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:i,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const o=e.img!==void 0?e.img:null;let a=e.src;Ee(!(a!==void 0&&o),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&o&&(a=o.src||ke(o)),Ee(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),Ee(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=se.IDLE:o!==void 0&&("complete"in o?o.complete?l=o.src?se.LOADED:se.IDLE:l=se.LOADING:l=se.LOADED),this.color_=e.color!==void 0?Yn(e.color):null,this.iconImage_=Bo(o,a,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let c,h;if(e.size)[c,h]=e.size;else{const u=this.getImage(1);if(u.width&&u.height)c=u.width,h=u.height;else if(u instanceof HTMLImageElement){this.initialOptions_=e;const f=()=>{if(this.unlistenImageChange(f),!this.initialOptions_)return;const g=this.iconImage_.getSize();this.setScale(pl(g[0],g[1],e.width,e.height))};this.listenImageChange(f);return}}c!==void 0&&this.setScale(pl(c,h,e.width,e.height))}}clone(){let e,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new Wo({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),i=this.getScaleArray();return[e[0]-n[0]/i[0],e[1]+n[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==se.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==se.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Q.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Q.CHANGE,e)}ready(){return this.iconImage_.ready()}}const A_="#333";class Zo{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=qe(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new ki({color:A_}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Zo({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=qe(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}let mn=0;const Ke=1<<mn++,re=1<<mn++,He=1<<mn++,dt=1<<mn++,gn=1<<mn++,ri=1<<mn++,Qi=Math.pow(2,mn)-1,Ho={[Ke]:"boolean",[re]:"number",[He]:"string",[dt]:"color",[gn]:"number[]",[ri]:"size"},M_=Object.keys(Ho).map(Number).sort(To);function S_(t){return t in Ho}function si(t){const e=[];for(const n of M_)oi(t,n)&&e.push(Ho[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function oi(t,e){return(t&e)===e}function Xt(t,e){return t===e}class Se{constructor(e,n){if(!S_(e))throw new Error(`literal expressions must have a specific type, got ${si(e)}`);this.type=e,this.value=n}}class L_{constructor(e,n,...i){this.type=e,this.operator=n,this.args=i}}function Eh(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function Fe(t,e,n){switch(typeof t){case"boolean":{if(Xt(e,He))return new Se(He,t?"true":"false");if(!oi(e,Ke))throw new Error(`got a boolean, but expected ${si(e)}`);return new Se(Ke,t)}case"number":{if(Xt(e,ri))return new Se(ri,qe(t));if(Xt(e,Ke))return new Se(Ke,!!t);if(Xt(e,He))return new Se(He,t.toString());if(!oi(e,re))throw new Error(`got a number, but expected ${si(e)}`);return new Se(re,t)}case"string":{if(Xt(e,dt))return new Se(dt,Ko(t));if(Xt(e,Ke))return new Se(Ke,!!t);if(!oi(e,He))throw new Error(`got a string, but expected ${si(e)}`);return new Se(He,t)}}if(!Array.isArray(t))throw new Error("expression must be an array or a primitive value");if(t.length===0)throw new Error("empty expression");if(typeof t[0]=="string")return K_(t,e,n);for(const i of t)if(typeof i!="number")throw new Error("expected an array of numbers");if(Xt(e,ri)){if(t.length!==2)throw new Error(`expected an array of two values for a size, got ${t.length}`);return new Se(ri,t)}if(Xt(e,dt)){if(t.length===3)return new Se(dt,[...t,1]);if(t.length===4)return new Se(dt,t);throw new Error(`expected an array of 3 or 4 values for a color, got ${t.length}`)}if(!oi(e,gn))throw new Error(`got an array of numbers, but expected ${si(e)}`);return new Se(gn,t)}const x={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},P_={[x.Get]:W(J(1,1/0),El),[x.Var]:W(J(1,1),O_),[x.Has]:W(J(1,1/0),El),[x.Id]:W(D_,wn),[x.Concat]:W(J(2,1/0),he(He)),[x.GeometryType]:W(F_,wn),[x.LineMetric]:W(wn),[x.Resolution]:W(wn),[x.Zoom]:W(wn),[x.Time]:W(wn),[x.Any]:W(J(2,1/0),he(Ke)),[x.All]:W(J(2,1/0),he(Ke)),[x.Not]:W(J(1,1),he(Ke)),[x.Equal]:W(J(2,2),he(Qi)),[x.NotEqual]:W(J(2,2),he(Qi)),[x.GreaterThan]:W(J(2,2),he(re)),[x.GreaterThanOrEqualTo]:W(J(2,2),he(re)),[x.LessThan]:W(J(2,2),he(re)),[x.LessThanOrEqualTo]:W(J(2,2),he(re)),[x.Multiply]:W(J(2,1/0),yl),[x.Coalesce]:W(J(2,1/0),yl),[x.Divide]:W(J(2,2),he(re)),[x.Add]:W(J(2,1/0),he(re)),[x.Subtract]:W(J(2,2),he(re)),[x.Clamp]:W(J(3,3),he(re)),[x.Mod]:W(J(2,2),he(re)),[x.Pow]:W(J(2,2),he(re)),[x.Abs]:W(J(1,1),he(re)),[x.Floor]:W(J(1,1),he(re)),[x.Ceil]:W(J(1,1),he(re)),[x.Round]:W(J(1,1),he(re)),[x.Sin]:W(J(1,1),he(re)),[x.Cos]:W(J(1,1),he(re)),[x.Atan]:W(J(1,2),he(re)),[x.Sqrt]:W(J(1,1),he(re)),[x.Match]:W(J(4,1/0),vl,z_),[x.Between]:W(J(3,3),he(re)),[x.Interpolate]:W(J(6,1/0),vl,k_),[x.Case]:W(J(3,1/0),N_,G_),[x.In]:W(J(2,2),U_),[x.Number]:W(J(1,1/0),he(Qi)),[x.String]:W(J(1,1/0),he(Qi)),[x.Array]:W(J(1,1/0),he(re)),[x.Color]:W(J(1,4),he(re)),[x.Band]:W(J(1,3),he(re)),[x.Palette]:W(J(2,2),X_),[x.ToString]:W(J(1,1),he(Ke|re|He|dt))};function El(t,e,n){const i=t.length-1,r=new Array(i);for(let s=0;s<i;++s){const o=t[s+1];switch(typeof o){case"number":{r[s]=new Se(re,o);break}case"string":{r[s]=new Se(He,o);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${o}`)}s===0&&n.properties.add(String(o))}return r}function O_(t,e,n){const i=t[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return n.variables.add(i),[new Se(He,i)]}function D_(t,e,n){n.featureId=!0}function F_(t,e,n){n.geometryType=!0}function wn(t,e,n){const i=t[0];if(t.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function J(t,e){return function(n,i,r){const s=n[0],o=n.length-1;if(t===e){if(o!==t){const a=t===1?"":"s";throw new Error(`expected ${t} argument${a} for ${s}, got ${o}`)}}else if(o<t||o>e){const a=e===1/0?`${t} or more`:`${t} to ${e}`;throw new Error(`expected ${a} arguments for ${s}, got ${o}`)}}}function yl(t,e,n){const i=t.length-1,r=new Array(i);for(let s=0;s<i;++s){const o=Fe(t[s+1],e,n);r[s]=o}return r}function he(t){return function(e,n,i){const r=e.length-1,s=new Array(r);for(let o=0;o<r;++o){const a=Fe(e[o+1],t,i);s[o]=a}return s}}function N_(t,e,n){const i=t[0],r=t.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function vl(t,e,n){const i=t[0],r=t.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function z_(t,e,n){const i=t.length-1,r=He|re|Ke,s=Fe(t[1],r,n),o=Fe(t[t.length-1],e,n),a=new Array(i-2);for(let l=0;l<i-2;l+=2){try{const c=Fe(t[l+2],s.type,n);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+1} of match expression: ${c.message}`)}try{const c=Fe(t[l+3],o.type,n);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+2} of match expression: ${c.message}`)}}return[s,...a,o]}function k_(t,e,n){const i=t[1];let r;switch(i[0]){case"linear":r=1;break;case"exponential":const l=i[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);r=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const s=new Se(re,r);let o;try{o=Fe(t[2],re,n)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}const a=new Array(t.length-3);for(let l=0;l<a.length;l+=2){try{const c=Fe(t[l+3],re,n);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${c.message}`)}try{const c=Fe(t[l+4],e,n);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${c.message}`)}}return[s,o,...a]}function G_(t,e,n){const i=Fe(t[t.length-1],e,n),r=new Array(t.length-1);for(let s=0;s<r.length-1;s+=2){try{const o=Fe(t[s+1],Ke,n);r[s]=o}catch(o){throw new Error(`failed to parse argument ${s} of case expression: ${o.message}`)}try{const o=Fe(t[s+2],i.type,n);r[s+1]=o}catch(o){throw new Error(`failed to parse argument ${s+1} of case expression: ${o.message}`)}}return r[r.length-1]=i,r}function U_(t,e,n){let i=t[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=He}else r=re;const s=new Array(i.length);for(let a=0;a<s.length;a++)try{const l=Fe(i[a],r,n);s[a]=l}catch(l){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${l.message}`)}return[Fe(t[1],r,n),...s]}function X_(t,e,n){let i;try{i=Fe(t[1],re,n)}catch(o){throw new Error(`failed to parse first argument in palette expression: ${o.message}`)}const r=t[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const s=new Array(r.length);for(let o=0;o<s.length;o++){let a;try{a=Fe(r[o],dt,n)}catch(l){throw new Error(`failed to parse color at index ${o} in palette expression: ${l.message}`)}if(!(a instanceof Se))throw new Error(`the palette color at index ${o} must be a literal value`);s[o]=a}return[i,...s]}function W(...t){return function(e,n,i){const r=e[0];let s;for(let o=0;o<t.length;o++){const a=t[o](e,n,i);if(o==t.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");s=a}}return new L_(n,r,...s)}}function K_(t,e,n){const i=t[0],r=P_[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(t,e,n)}function yh(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return yh(t.getGeometries()[0]);default:return""}}function vh(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Gt(t,e,n){const i=Fe(t,e,n);return pt(i)}function pt(t,e){if(t instanceof Se){if(t.type===dt&&typeof t.value=="string"){const i=Ko(t.value);return function(){return i}}return function(){return t.value}}const n=t.operator;switch(n){case x.Number:case x.String:case x.Coalesce:return j_(t);case x.Get:case x.Var:case x.Has:return Y_(t);case x.Id:return i=>i.featureId;case x.GeometryType:return i=>i.geometryType;case x.Concat:{const i=t.args.map(r=>pt(r));return r=>"".concat(...i.map(s=>s(r).toString()))}case x.Resolution:return i=>i.resolution;case x.Any:case x.All:case x.Between:case x.In:case x.Not:return V_(t);case x.Equal:case x.NotEqual:case x.LessThan:case x.LessThanOrEqualTo:case x.GreaterThan:case x.GreaterThanOrEqualTo:return B_(t);case x.Multiply:case x.Divide:case x.Add:case x.Subtract:case x.Clamp:case x.Mod:case x.Pow:case x.Abs:case x.Floor:case x.Ceil:case x.Round:case x.Sin:case x.Cos:case x.Atan:case x.Sqrt:return W_(t);case x.Case:return Z_(t);case x.Match:return H_(t);case x.Interpolate:return $_(t);case x.ToString:return q_(t);default:throw new Error(`Unsupported operator ${n}`)}}function j_(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=pt(t.args[s]);switch(n){case x.Coalesce:return s=>{for(let o=0;o<i;++o){const a=r[o](s);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case x.Number:case x.String:return s=>{for(let o=0;o<i;++o){const a=r[o](s);if(typeof a===n)return a}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function Y_(t,e){const i=t.args[0].value;switch(t.operator){case x.Get:return r=>{const s=t.args;let o=r.properties[i];for(let a=1,l=s.length;a<l;++a){const h=s[a].value;o=o[h]}return o};case x.Var:return r=>r.variables[i];case x.Has:return r=>{const s=t.args;if(!(i in r.properties))return!1;let o=r.properties[i];for(let a=1,l=s.length;a<l;++a){const h=s[a].value;if(!o||!Object.hasOwn(o,h))return!1;o=o[h]}return!0};default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}function B_(t,e){const n=t.operator,i=pt(t.args[0]),r=pt(t.args[1]);switch(n){case x.Equal:return s=>i(s)===r(s);case x.NotEqual:return s=>i(s)!==r(s);case x.LessThan:return s=>i(s)<r(s);case x.LessThanOrEqualTo:return s=>i(s)<=r(s);case x.GreaterThan:return s=>i(s)>r(s);case x.GreaterThanOrEqualTo:return s=>i(s)>=r(s);default:throw new Error(`Unsupported comparison operator ${n}`)}}function V_(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=pt(t.args[s]);switch(n){case x.Any:return s=>{for(let o=0;o<i;++o)if(r[o](s))return!0;return!1};case x.All:return s=>{for(let o=0;o<i;++o)if(!r[o](s))return!1;return!0};case x.Between:return s=>{const o=r[0](s),a=r[1](s),l=r[2](s);return o>=a&&o<=l};case x.In:return s=>{const o=r[0](s);for(let a=1;a<i;++a)if(o===r[a](s))return!0;return!1};case x.Not:return s=>!r[0](s);default:throw new Error(`Unsupported logical operator ${n}`)}}function W_(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=pt(t.args[s]);switch(n){case x.Multiply:return s=>{let o=1;for(let a=0;a<i;++a)o*=r[a](s);return o};case x.Divide:return s=>r[0](s)/r[1](s);case x.Add:return s=>{let o=0;for(let a=0;a<i;++a)o+=r[a](s);return o};case x.Subtract:return s=>r[0](s)-r[1](s);case x.Clamp:return s=>{const o=r[0](s),a=r[1](s);if(o<a)return a;const l=r[2](s);return o>l?l:o};case x.Mod:return s=>r[0](s)%r[1](s);case x.Pow:return s=>Math.pow(r[0](s),r[1](s));case x.Abs:return s=>Math.abs(r[0](s));case x.Floor:return s=>Math.floor(r[0](s));case x.Ceil:return s=>Math.ceil(r[0](s));case x.Round:return s=>Math.round(r[0](s));case x.Sin:return s=>Math.sin(r[0](s));case x.Cos:return s=>Math.cos(r[0](s));case x.Atan:return i===2?s=>Math.atan2(r[0](s),r[1](s)):s=>Math.atan(r[0](s));case x.Sqrt:return s=>Math.sqrt(r[0](s));default:throw new Error(`Unsupported numeric operator ${n}`)}}function Z_(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=pt(t.args[r]);return r=>{for(let s=0;s<n-1;s+=2)if(i[s](r))return i[s+1](r);return i[n-1](r)}}function H_(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=pt(t.args[r]);return r=>{const s=i[0](r);for(let o=1;o<n;o+=2)if(s===i[o](r))return i[o+1](r);return i[n-1](r)}}function $_(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=pt(t.args[r]);return r=>{const s=i[0](r),o=i[1](r);let a,l;for(let c=2;c<n;c+=2){const h=i[c](r);let u=i[c+1](r);const f=Array.isArray(u);if(f&&(u=h_(u)),h>=o)return c===2?u:f?J_(s,o,a,l,h,u):ai(s,o,a,l,h,u);a=h,l=u}return l}}function q_(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=pt(t.args[s]);switch(n){case x.ToString:return s=>{const o=r[0](s);return t.args[0].type===dt?jo(o):o.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function ai(t,e,n,i,r,s){const o=r-n;if(o===0)return i;const a=e-n,l=t===1?a/o:(Math.pow(t,a)-1)/(Math.pow(t,o)-1);return i+l*(s-i)}function J_(t,e,n,i,r,s){if(r-n===0)return i;const a=ll(i),l=ll(s);let c=l[2]-a[2];c>180?c-=360:c<-180&&(c+=360);const h=[ai(t,e,n,a[0],r,l[0]),ai(t,e,n,a[1],r,l[1]),a[2]+ai(t,e,n,0,r,c),ai(t,e,n,i[3],r,s[3])];return hh(u_(h))}function Q_(t){return!0}function em(t){const e=Eh(),n=tm(t,e),i=vh();return function(r,s){if(i.properties=r.getPropertiesInternal(),i.resolution=s,e.featureId){const o=r.getId();o!==void 0?i.featureId=o:i.featureId=null}return e.geometryType&&(i.geometryType=yh(r.getGeometry())),n(i)}}function wl(t){const e=Eh(),n=t.length,i=new Array(n);for(let o=0;o<n;++o)i[o]=Zs(t[o],e);const r=vh(),s=new Array(n);return function(o,a){if(r.properties=o.getPropertiesInternal(),r.resolution=a,e.featureId){const c=o.getId();c!==void 0?r.featureId=c:r.featureId=null}let l=0;for(let c=0;c<n;++c){const h=i[c](r);h&&(s[l]=h,l+=1)}return s.length=l,s}}function tm(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r){const s=t[r],o="filter"in s?Gt(s.filter,Ke,e):Q_;let a;if(Array.isArray(s.style)){const l=s.style.length;a=new Array(l);for(let c=0;c<l;++c)a[c]=Zs(s.style[c],e)}else a=[Zs(s.style,e)];i[r]={filter:o,styles:a}}return function(r){const s=[];let o=!1;for(let a=0;a<n;++a){const l=i[a].filter;if(l(r)&&!(t[a].else&&o)){o=!0;for(const c of i[a].styles){const h=c(r);h&&s.push(h)}}}return s}}function Zs(t,e){const n=Si(t,"",e),i=Li(t,"",e),r=nm(t,e),s=im(t,e),o=$e(t,"z-index",e);if(!n&&!i&&!r&&!s&&!Fc(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const a=new dn;return function(l){let c=!0;if(n){const h=n(l);h&&(c=!1),a.setFill(h)}if(i){const h=i(l);h&&(c=!1),a.setStroke(h)}if(r){const h=r(l);h&&(c=!1),a.setText(h)}if(s){const h=s(l);h&&(c=!1),a.setImage(h)}return o&&a.setZIndex(o(l)),c?null:a}}function Si(t,e,n){let i;if(e+"fill-pattern-src"in t)i=am(t,e+"fill-",n);else{if(t[e+"fill-color"]==="none")return s=>null;i=$o(t,e+"fill-color",n)}if(!i)return null;const r=new ki;return function(s){const o=i(s);return o===Xo?null:(r.setColor(o),r)}}function Li(t,e,n){const i=$e(t,e+"stroke-width",n),r=$o(t,e+"stroke-color",n);if(!i&&!r)return null;const s=Ot(t,e+"stroke-line-cap",n),o=Ot(t,e+"stroke-line-join",n),a=wh(t,e+"stroke-line-dash",n),l=$e(t,e+"stroke-line-dash-offset",n),c=$e(t,e+"stroke-miter-limit",n),h=new $r;return function(u){if(r){const f=r(u);if(f===Xo)return null;h.setColor(f)}if(i&&h.setWidth(i(u)),s){const f=s(u);if(f!=="butt"&&f!=="round"&&f!=="square")throw new Error("Expected butt, round, or square line cap");h.setLineCap(f)}if(o){const f=o(u);if(f!=="bevel"&&f!=="round"&&f!=="miter")throw new Error("Expected bevel, round, or miter line join");h.setLineJoin(f)}return a&&h.setLineDash(a(u)),l&&h.setLineDashOffset(l(u)),c&&h.setMiterLimit(c(u)),h}}function nm(t,e){const n="text-",i=Ot(t,n+"value",e);if(!i)return null;const r=Si(t,n,e),s=Si(t,n+"background-",e),o=Li(t,n,e),a=Li(t,n+"background-",e),l=Ot(t,n+"font",e),c=$e(t,n+"max-angle",e),h=$e(t,n+"offset-x",e),u=$e(t,n+"offset-y",e),f=kn(t,n+"overflow",e),g=Ot(t,n+"placement",e),d=$e(t,n+"repeat",e),p=qr(t,n+"scale",e),y=kn(t,n+"rotate-with-view",e),w=$e(t,n+"rotation",e),v=Ot(t,n+"align",e),M=Ot(t,n+"justify",e),E=Ot(t,n+"baseline",e),T=kn(t,n+"keep-upright",e),N=wh(t,n+"padding",e),X=Jr(t,n+"declutter-mode"),D=new Zo({declutterMode:X});return function(k){if(D.setText(i(k)),r&&D.setFill(r(k)),s&&D.setBackgroundFill(s(k)),o&&D.setStroke(o(k)),a&&D.setBackgroundStroke(a(k)),l&&D.setFont(l(k)),c&&D.setMaxAngle(c(k)),h&&D.setOffsetX(h(k)),u&&D.setOffsetY(u(k)),f&&D.setOverflow(f(k)),g){const L=g(k);if(L!=="point"&&L!=="line")throw new Error("Expected point or line for text-placement");D.setPlacement(L)}if(d&&D.setRepeat(d(k)),p&&D.setScale(p(k)),y&&D.setRotateWithView(y(k)),w&&D.setRotation(w(k)),v){const L=v(k);if(L!=="left"&&L!=="center"&&L!=="right"&&L!=="end"&&L!=="start")throw new Error("Expected left, right, center, start, or end for text-align");D.setTextAlign(L)}if(M){const L=M(k);if(L!=="left"&&L!=="right"&&L!=="center")throw new Error("Expected left, right, or center for text-justify");D.setJustify(L)}if(E){const L=E(k);if(L!=="bottom"&&L!=="top"&&L!=="middle"&&L!=="alphabetic"&&L!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");D.setTextBaseline(L)}return N&&D.setPadding(N(k)),T&&D.setKeepUpright(T(k)),D}}function im(t,e){return"icon-src"in t?rm(t,e):"shape-points"in t?sm(t,e):"circle-radius"in t?om(t,e):null}function rm(t,e){const n="icon-",i=n+"src",r=Th(t[i],i),s=yr(t,n+"anchor",e),o=qr(t,n+"scale",e),a=$e(t,n+"opacity",e),l=yr(t,n+"displacement",e),c=$e(t,n+"rotation",e),h=kn(t,n+"rotate-with-view",e),u=Rl(t,n+"anchor-origin"),f=xl(t,n+"anchor-x-units"),g=xl(t,n+"anchor-y-units"),d=um(t,n+"color"),p=cm(t,n+"cross-origin"),y=hm(t,n+"offset"),w=Rl(t,n+"offset-origin"),v=vr(t,n+"width"),M=vr(t,n+"height"),E=lm(t,n+"size"),T=Jr(t,n+"declutter-mode"),N=new Wo({src:r,anchorOrigin:u,anchorXUnits:f,anchorYUnits:g,color:d,crossOrigin:p,offset:y,offsetOrigin:w,height:M,width:v,size:E,declutterMode:T});return function(X){return a&&N.setOpacity(a(X)),l&&N.setDisplacement(l(X)),c&&N.setRotation(c(X)),h&&N.setRotateWithView(h(X)),o&&N.setScale(o(X)),s&&N.setAnchor(s(X)),N}}function sm(t,e){const n="shape-",i=n+"points",r=n+"radius",s=Hs(t[i],i),o=Hs(t[r],r),a=Si(t,n,e),l=Li(t,n,e),c=qr(t,n+"scale",e),h=yr(t,n+"displacement",e),u=$e(t,n+"rotation",e),f=kn(t,n+"rotate-with-view",e),g=vr(t,n+"radius2"),d=vr(t,n+"angle"),p=Jr(t,n+"declutter-mode"),y=new Zr({points:s,radius:o,radius2:g,angle:d,declutterMode:p});return function(w){return a&&y.setFill(a(w)),l&&y.setStroke(l(w)),h&&y.setDisplacement(h(w)),u&&y.setRotation(u(w)),f&&y.setRotateWithView(f(w)),c&&y.setScale(c(w)),y}}function om(t,e){const n="circle-",i=Si(t,n,e),r=Li(t,n,e),s=$e(t,n+"radius",e),o=qr(t,n+"scale",e),a=yr(t,n+"displacement",e),l=$e(t,n+"rotation",e),c=kn(t,n+"rotate-with-view",e),h=Jr(t,n+"declutter-mode"),u=new Hr({radius:5,declutterMode:h});return function(f){return s&&u.setRadius(s(f)),i&&u.setFill(i(f)),r&&u.setStroke(r(f)),a&&u.setDisplacement(a(f)),l&&u.setRotation(l(f)),c&&u.setRotateWithView(c(f)),o&&u.setScale(o(f)),u}}function $e(t,e,n){if(!(e in t))return;const i=Gt(t[e],re,n);return function(r){return Hs(i(r),e)}}function Ot(t,e,n){if(!(e in t))return null;const i=Gt(t[e],He,n);return function(r){return Th(i(r),e)}}function am(t,e,n){const i=Ot(t,e+"pattern-src",n),r=Tl(t,e+"pattern-offset",n),s=Tl(t,e+"pattern-size",n),o=$o(t,e+"color",n);return function(a){return{src:i(a),offset:r&&r(a),size:s&&s(a),color:o&&o(a)}}}function kn(t,e,n){if(!(e in t))return null;const i=Gt(t[e],Ke,n);return function(r){const s=i(r);if(typeof s!="boolean")throw new Error(`Expected a boolean for ${e}`);return s}}function $o(t,e,n){if(!(e in t))return null;const i=Gt(t[e],dt,n);return function(r){return Rh(i(r),e)}}function wh(t,e,n){if(!(e in t))return null;const i=Gt(t[e],gn,n);return function(r){return Gi(i(r),e)}}function yr(t,e,n){if(!(e in t))return null;const i=Gt(t[e],gn,n);return function(r){const s=Gi(i(r),e);if(s.length!==2)throw new Error(`Expected two numbers for ${e}`);return s}}function Tl(t,e,n){if(!(e in t))return null;const i=Gt(t[e],gn,n);return function(r){return xh(i(r),e)}}function qr(t,e,n){if(!(e in t))return null;const i=Gt(t[e],gn|re,n);return function(r){return fm(i(r),e)}}function vr(t,e){const n=t[e];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}}function lm(t,e){const n=t[e];if(n!==void 0){if(typeof n=="number")return qe(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return n}}function cm(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}}function Rl(t,e){const n=t[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function xl(t,e){const n=t[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return n}}function hm(t,e){const n=t[e];if(n!==void 0)return Gi(n,e)}function Jr(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function um(t,e){const n=t[e];if(n!==void 0)return Rh(n,e)}function Gi(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let i=0;i<n;++i)if(typeof t[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return t}function Th(t,e){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}function Hs(t,e){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}function Rh(t,e){if(typeof t=="string")return t;const n=Gi(t,e),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function xh(t,e){const n=Gi(t,e);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return n}function fm(t,e){return typeof t=="number"?t:xh(t,e)}const Cl={RENDER_ORDER:"renderOrder"};class dm extends Br{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Cl.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){const i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new e_(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(Cl.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?ph:e;const n=gm(e);this.styleFunction_=e===null?void 0:I_(n),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}}function gm(t){if(t===void 0)return ph;if(!t)return null;if(typeof t=="function"||t instanceof dn)return t;if(!Array.isArray(t))return wl([t]);if(t.length===0)return[];const e=t.length,n=t[0];if(n instanceof dn){const r=new Array(e);for(let s=0;s<e;++s){const o=t[s];if(!(o instanceof dn))throw new Error("Expected a list of style instances");r[s]=o}return r}if("style"in n){const r=new Array(e);for(let s=0;s<e;++s){const o=t[s];if(!("style"in o))throw new Error("Expected a list of rules with a style property");r[s]=o}return em(r)}return wl(t)}class _m extends Or{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){ce()}calculateMatrices2D(e){const n=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;bi(i,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),qc(r,i)}forEachFeatureAtCoordinate(e,n,i,r,s,o,a,l){let c;const h=n.viewState;function u(E,T,N,X){return s.call(o,T,E?N:null,X)}const f=h.projection,g=Zd(e.slice(),f),d=[[0,0]];if(f.canWrapX()&&r){const E=f.getExtent(),T=pe(E);d.push([-T,0],[T,0])}const p=n.layerStatesArray,y=p.length,w=[],v=[];for(let E=0;E<d.length;E++)for(let T=y-1;T>=0;--T){const N=p[T],X=N.layer;if(X.hasRenderer()&&Go(N,h)&&a.call(l,X)){const D=X.getRenderer(),k=X.getSource();if(D&&k){const L=k.getWrapX()?g:e,Z=u.bind(null,N.managed);v[0]=L[0]+d[E][0],v[1]=L[1]+d[E][1],c=D.forEachFeatureAtCoordinate(v,n,i,Z,w)}if(c)return c}}if(w.length===0)return;const M=1/w.length;return w.forEach((E,T)=>E.distanceSq+=T*M),w.sort((E,T)=>E.distanceSq-T.distanceSq),w.some(E=>c=E.callback(E.feature,E.layer,E.geometry)),c}hasFeatureAtCoordinate(e,n,i,r,s,o){return this.forEachFeatureAtCoordinate(e,n,i,r,ur,this,s,o)!==void 0}getMap(){return this.map_}renderFrame(e){ce()}scheduleExpireIconCache(e){ct.canExpireCache()&&e.postRenderFunctions.push(mm)}}function mm(t,e){ct.expire()}class Ch extends en{constructor(e,n,i,r){super(e),this.inversePixelTransform=n,this.frameState=i,this.context=r}}class pm extends _m{constructor(e){super(e),this.fontChangeListenerKey_=de(b_,Ri.PROPERTYCHANGE,e.redrawText,e),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Wr+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const i=this.getMap();if(i.hasListener(e)){const r=new Ch(e,void 0,n);i.dispatchEvent(r)}}disposeInternal(){Ce(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Ct.PRECOMPOSE,e);const n=e.layerStatesArray.sort((a,l)=>a.zIndex-l.zIndex);n.some(a=>a.layer instanceof dm&&a.layer.getDeclutter())&&(e.declutter={});const r=e.viewState;this.children_.length=0;const s=[];let o=null;for(let a=0,l=n.length;a<l;++a){const c=n[a];e.layerIndex=a;const h=c.layer,u=h.getSourceState();if(!Go(c,r)||u!="ready"&&u!="undefined"){h.unrender();continue}const f=h.render(e,o);f&&(f!==o&&(this.children_.push(f),o=f),s.push(c))}this.declutter(e,s),m_(this.element_,this.children_),this.dispatchRenderEvent(Ct.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,n){if(e.declutter){for(let i=n.length-1;i>=0;--i){const r=n[i],s=r.layer;s.getDeclutter()&&s.renderDeclutter(e,r)}n.forEach(i=>i.layer.renderDeferred(e))}}}class Wt extends en{constructor(e,n){super(e),this.layer=n}}const Rs={LAYERS:"layers"};class Wn extends ah{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let i=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Rs.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new Ft(i.slice(),{unique:!0}):Ee(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new Ft(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Ce),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(de(e,lt.ADD,this.handleLayersAdd_,this),de(e,lt.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(Ce);Nr(this.listenerKeys_);const n=e.getArray();for(let i=0,r=n.length;i<r;i++){const s=n[i];this.registerLayerListeners_(s),this.dispatchEvent(new Wt("addlayer",s))}this.changed()}registerLayerListeners_(e){const n=[de(e,Ri.PROPERTYCHANGE,this.handleLayerChange_,this),de(e,Q.CHANGE,this.handleLayerChange_,this)];e instanceof Wn&&n.push(de(e,"addlayer",this.handleLayerGroupAdd_,this),de(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ke(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new Wt("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Wt("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new Wt("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,i=ke(n);this.listenerKeys_[i].forEach(Ce),delete this.listenerKeys_[i],this.dispatchEvent(new Wt("removelayer",n)),this.changed()}getLayers(){return this.get(Rs.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const i=n.getArray();for(let r=0,s=i.length;r<s;++r)this.dispatchEvent(new Wt("removelayer",i[r]))}this.set(Rs.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],i=n.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(n)});const r=this.getLayerState();let s=r.zIndex;!e&&r.zIndex===void 0&&(s=0);for(let o=i,a=n.length;o<a;o++){const l=n[o];l.opacity*=r.opacity,l.visible=l.visible&&r.visible,l.maxResolution=Math.min(l.maxResolution,r.maxResolution),l.minResolution=Math.max(l.minResolution,r.minResolution),l.minZoom=Math.max(l.minZoom,r.minZoom),l.maxZoom=Math.min(l.maxZoom,r.maxZoom),r.extent!==void 0&&(l.extent!==void 0?l.extent=_t(l.extent,r.extent):l.extent=r.extent),l.zIndex===void 0&&(l.zIndex=s)}return n}getSourceState(){return"ready"}}class An extends en{constructor(e,n,i){super(e),this.map=n,this.frameState=i!==void 0?i:null}}class jt extends An{constructor(e,n,i,r,s,o){super(e,n,s),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Ie={SINGLECLICK:"singleclick",CLICK:Q.CLICK,DBLCLICK:Q.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},$s={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class Em extends zr{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=de(i,$s.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=de(i,$s.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Q.TOUCHMOVE,this.boundHandleTouchMove_,_h?{passive:!1}:!1)}emulateClick_(e){let n=new jt(Ie.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new jt(Ie.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new jt(Ie.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const n=e,i=n.pointerId;if(n.type==Ie.POINTERUP||n.type==Ie.POINTERCANCEL){delete this.trackedTouches_[i];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==n.target){delete this.trackedTouches_[r];break}}else(n.type==Ie.POINTERDOWN||n.type==Ie.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new jt(Ie.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Ce),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new jt(Ie.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(de(i,Ie.POINTERMOVE,this.handlePointerMove_,this),de(i,Ie.POINTERUP,this.handlePointerUp_,this),de(this.element_,Ie.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(de(this.element_.getRootNode(),Ie.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new jt(Ie.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new jt(Ie.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Ce(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Q.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Ce(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Ce),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Yt={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Ne={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},wr=1/0;class ym{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Nr(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,i=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){Ee(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(e);return n!=wr?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,i=this.priorities_,r=n.length,s=n[e],o=i[e],a=e;for(;e<r>>1;){const l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),h=c<r&&i[c]<i[l]?c:l;n[e]=n[h],i[e]=i[h],e=h}n[e]=s,i[e]=o,this.siftDown_(a,e)}siftDown_(e,n){const i=this.elements_,r=this.priorities_,s=i[n],o=r[n];for(;n>e;){const a=this.getParentIndex_(n);if(r[a]>o)i[n]=i[a],r[n]=r[a],n=a;else break}i[n]=s,r[n]=o}reprioritize(){const e=this.priorityFunction_,n=this.elements_,i=this.priorities_;let r=0;const s=n.length;let o,a,l;for(a=0;a<s;++a)o=n[a],l=e(o),l==wr?delete this.queuedElements_[this.keyFunction_(o)]:(i[r]=l,n[r++]=o);n.length=r,i.length=r,this.heapify_()}}const z={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class vm extends ym{constructor(e,n){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(Q.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,i=n.getState();if(i===z.LOADED||i===z.ERROR||i===z.EMPTY){i!==z.ERROR&&n.removeEventListener(Q.CHANGE,this.boundHandleTileChange_);const r=n.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let i=0;for(;this.tilesLoading_<e&&i<n&&this.getCount()>0;){const r=this.dequeue()[0],s=r.getKey();r.getState()===z.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,r.load())}}}function wm(t,e,n,i,r){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return wr;const s=t.viewState.center,o=i[0]-s[0],a=i[1]-s[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r}class qo extends kt{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){var e;(e=this.element)==null||e.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){var n;this.map_&&((n=this.element)==null||n.remove());for(let i=0,r=this.listenerKeys.length;i<r;++i)Ce(this.listenerKeys[i]);if(this.listenerKeys.length=0,this.map_=e,e){const i=this.target_??e.getOverlayContainerStopEvent();this.element&&i.appendChild(this.element),this.render!==fr&&this.listenerKeys.push(de(e,Yt.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class Tm extends qo{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const n=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:n+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"",o=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;const a=e.label!==void 0?e.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=r):this.label_=a;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Q.CLICK,this.handleClick_.bind(this),!1);const c=n+" "+Wr+" "+Vo+(this.collapsed_&&this.collapsible_?" "+fl:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=c,h.appendChild(this.toggleButton_),h.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=this.getMap().getAllLayers(),i=new Set(n.flatMap(r=>r.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>i.add(r)):i.add(this.attributions_)),!this.overrideCollapsible_){const r=!n.some(s=>{var o;return((o=s.getSource())==null?void 0:o.getAttributionsCollapsible())===!1});this.setCollapsible(r)}return Array.from(i)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(e).map(r=>wd(()=>r))),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Dr(n,this.renderedAttributions_)){__(this.ulElement_);for(let r=0,s=n.length;r<s;++r){const o=document.createElement("li");o.innerHTML=n[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(fl),this.collapsed_?cl(this.collapseLabel_,this.label_):cl(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class Rm extends qo{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));const s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(Q.CLICK,this.handleClick_.bind(this),!1);const a=n+" "+Wr+" "+Vo,l=this.element;l.className=a,l.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Ji)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Vn}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const i=n.viewState.rotation;if(i!=this.rotation_){const r="rotate("+i+"rad)";if(this.autoHide_){const s=this.element.classList.contains(Ji);!s&&i===0?this.element.classList.add(Ji):s&&i!==0&&this.element.classList.remove(Ji)}this.label_.style.transform=r}this.rotation_=i}}class xm extends qo{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",o=e.zoomInLabel!==void 0?e.zoomInLabel:"+",a=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",c=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=r,h.setAttribute("type","button"),h.title=l,h.appendChild(typeof o=="string"?document.createTextNode(o):o),h.addEventListener(Q.CLICK,this.handleClick_.bind(this,i),!1);const u=document.createElement("button");u.className=s,u.setAttribute("type","button"),u.title=c,u.appendChild(typeof a=="string"?document.createTextNode(a):a),u.addEventListener(Q.CLICK,this.handleClick_.bind(this,-i),!1);const f=n+" "+Wr+" "+Vo,g=this.element;g.className=f,g.appendChild(h),g.appendChild(u),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const r=i.getZoom();if(r!==void 0){const s=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:Vn})):i.setZoom(s)}}}function Cm(t){t=t||{};const e=new Ft;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new xm(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new Rm(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new Tm(t.attributionOptions)),e}const bl={ACTIVE:"active"};class Ui extends kt{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(bl.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(bl.ACTIVE,e)}setMap(e){this.map_=e}}function bm(t,e,n){const i=t.getCenterInternal();if(i){const r=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:Cg,center:t.getConstrainedCenter(r)})}}function Jo(t,e,n,i){const r=t.getZoom();if(r===void 0)return;const s=t.getConstrainedZoom(r+e),o=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:n,duration:i!==void 0?i:250,easing:Vn})}class Im extends Ui{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==Ie.DBLCLICK){const i=e.originalEvent,r=e.map,s=e.coordinate,o=i.shiftKey?-this.delta_:this.delta_,a=r.getView();Jo(a,o,s,this.duration_),i.preventDefault(),n=!0}return!n}}class Xi extends Ui{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Ie.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Ie.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==Ie.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,n=this.stopDown(i)}else e.type==Ie.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function Qo(t){const e=t.length;let n=0,i=0;for(let r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return{clientX:n/e,clientY:i/e}}function qs(t){const e=arguments;return function(n){let i=!0;for(let r=0,s=e.length;r<s&&(i=i&&e[r](n),!!i);++r);return i}}const Am=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Mm=function(t){const e=t.map.getTargetElement(),n=e.getRootNode(),i=t.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(i):e.contains(i)},bh=function(t){const e=t.map.getTargetElement(),n=e.getRootNode();return(n instanceof ShadowRoot?n.host:e).hasAttribute("tabindex")?Mm(t):!0},Sm=ur,Ih=function(t){const e=t.originalEvent;return e.button==0&&!(g_&&uh&&e.ctrlKey)},Ah=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Lm=function(t){const e=t.originalEvent;return uh?e.metaKey:e.ctrlKey},Pm=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Mh=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},xs=function(t){const e=t.originalEvent;return Ee(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},Om=function(t){const e=t.originalEvent;return Ee(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};class Dm extends Xi{constructor(e){super({stopDown:Fr}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:qs(Ah,Om);this.condition_=e.onFocusOnly?qs(bh,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const i=this.targetPointers,r=n.getEventPixel(Qo(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const s=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=e.map.getView();Wd(s,a.getResolution()),Ao(s,a.getRotation()),a.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=i.getCenterInternal(),a=n.getPixelFromCoordinateInternal(o),l=n.getCoordinateFromPixelInternal([a[0]-r*Math.cos(s),a[1]-r*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:Vn})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class Fm extends Xi{constructor(e){e=e||{},super({stopDown:Fr}),this.condition_=e.condition?e.condition:Am,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!xs(e))return;const n=e.map,i=n.getView();if(i.getConstraints().rotation===No)return;const r=n.getSize(),s=e.pixel,o=Math.atan2(r[1]/2-s[1],s[0]-r[0]/2);if(this.lastAngle_!==void 0){const a=o-this.lastAngle_;i.adjustRotationInternal(-a)}this.lastAngle_=o}handleUpEvent(e){return xs(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return xs(e)&&Ih(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class Nm extends Or{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],n[0])+i,r.top=Math.min(e[1],n[1])+i,r.width=Math.abs(n[0]-e[0])+i,r.height=Math.abs(n[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,n=this.endPixel_,r=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new Ai([r])}getGeometry(){return this.geometry_}}const Tn={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class ei extends en{constructor(e,n,i){super(e),this.coordinate=n,this.mapBrowserEvent=i}}class zm extends Xi{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new Nm(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??Ih,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,i){const r=i[0]-n[0],s=i[1]-n[1];return r*r+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new ei(Tn.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new ei(n?Tn.BOXEND:Tn.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ei(Tn.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new ei(Tn.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new ei(Tn.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class km extends zm{constructor(e){e=e||{};const n=e.condition?e.condition:Pm;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let r=this.getGeometry();if(this.out_){const s=i.rotatedExtentForGeometry(r),o=i.getResolutionForExtentInternal(s),a=i.getResolution()/o;r=r.clone(),r.scale(a*a)}i.fitInternal(r,{duration:this.duration_,easing:Vn})}}const on={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class Gm extends Ui{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return Ah(n)&&Mh(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==Q.KEYDOWN){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==on.DOWN||r==on.LEFT||r==on.RIGHT||r==on.UP)){const o=e.map.getView(),a=o.getResolution()*this.pixelDelta_;let l=0,c=0;r==on.DOWN?c=-a:r==on.LEFT?l=-a:r==on.RIGHT?l=a:c=a;const h=[l,c];Ao(h,o.getRotation()),bm(o,h,this.duration_),i.preventDefault(),n=!0}}return!n}}class Um extends Ui{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!Lm(n)&&Mh(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==Q.KEYDOWN||e.type==Q.KEYPRESS){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==="+"||r==="-")){const s=e.map,o=r==="+"?this.delta_:-this.delta_,a=s.getView();Jo(a,o,void 0,this.duration_),i.preventDefault(),n=!0}}return!n}}class Xm{constructor(e,n,i){this.decay_=e,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let i=n-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const r=this.points_[n+2]-this.points_[i+2];if(r<1e3/60)return!1;const s=this.points_[n]-this.points_[i],o=this.points_[n+1]-this.points_[i+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class Km extends Ui{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:Sm;this.condition_=e.onFocusOnly?qs(bh,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==Q.WHEEL)return!0;const i=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let s;if(e.type==Q.WHEEL&&(s=r.deltaY,f_&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=fh),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=o,!1;this.totalDelta_+=s;const l=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let i=-Ae(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Jo(n,i,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class jm extends Xi{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=Fr),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const i=this.targetPointers[0],r=this.targetPointers[1],s=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){const l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=s;const o=e.map,a=o.getView();a.getConstraints().rotation!==No&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(Qo(this.targetPointers))),this.rotating_&&(o.render(),a.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class Ym extends Xi{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=Fr),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const i=this.targetPointers[0],r=this.targetPointers[1],s=i.clientX-r.clientX,o=i.clientY-r.clientY,a=Math.sqrt(s*s+o*o);this.lastDistance_!==void 0&&(n=this.lastDistance_/a),this.lastDistance_=a;const l=e.map,c=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(Qo(this.targetPointers))),l.render(),c.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function Bm(t){t=t||{};const e=new Ft,n=new Xm(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new Fm),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new Im({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new Dm({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new jm),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new Ym({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new Gm),e.push(new Um({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new Km({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new km({duration:t.zoomDuration})),e}function Sh(t){if(t instanceof Br){t.setMapInternal(null);return}t instanceof Wn&&t.getLayers().forEach(Sh)}function Lh(t,e){if(t instanceof Br){t.setMapInternal(e);return}if(t instanceof Wn){const n=t.getLayers().getArray();for(let i=0,r=n.length;i<r;++i)Lh(n[i],e)}}let Vm=class extends kt{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=Wm(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:fh,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=zn(),this.pixelToCoordinateTransform_=zn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||Cm(),this.interactions=n.interactions||Bm({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new vm(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Ne.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Ne.VIEW,this.handleViewChanged_),this.addChangeListener(Ne.SIZE,this.handleSizeChanged_),this.addChangeListener(Ne.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const i=this;e.view&&!(e.view instanceof xt)&&e.view.then(function(r){i.setView(new xt(r))}),this.controls.addEventListener(lt.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(lt.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(lt.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(lt.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(lt.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(lt.REMOVE,r=>{const s=r.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){Lh(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,i){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const s=i.hitTolerance!==void 0?i.hitTolerance:0,o=i.layerFilter!==void 0?i.layerFilter:ur,a=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,s,a,n,null,o,null)}getFeaturesAtPixel(e,n){const i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},n),i}getAllLayers(){const e=[];function n(i){i.forEach(function(r){r instanceof Wn?n(r.getLayers()):e.push(r)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const r=n.layerFilter!==void 0?n.layerFilter:ur,s=n.hitTolerance!==void 0?n.hitTolerance:0,o=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,o,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),r=this.getSize(),s=i.width/r[0],o=i.height/r[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-i.left)/s,(a.clientY-i.top)/o]}getTarget(){return this.get(Ne.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Ws(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?nt(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Ne.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof Ft){n.setLayers(e);return}const i=n.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const r=e[n];if(!r.visible)continue;const s=r.layer.getRenderer();if(s&&!s.ready)return!0;const o=r.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const n=St(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?nt(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Ne.SIZE)}getView(){return this.get(Ne.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,i,r){return wm(this.frameState_,e,n,i,r)}handleBrowserEvent(e,n){n=n||e.type;const i=new jt(n,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,i=n.type;if(i===$s.POINTERDOWN||i===Q.WHEEL||i===Q.KEYDOWN){const r=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o=n.target,a=s instanceof ShadowRoot?s.host===o?s.host.ownerDocument:s:s===r?r.documentElement:s;if(this.overlayContainerStopEvent_.contains(o)||!a.contains(o))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const r=this.getInteractions().getArray().slice();for(let s=r.length-1;s>=0;s--){const o=r[s];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let r=this.maxTilesLoading_,s=r;if(e){const o=e.viewHints;if(o[at.ANIMATING]||o[at.INTERACTING]){const a=Date.now()-e.time>8;r=a?0:8,s=a?0:2}}n.getTilesLoading()<r&&(n.reprioritize(),n.loadMoreTiles(r,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(Ct.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Ct.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new An(Yt.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new An(Yt.LOADSTART,this,e))));const i=this.postRenderFunctions_;if(e)for(let r=0,s=i.length;r<s;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)Ce(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Q.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Q.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new pm(this)),this.mapBrowserEventHandler_=new Em(this,this.moveTolerance_);for(const s in Ie)this.mapBrowserEventHandler_.addEventListener(Ie[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Q.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Q.WHEEL,this.boundHandleBrowserEvent_,_h?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{const s=n.getRootNode();i=s instanceof ShadowRoot?s.host:n}this.targetChangeHandlerKeys_=[de(i,Q.KEYDOWN,this.handleBrowserEvent,this),de(i,Q.KEYPRESS,this.handleBrowserEvent,this)];const r=n.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Ce(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Ce(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=de(e,Ri.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=de(e,Q.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Ce),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Wt("addlayer",e)),this.layerGroupPropertyListenerKeys_=[de(e,Ri.PROPERTYCHANGE,this.render,this),de(e,Q.CHANGE,this.render,this),de(e,"addlayer",this.handleLayerAdd_,this),de(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const r=e[n].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){Sh(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),i=this.getView(),r=this.frameState_;let s=null;if(n!==void 0&&hl(n)&&i&&i.isDef()){const o=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:js(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:ke(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;s.nextExtent=js(a.nextCenter,a.nextResolution,l,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),r&&(!this.previousExtent_||!Kr(this.previousExtent_)&&!Ks(s.extent,this.previousExtent_))&&(this.dispatchEvent(new An(Yt.MOVESTART,this,r)),this.previousExtent_=kr(this.previousExtent_)),this.previousExtent_&&!s.viewHints[at.ANIMATING]&&!s.viewHints[at.INTERACTING]&&!Ks(s.extent,this.previousExtent_)&&(this.dispatchEvent(new An(Yt.MOVEEND,this,s)),Od(s.extent,this.previousExtent_))),this.dispatchEvent(new An(Yt.POSTRENDER,this,s)),this.renderComplete_=(this.hasListener(Yt.LOADSTART)||this.hasListener(Yt.LOADEND)||this.hasListener(Ct.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new Wt("removelayer",n)),this.set(Ne.LAYERGROUP,e)}setSize(e){this.set(Ne.SIZE,e)}setTarget(e){this.set(Ne.TARGET,e)}setView(e){if(!e||e instanceof xt){this.set(Ne.VIEW,e);return}this.set(Ne.VIEW,new xt);const n=this;e.then(function(i){n.setView(new xt(i))})}updateSize(){const e=this.getTargetElement();let n;if(e){const r=getComputedStyle(e),s=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),o=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(n=[Math.max(0,s),Math.max(0,o)],!hl(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&Zc("No map visible because the map container's width or height are 0."))}const i=this.getSize();n&&(!i||!Dr(n,i))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(e){const n=this.getView();n&&n.setViewportSize(e)}};function Wm(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},i=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new Wn({layers:t.layers});n[Ne.LAYERGROUP]=i,n[Ne.TARGET]=t.target,n[Ne.VIEW]=t.view instanceof xt?t.view:new xt;let r;t.controls!==void 0&&(Array.isArray(t.controls)?r=new Ft(t.controls.slice()):(Ee(typeof t.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=t.controls));let s;t.interactions!==void 0&&(Array.isArray(t.interactions)?s=new Ft(t.interactions.slice()):(Ee(typeof t.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),s=t.interactions));let o;return t.overlays!==void 0?Array.isArray(t.overlays)?o=new Ft(t.overlays.slice()):(Ee(typeof t.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),o=t.overlays):o=new Ft,{controls:r,interactions:s,keyboardEventTarget:e,overlays:o,values:n}}const er={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class Zm extends Br{constructor(e){e=e||{};const n=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(er.PRELOAD)}setPreload(e){this.set(er.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(er.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(er.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}const Hm=5;class $m extends Di{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=Hm}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return ce()}getData(e){return null}prepareFrame(e){return ce()}renderFrame(e,n){return ce()}forEachFeatureAtCoordinate(e,n,i,r,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;(n.getState()===se.LOADED||n.getState()===se.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=se.LOADED&&n!=se.ERROR&&e.addEventListener(Q.CHANGE,this.boundHandleImageChange_),n==se.IDLE&&(e.load(),n=e.getState()),n==se.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class qm{constructor(){oa(this,"pushMethodArgs_",(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Er(),{get:(e,n)=>{if(typeof Er()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(e,n,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,i),!0)})}pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let i=0,r=n.length;i<r;++i){const s=n[i];if(typeof s=="function"){s(e);continue}const o=n[++i];if(typeof e[s]=="function")e[s](...o);else{if(typeof o=="function"){e[s]=o(e);continue}e[s]=o}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}let Mn=null;function Jm(){Mn=Be(1,1,void 0,{willReadFrequently:!0})}class Qm extends $m{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=zn(),this.pixelTransform=zn(),this.inversePixelTransform=zn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,n,i){Mn||Jm(),Mn.clearRect(0,0,1,1);let r;try{Mn.drawImage(e,n,i,1,1,0,0,1,1),r=Mn.getImageData(0,0,1,1).data}catch{return Mn=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,n,i){const r=this.getLayer().getClassName();let s,o;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&Dr(Yn(e.style.backgroundColor),Yn(i)))){const a=e.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&o.canvas.style.transform===n?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=r;let a=s.style;a.position="absolute",a.width="100%",a.height="100%",o=Be();const l=o.canvas;s.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,n,i){const r=Nt(i),s=Xr(i),o=Ur(i),a=Gr(i);nt(n.coordinateToPixelTransform,r),nt(n.coordinateToPixelTransform,s),nt(n.coordinateToPixelTransform,o),nt(n.coordinateToPixelTransform,a);const l=this.inversePixelTransform;nt(l,r),nt(l,s),nt(l,o),nt(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}prepareContainer(e,n){const i=e.extent,r=e.viewState.resolution,s=e.viewState.rotation,o=e.pixelRatio,a=Math.round(pe(i)/r*o),l=Math.round(je(i)/r*o);bi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/o,1/o,s,-a/2,-l/2),qc(this.inversePixelTransform,this.pixelTransform);const c=Ig(this.pixelTransform);if(this.useContainer(n,c,this.getBackground(e)),!this.containerReused){const h=this.context.canvas;h.width!=a||h.height!=l?(h.width=a,h.height=l):this.context.clearRect(0,0,a,l),c!==h.style.transform&&(h.style.transform=c)}}dispatchRenderEvent_(e,n,i){const r=this.getLayer();if(r.hasListener(e)){const s=new Ch(e,this.inversePixelTransform,i,n);r.dispatchEvent(s)}}preRender(e,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(Ct.PRERENDER,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(Ct.POSTRENDER,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new qm),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(Ct.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(Ct.POSTRENDER,this.context,e))}getRenderTransform(e,n,i,r,s,o,a){const l=s/2,c=o/2,h=r/n,u=-h,f=-e[0]+a,g=-e[1];return bi(this.tempTransform,l,c,h,u,-i,f,g)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class ea extends zr{constructor(e,n,i){super(),i=i||{},this.tileCoord=e,this.state=n,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(Q.CHANGE)}release(){this.state===z.ERROR&&this.setState(z.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==z.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){ce()}getAlpha(e,n){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=n,this.transitionStarts_[e]=i;else if(i===-1)return 1;const r=n-i+1e3/60;return r>=this.transition_?1:$c(r/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}function Tr(t){return t instanceof Image||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageBitmap?t:null}function ep(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t instanceof DataView?t:null}const tp=new Error("disposed");let Rn=null;function np(t){Rn||(Rn=Be(t.width,t.height,void 0,{willReadFrequently:!0}));const e=Rn.canvas,n=t.width;e.width!==n&&(e.width=n);const i=t.height;return e.height!==i&&(e.height=i),Rn.clearRect(0,0,n,i),Rn.drawImage(t,0,0),Rn.getImageData(0,0,n,i).data}const ip=[256,256];class Js extends ea{constructor(e){const n=z.IDLE;super(e.tileCoord,n,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=Tr(this.data_);return e?[e.width,e.height]:ip}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==z.IDLE&&this.state!==z.ERROR)return;this.state=z.LOADING,this.changed();const e=this;this.loader_().then(function(n){e.data_=n,e.state=z.LOADED,e.changed()}).catch(function(n){e.error_=n,e.state=z.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(tp),this.controller_=null),super.disposeInternal()}}class Ph extends ea{constructor(e,n,i,r,s,o){super(e,n,o),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=z.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=z.ERROR,this.unlistenImage_(),this.image_=rp(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=z.LOADED:this.state=z.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==z.ERROR&&(this.state=z.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==z.IDLE&&(this.state=z.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=p_(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function rp(){const t=Be(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}class sp{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const e=this.pop();e instanceof Or&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const i=this.entries_[e];return Ee(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const n=this.entries_[e];return Ee(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.key_;return e}getValues(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){var n;return(n=this.entries_[e])==null?void 0:n.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){Ee(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}const Oh=.5,op=10,Il=.25;class Dh{constructor(e,n,i,r,s,o,a){this.sourceProj_=e,this.targetProj_=n;let l={};const c=a?mg(M=>nt(a,Hc(M,this.targetProj_,this.sourceProj_))):pr(this.targetProj_,this.sourceProj_);this.transformInv_=function(M){const E=M[0]+"/"+M[1];return l[E]||(l[E]=c(M)),l[E]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&pe(r)>=pe(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?pe(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?pe(this.targetProj_.getExtent()):null;const h=Nt(i),u=Xr(i),f=Ur(i),g=Gr(i),d=this.transformInv_(h),p=this.transformInv_(u),y=this.transformInv_(f),w=this.transformInv_(g),v=op+(o?Math.max(0,Math.ceil(Math.log2(Ci(i)/(o*o*256*256)))):0);if(this.addQuad_(h,u,f,g,d,p,y,w,v),this.wrapsXInSource_){let M=1/0;this.triangles_.forEach(function(E,T,N){M=Math.min(M,E.source[0][0],E.source[1][0],E.source[2][0])}),this.triangles_.forEach(E=>{if(Math.max(E.source[0][0],E.source[1][0],E.source[2][0])-M>this.sourceWorldWidth_/2){const T=[[E.source[0][0],E.source[0][1]],[E.source[1][0],E.source[1][1]],[E.source[2][0],E.source[2][1]]];T[0][0]-M>this.sourceWorldWidth_/2&&(T[0][0]-=this.sourceWorldWidth_),T[1][0]-M>this.sourceWorldWidth_/2&&(T[1][0]-=this.sourceWorldWidth_),T[2][0]-M>this.sourceWorldWidth_/2&&(T[2][0]-=this.sourceWorldWidth_);const N=Math.min(T[0][0],T[1][0],T[2][0]);Math.max(T[0][0],T[1][0],T[2][0])-N<this.sourceWorldWidth_/2&&(E.source=T)}})}l={}}addTriangle_(e,n,i,r,s,o){this.triangles_.push({source:[r,s,o],target:[e,n,i]})}addQuad_(e,n,i,r,s,o,a,l,c){const h=Ga([s,o,a,l]),u=this.sourceWorldWidth_?pe(h)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&u>.5&&u<1;let d=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const y=Ga([e,n,i,r]);d=pe(y)/this.targetWorldWidth_>Il||d}!g&&this.sourceProj_.isGlobal()&&u&&(d=u>Il||d)}if(!d&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!zi(h,this.maxSourceExtent_))return;let p=0;if(!d&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)d=!0;else if(p=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),p!=1&&p!=2&&p!=4&&p!=8)return}if(c>0){if(!d){const y=[(e[0]+i[0])/2,(e[1]+i[1])/2],w=this.transformInv_(y);let v;g?v=(Nn(s[0],f)+Nn(a[0],f))/2-Nn(w[0],f):v=(s[0]+a[0])/2-w[0];const M=(s[1]+a[1])/2-w[1];d=v*v+M*M>this.errorThresholdSquared_}if(d){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const y=[(n[0]+i[0])/2,(n[1]+i[1])/2],w=this.transformInv_(y),v=[(r[0]+e[0])/2,(r[1]+e[1])/2],M=this.transformInv_(v);this.addQuad_(e,n,y,v,s,o,w,M,c-1),this.addQuad_(v,y,i,r,M,w,a,l,c-1)}else{const y=[(e[0]+n[0])/2,(e[1]+n[1])/2],w=this.transformInv_(y),v=[(i[0]+r[0])/2,(i[1]+r[1])/2],M=this.transformInv_(v);this.addQuad_(e,y,v,r,s,w,M,l,c-1),this.addQuad_(y,n,i,v,w,o,a,M,c-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}p&11||this.addTriangle_(e,i,r,s,a,l),p&14||this.addTriangle_(e,i,n,s,a,o),p&&(p&13||this.addTriangle_(n,r,e,o,l,s),p&7||this.addTriangle_(n,r,i,o,l,a))}calculateSourceExtent(){const e=tn();return this.triangles_.forEach(function(n,i,r){const s=n.source;rr(e,s[0]),rr(e,s[1]),rr(e,s[2])}),e}getTriangles(){return this.triangles_}}let Cs;const Gn=[];function Al(t,e,n,i,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,r)),t.restore()}function bs(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function ap(){if(Cs===void 0){const t=Be(6,6,Gn);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",Al(t,4,5,4,0),Al(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;Cs=bs(e,0)||bs(e,4)||bs(e,8),Yo(t),Gn.push(t.canvas)}return Cs}function Ml(t,e,n,i){const r=Hc(n,e,t);let s=Wa(e,i,n);const o=e.getMetersPerUnit();o!==void 0&&(s*=o);const a=t.getMetersPerUnit();a!==void 0&&(s/=a);const l=t.getExtent();if(!l||Io(l,r)){const c=Wa(t,s,r)/s;isFinite(c)&&c>0&&(s/=c)}return s}function Fh(t,e,n,i){const r=Kn(n);let s=Ml(t,e,r,i);return(!isFinite(s)||s<=0)&&Uc(n,function(o){return s=Ml(t,e,o,i),isFinite(s)&&s>0}),s}function lp(t,e,n,i,r,s,o,a,l,c,h,u,f,g){const d=Be(Math.round(n*t),Math.round(n*e),Gn);if(u||(d.imageSmoothingEnabled=!1),l.length===0)return d.canvas;d.scale(n,n);function p(T){return Math.round(T*n)/n}d.globalCompositeOperation="lighter";const y=tn();l.forEach(function(T,N,X){kc(y,T.extent)});let w;const v=n/i,M=(u?1:1+Math.pow(2,-24))/v;w=Be(Math.round(pe(y)*v),Math.round(je(y)*v),Gn),u||(w.imageSmoothingEnabled=!1),l.forEach(function(T,N,X){if(T.image.width>0&&T.image.height>0){if(T.clipExtent){w.save();const Y=(T.clipExtent[0]-y[0])*v,q=-(T.clipExtent[3]-y[3])*v,ie=pe(T.clipExtent)*v,B=je(T.clipExtent)*v;w.rect(u?Y:Math.round(Y),u?q:Math.round(q),u?ie:Math.round(Y+ie)-Math.round(Y),u?B:Math.round(q+B)-Math.round(q)),w.clip()}const D=(T.extent[0]-y[0])*v,k=-(T.extent[3]-y[3])*v,L=pe(T.extent)*v,Z=je(T.extent)*v;w.drawImage(T.image,c,c,T.image.width-2*c,T.image.height-2*c,u?D:Math.round(D),u?k:Math.round(k),u?L:Math.round(D+L)-Math.round(D),u?Z:Math.round(k+Z)-Math.round(k)),T.clipExtent&&w.restore()}});const E=Nt(o);return a.getTriangles().forEach(function(T,N,X){const D=T.source,k=T.target;let L=D[0][0],Z=D[0][1],Y=D[1][0],q=D[1][1],ie=D[2][0],B=D[2][1];const ee=p((k[0][0]-E[0])/s),G=p(-(k[0][1]-E[1])/s),V=p((k[1][0]-E[0])/s),ae=p(-(k[1][1]-E[1])/s),H=p((k[2][0]-E[0])/s),$=p(-(k[2][1]-E[1])/s),le=L,ue=Z;L=0,Z=0,Y-=le,q-=ue,ie-=le,B-=ue;const be=[[Y,q,0,0,V-ee],[ie,B,0,0,H-ee],[0,0,Y,q,ae-G],[0,0,ie,B,$-G]],Re=Yd(be);if(!Re)return;if(d.save(),d.beginPath(),ap()||!u){d.moveTo(V,ae);const xe=4,We=ee-V,ot=G-ae;for(let Pe=0;Pe<xe;Pe++)d.lineTo(V+p((Pe+1)*We/xe),ae+p(Pe*ot/(xe-1))),Pe!=xe-1&&d.lineTo(V+p((Pe+1)*We/xe),ae+p((Pe+1)*ot/(xe-1)));d.lineTo(H,$)}else d.moveTo(V,ae),d.lineTo(ee,G),d.lineTo(H,$);d.clip(),d.transform(Re[0],Re[2],Re[1],Re[3],ee,G),d.translate(y[0]-le,y[3]-ue);let ye;if(w)ye=w.canvas,d.scale(M,-M);else{const xe=l[0],We=xe.extent;ye=xe.image,d.scale(pe(We)/ye.width,-je(We)/ye.height)}d.drawImage(ye,0,0),d.restore()}),w&&(Yo(w),Gn.push(w.canvas)),h&&(d.save(),d.globalCompositeOperation="source-over",d.strokeStyle="black",d.lineWidth=1,a.getTriangles().forEach(function(T,N,X){const D=T.target,k=(D[0][0]-E[0])/s,L=-(D[0][1]-E[1])/s,Z=(D[1][0]-E[0])/s,Y=-(D[1][1]-E[1])/s,q=(D[2][0]-E[0])/s,ie=-(D[2][1]-E[1])/s;d.beginPath(),d.moveTo(Z,Y),d.lineTo(k,L),d.lineTo(q,ie),d.closePath(),d.stroke()}),d.restore()),d.canvas}function Qr(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Qs(t,e,n,i,r,s,o){o=o??Qr();const a=1/(t-e),l=1/(n-i),c=1/(r-s);return o[0]=-2*a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*l,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*c,o[11]=0,o[12]=(t+e)*a,o[13]=(i+n)*l,o[14]=(s+r)*c,o[15]=1,o}function Sl(t,e,n,i,r){return r=r??Qr(),r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e,r[3]=t[3]*e,r[4]=t[4]*n,r[5]=t[5]*n,r[6]=t[6]*n,r[7]=t[7]*n,r[8]=t[8]*i,r[9]=t[9]*i,r[10]=t[10]*i,r[11]=t[11]*i,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function cp(t,e,n,i,r){r=r??Qr();let s,o,a,l,c,h,u,f,g,d,p,y;return t===r?(r[12]=t[0]*e+t[4]*n+t[8]*i+t[12],r[13]=t[1]*e+t[5]*n+t[9]*i+t[13],r[14]=t[2]*e+t[6]*n+t[10]*i+t[14],r[15]=t[3]*e+t[7]*n+t[11]*i+t[15]):(s=t[0],o=t[1],a=t[2],l=t[3],c=t[4],h=t[5],u=t[6],f=t[7],g=t[8],d=t[9],p=t[10],y=t[11],r[0]=s,r[1]=o,r[2]=a,r[3]=l,r[4]=c,r[5]=h,r[6]=u,r[7]=f,r[8]=g,r[9]=d,r[10]=p,r[11]=y,r[12]=s*e+c*n+g*i+t[12],r[13]=o*e+h*n+d*i+t[13],r[14]=a*e+u*n+p*i+t[14],r[15]=l*e+f*n+y*i+t[15]),r}function hp(t,e,n,i){return i=i??Qr(),i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=t,i[13]=e,i[14]=n,i[15]=1,i}const up=`
  attribute vec4 a_position;
  attribute vec4 a_texcoord;

  uniform mat4 u_matrix;
  uniform mat4 u_textureMatrix;

  varying vec2 v_texcoord;

  void main() {
    gl_Position = u_matrix * a_position;
    vec2 texcoord = (u_textureMatrix * a_texcoord).xy;
    v_texcoord = texcoord;
  }
`,fp=`
  precision mediump float;

  varying vec2 v_texcoord;

  uniform sampler2D u_texture;

  void main() {
    if (
      v_texcoord.x < 0.0 ||
      v_texcoord.y < 0.0 ||
      v_texcoord.x > 1.0 ||
      v_texcoord.y > 1.0
    ) {
      discard;
    }
    gl_FragColor = texture2D(u_texture, v_texcoord);
  }
`;class dp{constructor(e){this.gl_=e,this.program_=eo(e,fp,up),this.positionLocation=e.getAttribLocation(this.program_,"a_position"),this.texcoordLocation=e.getAttribLocation(this.program_,"a_texcoord"),this.matrixLocation=e.getUniformLocation(this.program_,"u_matrix"),this.textureMatrixLocation=e.getUniformLocation(this.program_,"u_textureMatrix"),this.textureLocation=e.getUniformLocation(this.program_,"u_texture"),this.positionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.positionBuffer),this.positions=[0,0,0,1,1,0,1,0,0,1,1,1],e.bufferData(e.ARRAY_BUFFER,new Float32Array(this.positions),e.STATIC_DRAW),this.texcoordBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.texcoordBuffer),this.texcoords=[0,0,0,1,1,0,1,0,0,1,1,1],e.bufferData(e.ARRAY_BUFFER,new Float32Array(this.texcoords),e.STATIC_DRAW)}drawImage(e,n,i,r,s,o,a,l,c,h,u,f,g){const d=this.gl_;l===void 0&&(l=r),c===void 0&&(c=s),o===void 0&&(o=n),a===void 0&&(a=i),h===void 0&&(h=o),u===void 0&&(u=a),f===void 0&&(f=d.canvas.width),g===void 0&&(g=d.canvas.height),d.bindTexture(d.TEXTURE_2D,e),d.useProgram(this.program_),d.bindBuffer(d.ARRAY_BUFFER,this.positionBuffer),d.enableVertexAttribArray(this.positionLocation),d.vertexAttribPointer(this.positionLocation,2,d.FLOAT,!1,0,0),d.bindBuffer(d.ARRAY_BUFFER,this.texcoordBuffer),d.enableVertexAttribArray(this.texcoordLocation),d.vertexAttribPointer(this.texcoordLocation,2,d.FLOAT,!1,0,0);let p=Qs(0,f,0,g,-1,1);p=cp(p,l,c,0),p=Sl(p,h,u,1),d.uniformMatrix4fv(this.matrixLocation,!1,p);let y=hp(r/n,s/i,0);y=Sl(y,o/n,a/i,1),d.uniformMatrix4fv(this.textureMatrixLocation,!1,y),d.uniform1i(this.textureLocation,0),d.drawArrays(d.TRIANGLES,0,this.positions.length/2)}}function Ll(t,e,n){const i=t.createShader(e);if(i===null)throw new Error("Shader compilation failed");if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS)){const r=t.getShaderInfoLog(i);throw r===null?new Error("Shader info log creation failed"):new Error(r)}return i}function eo(t,e,n){const i=t.createProgram(),r=Ll(t,t.VERTEX_SHADER,n),s=Ll(t,t.FRAGMENT_SHADER,e);if(i===null)throw new Error("Program creation failed");if(t.attachShader(i,r),t.attachShader(i,s),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw t.getProgramInfoLog(i)===null?new Error("Program info log creation failed"):new Error;return i}const gp=`
  attribute vec4 a_position;

  uniform mat4 u_matrix;

  void main() {
     gl_Position = u_matrix * a_position;
  }
`,_p=`
  precision mediump float;

  uniform vec4 u_val;
  void main() {
     gl_FragColor = u_val;
  }
`,mp=`
  attribute vec4 a_position;
  attribute vec2 a_texcoord;

  varying vec2 v_texcoord;

  uniform mat4 u_matrix;

  void main() {
     gl_Position = u_matrix * a_position;
     v_texcoord = a_texcoord;
  }
`,pp=`
  precision mediump float;

  varying vec2 v_texcoord;

  uniform sampler2D u_texture;

  void main() {
    if (v_texcoord.x < 0.0 || v_texcoord.x > 1.0 || v_texcoord.y < 0.0 || v_texcoord.y > 1.0) {
      discard;
    }
    gl_FragColor = texture2D(u_texture, v_texcoord);
  }
`;function Ep(t,e,n,i){let r;return n.length?r=n.shift():dh?r=new OffscreenCanvas(t||300,e||300):r=document.createElement("canvas"),t&&(r.width=t),e&&(r.height=e),r.getContext("webgl",i)}function yp(t){const e=t.canvas;e.width=1,e.height=1,t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT)}const Pl=[];function vp(t,e,n,i,r,s,o,a,l,c,h,u,f,g){const d=Math.round(i*e),p=Math.round(i*n);t.canvas.width=d,t.canvas.height=p;let y,w;if(w=t.createTexture(),t.bindTexture(t.TEXTURE_2D,w),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),f?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,d,p,0,t.RGBA,h,null),y=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,y),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,w,0),y===null)throw new Error("Could not create framebuffer");if(w===null)throw new Error("Could not create texture");if(l.length===0)return{width:d,height:p,framebuffer:y,texture:w};const v=tn();l.forEach(function(L,Z,Y){kc(v,L.extent)});let M,E,T;const N=1/r;{if(M=t.createTexture(),w===null)throw new Error("Could not create texture");E=Math.round(pe(v)*N),T=Math.round(je(v)*N);const L=t.getParameter(t.MAX_TEXTURE_SIZE),Z=Math.max(E,T),Y=Z>L?L/Z:1,q=Math.round(E*Y),ie=Math.round(T*Y);t.bindTexture(t.TEXTURE_2D,M),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),f?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,q,ie,0,t.RGBA,h,null);const B=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,B),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,M,0);const ee=new dp(t);l.forEach(function(G,V,ae){const H=(G.extent[0]-v[0])*N*Y,$=-(G.extent[3]-v[3])*N*Y,le=pe(G.extent)*N*Y,ue=je(G.extent)*N*Y;if(t.bindFramebuffer(t.FRAMEBUFFER,B),t.viewport(0,0,q,ie),G.clipExtent){const be=(G.clipExtent[0]-v[0])*N*Y,Re=-(G.clipExtent[3]-v[3])*N*Y,ye=pe(G.clipExtent)*N*Y,xe=je(G.clipExtent)*N*Y;t.enable(t.SCISSOR_TEST),t.scissor(f?be:Math.round(be),f?Re:Math.round(Re),f?ye:Math.round(be+ye)-Math.round(be),f?xe:Math.round(Re+xe)-Math.round(Re))}ee.drawImage(G.texture,G.width,G.height,c,c,G.width-2*c,G.height-2*c,f?H:Math.round(H),f?$:Math.round($),f?le:Math.round(H+le)-Math.round(H),f?ue:Math.round($+ue)-Math.round($),q,ie),t.disable(t.SCISSOR_TEST)}),t.deleteFramebuffer(B)}const X=Nt(o),D=Nt(v),k=L=>{const Z=(L[0][0]-X[0])/s*i,Y=-(L[0][1]-X[1])/s*i,q=(L[1][0]-X[0])/s*i,ie=-(L[1][1]-X[1])/s*i,B=(L[2][0]-X[0])/s*i,ee=-(L[2][1]-X[1])/s*i;return{u1:q,v1:ie,u0:Z,v0:Y,u2:B,v2:ee}};t.bindFramebuffer(t.FRAMEBUFFER,y),t.viewport(0,0,d,p);{const L=[],Z=[],Y=eo(t,pp,mp);t.useProgram(Y);const q=t.getUniformLocation(Y,"u_texture");t.bindTexture(t.TEXTURE_2D,M),t.uniform1i(q,0),a.getTriangles().forEach(function(H,$,le){const ue=H.source,be=H.target,{u1:Re,v1:ye,u0:xe,v0:We,u2:ot,v2:Pe}=k(be),Ut=(ue[0][0]-D[0])/r/E,_=-(ue[0][1]-D[1])/r/T,m=(ue[1][0]-D[0])/r/E,R=-(ue[1][1]-D[1])/r/T,I=(ue[2][0]-D[0])/r/E,C=-(ue[2][1]-D[1])/r/T;L.push(Re,ye,xe,We,ot,Pe),Z.push(m,R,Ut,_,I,C)});const ie=Qs(0,d,p,0,-1,1),B=t.getUniformLocation(Y,"u_matrix");t.uniformMatrix4fv(B,!1,ie);const ee=t.getAttribLocation(Y,"a_position"),G=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,G),t.bufferData(t.ARRAY_BUFFER,new Float32Array(L),t.STATIC_DRAW),t.vertexAttribPointer(ee,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(ee);const V=t.getAttribLocation(Y,"a_texcoord"),ae=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,ae),t.bufferData(t.ARRAY_BUFFER,new Float32Array(Z),t.STATIC_DRAW),t.vertexAttribPointer(V,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(V),t.drawArrays(t.TRIANGLES,0,L.length/2)}if(u){const L=eo(t,_p,gp);t.useProgram(L);const Z=Qs(0,d,p,0,-1,1),Y=t.getUniformLocation(L,"u_matrix");t.uniformMatrix4fv(Y,!1,Z);const q=Array.isArray(u)?u:[0,0,0,255],ie=t.getUniformLocation(L,"u_val");t.uniform4fv(ie,q);const B=t.getAttribLocation(L,"a_position"),ee=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,ee),t.vertexAttribPointer(B,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(B);const G=a.getTriangles().reduce(function(V,ae){const H=ae.target,{u1:$,v1:le,u0:ue,v0:be,u2:Re,v2:ye}=k(H);return V.concat([$,le,ue,be,ue,be,Re,ye,Re,ye,$,le])},[]);t.bufferData(t.ARRAY_BUFFER,new Float32Array(G),t.STATIC_DRAW),t.drawArrays(t.LINES,0,G.length/2)}return{width:d,height:p,framebuffer:y,texture:w}}class wp extends Js{constructor(e){super({tileCoord:e.tileCoord,loader:()=>Promise.resolve(new Uint8ClampedArray(4)),interpolate:e.interpolate,transition:e.transition}),this.renderEdges_=e.renderEdges!==void 0?e.renderEdges:!1,this.pixelRatio_=e.pixelRatio,this.gutter_=e.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=e.sourceTileGrid,this.targetTileGrid_=e.targetTileGrid,this.wrappedTileCoord_=e.wrappedTileCoord||e.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const n=e.sourceProj,i=n.getExtent(),r=e.sourceTileGrid.getExtent();this.clipExtent_=n.canWrapX()?r?_t(i,r):i:r;const s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),o=this.targetTileGrid_.getExtent();let a=this.sourceTileGrid_.getExtent();const l=o?_t(s,o):s;if(Ci(l)===0){this.state=z.EMPTY;return}i&&(a?a=_t(a,i):a=i);const c=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),h=e.targetProj,u=Fh(n,h,l,c);if(!isFinite(u)||u<=0){this.state=z.EMPTY;return}const f=e.errorThreshold!==void 0?e.errorThreshold:Oh;if(this.triangulation_=new Dh(n,h,l,a,u*f,c,e.transformMatrix),this.triangulation_.getTriangles().length===0){this.state=z.EMPTY;return}this.sourceZ_=this.sourceTileGrid_.getZForResolution(u);let g=this.triangulation_.calculateSourceExtent();if(a&&(n.canWrapX()?(g[1]=Ae(g[1],a[1],a[3]),g[3]=Ae(g[3],a[1],a[3])):g=_t(g,a)),!Ci(g))this.state=z.EMPTY;else{let d=0,p=0;n.canWrapX()&&(d=pe(i),p=Math.floor((g[0]-i[0])/d)),Xc(g.slice(),n,!0).forEach(w=>{const v=this.sourceTileGrid_.getTileRangeForExtentAndZ(w,this.sourceZ_),M=e.getTileFunction;for(let E=v.minX;E<=v.maxX;E++)for(let T=v.minY;T<=v.maxY;T++){const N=M(this.sourceZ_,E,T,this.pixelRatio_);if(N){const X=p*d;this.sourceTiles_.push({tile:N,offset:X})}}++p}),this.sourceTiles_.length===0&&(this.state=z.EMPTY)}}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){const e=[];let n=!1;if(this.sourceTiles_.forEach(E=>{var $;const T=E.tile;if(!T||T.getState()!==z.LOADED)return;const N=T.getSize(),X=this.gutter_;let D;const k=ep(T.getData());k?D=k:(n=!0,D=np(Tr(T.getData())));const L=[N[0]+2*X,N[1]+2*X],Z=D instanceof Float32Array,Y=L[0]*L[1],q=Z?Float32Array:Uint8ClampedArray,ie=new q(D.buffer),B=q.BYTES_PER_ELEMENT,ee=B*ie.length/Y,G=ie.byteLength/L[1],V=Math.floor(G/B/L[0]),ae=this.sourceTileGrid_.getTileCoordExtent(T.tileCoord);ae[0]+=E.offset,ae[2]+=E.offset;const H=($=this.clipExtent_)==null?void 0:$.slice();H&&(H[0]+=E.offset,H[2]+=E.offset),e.push({extent:ae,clipExtent:H,data:ie,dataType:q,bytesPerPixel:ee,pixelSize:L,bandCount:V})}),this.sourceTiles_.length=0,e.length===0){this.state=z.ERROR,this.changed();return}const i=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(i),s=typeof r=="number"?r:r[0],o=typeof r=="number"?r:r[1],a=s*this.pixelRatio_,l=o*this.pixelRatio_,c=this.targetTileGrid_.getResolution(i),h=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),f=e[0].bandCount,g=new e[0].dataType(f*a*l),d=Ep(a,l,Pl,{premultipliedAlpha:!1,antialias:!1});let p;const y=d.RGBA;let w;e[0].dataType==Float32Array?(w=d.FLOAT,d.getExtension("WEBGL_color_buffer_float"),d.getExtension("OES_texture_float"),d.getExtension("EXT_float_blend"),p=d.getExtension("OES_texture_float_linear")!==null&&this.interpolate):(w=d.UNSIGNED_BYTE,p=this.interpolate);const v=4,M=Math.ceil(f/v);for(let E=M-1;E>=0;--E){const T=[];for(let q=0,ie=e.length;q<ie;++q){const B=e[q],ee=B.pixelSize,G=ee[0],V=ee[1],ae=new B.dataType(v*G*V),H=B.data;let $=E*v;for(let ue=0,be=ae.length;ue<be;ue+=v)ae[ue]=H[$],ae[ue+1]=H[$+1],ae[ue+2]=H[$+2],ae[ue+3]=H[$+3],$+=f;const le=d.createTexture();d.bindTexture(d.TEXTURE_2D,le),p?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR)):(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST)),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texImage2D(d.TEXTURE_2D,0,y,G,V,0,y,w,ae),T.push({extent:B.extent,clipExtent:B.clipExtent,texture:le,width:G,height:V})}const{framebuffer:N,width:X,height:D}=vp(d,s,o,this.pixelRatio_,h,c,u,this.triangulation_,T,this.gutter_,w,this.renderEdges_,p),k=X,L=D*v,Z=new e[0].dataType(k*L);d.bindFramebuffer(d.FRAMEBUFFER,N),d.readPixels(0,0,X,D,d.RGBA,w,Z);let Y=E*v;for(let q=0,ie=Z.length;q<ie;q+=v){const B=(k-1-(q/L|0))*L+q%L;g[Y]=Z[B],g[Y+1]=Z[B+1],g[Y+2]=Z[B+2],g[Y+3]=Z[B+3],Y+=f}}if(yp(d),Pl.push(d.canvas),n){const E=Be(s,o),T=new ImageData(g,s);E.putImageData(T,0,0),this.reprojData_=E.canvas}else this.reprojData_=g;this.reprojSize_=[Math.round(a),Math.round(l)],this.state=z.LOADED,this.changed()}load(){if(this.state!==z.IDLE&&this.state!==z.ERROR)return;this.state=z.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i!==z.IDLE&&i!==z.LOADING)return;e++;const r=de(n,Q.CHANGE,()=>{const s=n.getState();(s==z.LOADED||s==z.ERROR||s==z.EMPTY)&&(Ce(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n}){n.getState()==z.IDLE&&n.load()})}unlistenSources_(){this.sourcesListenerKeys_.forEach(Ce),this.sourcesListenerKeys_=null}}class to extends ea{constructor(e,n,i,r,s,o,a,l,c,h,u,f){super(s,z.IDLE,f),this.renderEdges_=u!==void 0?u:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const g=r.getTileCoordExtent(this.wrappedTileCoord_),d=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const y=d?_t(g,d):g;if(Ci(y)===0){this.state=z.EMPTY;return}const w=e.getExtent();w&&(p?p=_t(p,w):p=w);const v=r.getResolution(this.wrappedTileCoord_[0]),M=Fh(e,i,y,v);if(!isFinite(M)||M<=0){this.state=z.EMPTY;return}const E=h!==void 0?h:Oh;if(this.triangulation_=new Dh(e,i,y,p,M*E,v),this.triangulation_.getTriangles().length===0){this.state=z.EMPTY;return}this.sourceZ_=n.getZForResolution(M);let T=this.triangulation_.calculateSourceExtent();if(p&&(e.canWrapX()?(T[1]=Ae(T[1],p[1],p[3]),T[3]=Ae(T[3],p[1],p[3])):T=_t(T,p)),!Ci(T))this.state=z.EMPTY;else{let N=0,X=0;e.canWrapX()&&(N=pe(w),X=Math.floor((T[0]-w[0])/N)),Xc(T.slice(),e,!0).forEach(k=>{const L=n.getTileRangeForExtentAndZ(k,this.sourceZ_);for(let Z=L.minX;Z<=L.maxX;Z++)for(let Y=L.minY;Y<=L.maxY;Y++){const q=c(this.sourceZ_,Z,Y,a);if(q){const ie=X*N;this.sourceTiles_.push({tile:q,offset:ie})}}++X}),this.sourceTiles_.length===0&&(this.state=z.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{var r;const i=n.tile;if(i&&i.getState()==z.LOADED){const s=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);s[0]+=n.offset,s[2]+=n.offset;const o=(r=this.clipExtent_)==null?void 0:r.slice();o&&(o[0]+=n.offset,o[2]+=n.offset),e.push({extent:s,clipExtent:o,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=z.ERROR;else{const n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),r=typeof i=="number"?i:i[0],s=typeof i=="number"?i:i[1],o=this.targetTileGrid_.getResolution(n),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=lp(r,s,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=z.LOADED}this.changed()}load(){if(this.state==z.IDLE){this.state=z.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i==z.IDLE||i==z.LOADING){e++;const r=de(n,Q.CHANGE,s=>{const o=n.getState();(o==z.LOADED||o==z.ERROR||o==z.EMPTY)&&(Ce(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},i,r){n.getState()==z.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Ce),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Yo(this.canvas_.getContext("2d")),Gn.push(this.canvas_),this.canvas_=null),super.release()}}class ta{constructor(e,n,i,r){this.minX=e,this.maxX=n,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function xn(t,e,n,i,r){return r!==void 0?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new ta(t,e,n,i)}function Rr(t,e,n,i){return i!==void 0?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function Tp(t,e,n){return t+"/"+e+"/"+n}function Rp(t){return xp(t[0],t[1],t[2])}function xp(t,e,n){return(e<<t)+n}function Cp(t,e){const n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return s?s.containsXY(i,r):!0}function Is(t,e,n,i){return`${t},${Tp(e,n,i)}`}function As(t,e,n){if(!(n in t))return t[n]=new Set([e]),!0;const i=t[n],r=i.has(e);return r||i.add(e),!r}function bp(t,e,n){const i=t[n];return i?i.delete(e):!1}function Ol(t,e){const n=t.layerStatesArray[t.layerIndex];n.extent&&(e=_t(e,cn(n.extent,t.viewState.projection)));const i=n.layer.getRenderSource();if(!i.getWrapX()){const r=i.getTileGridForProjection(t.viewState.projection).getExtent();r&&(e=_t(e,r))}return e}class Ip extends Qm{constructor(e,n){super(e),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=tn(),this.tempTileRange_=new ta(0,0,0,0),this.tempTileCoord_=Rr(0,0,0);const i=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new sp(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,n,i,r){const s=this.tileCache_,a=this.getLayer().getSource(),l=Is(a.getKey(),e,n,i);let c;if(s.containsKey(l))c=s.get(l);else{if(c=a.getTile(e,n,i,r.pixelRatio,r.viewState.projection),!c)return null;s.set(l,c)}return c}getTile(e,n,i,r){const s=this.getOrCreateTile(e,n,i,r);return s||null}getData(e){const n=this.frameState;if(!n)return null;const i=this.getLayer(),r=nt(n.pixelToCoordinateTransform,e.slice()),s=i.getExtent();if(s&&!Io(s,r))return null;const o=n.viewState,a=i.getRenderSource(),l=a.getTileGridForProjection(o.projection),c=a.getTilePixelRatio(n.pixelRatio);for(let h=l.getZForResolution(o.resolution);h>=l.getMinZoom();--h){const u=l.getTileCoordForCoordAndZ(r,h),f=this.getTile(h,u[1],u[2],n);if(!f||f.getState()!==z.LOADED)continue;const g=l.getOrigin(h),d=qe(l.getTileSize(h)),p=l.getResolution(h);let y;if(f instanceof Ph||f instanceof to)y=f.getImage();else if(f instanceof Js){if(y=Tr(f.getData()),!y)continue}else continue;const w=Math.floor(c*((r[0]-g[0])/p-u[1]*d[0])),v=Math.floor(c*((g[1]-r[1])/p-u[2]*d[1])),M=Math.round(c*a.getGutterForProjection(o.projection));return this.getImageData(y,w+M,v+M)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const i=n.getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(e,n,i,r,s){const o=e.viewState,a=this.getLayer(),l=a.getRenderSource(),c=l.getTileGridForProjection(o.projection),h=ke(l);h in e.wantedTiles||(e.wantedTiles[h]={});const u=e.wantedTiles[h],f=a.getMapInternal(),g=Math.max(i-s,c.getMinZoom(),c.getZForResolution(Math.min(a.getMaxResolution(),f?f.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):c.getResolution(0)),l.zDirection));for(let d=i;d>=g;--d){const p=c.getTileRangeForExtentAndZ(n,d,this.tempTileRange_),y=c.getResolution(d);for(let w=p.minX;w<=p.maxX;++w)for(let v=p.minY;v<=p.maxY;++v){const M=this.getTile(d,w,v,e);if(!M||!As(r,M,d))continue;const T=M.getKey();if(u[T]=!0,M.getState()===z.IDLE&&!e.tileQueue.isKeyQueued(T)){const N=Rr(d,w,v,this.tempTileCoord_);e.tileQueue.enqueue([M,h,c.getTileCoordCenter(N),y])}}}}findStaleTile_(e,n){const i=this.tileCache_,r=e[0],s=e[1],o=e[2],a=this.getStaleKeys();for(let l=0;l<a.length;++l){const c=Is(a[l],r,s,o);if(i.containsKey(c)){const h=i.get(c);if(h.getState()===z.LOADED)return h.endTransition(ke(this)),As(n,h,r),!0}}return!1}findAltTiles_(e,n,i,r){const s=e.getTileRangeForTileCoordAndZ(n,i,this.tempTileRange_);if(!s)return!1;let o=!0;const a=this.tileCache_,c=this.getLayer().getRenderSource().getKey();for(let h=s.minX;h<=s.maxX;++h)for(let u=s.minY;u<=s.maxY;++u){const f=Is(c,i,h,u);let g=!1;if(a.containsKey(f)){const d=a.get(f);d.getState()===z.LOADED&&(As(r,d,i),g=!0)}g||(o=!1)}return o}renderFrame(e,n){let i=!0;this.renderComplete=!0;const r=e.layerStatesArray[e.layerIndex],s=e.viewState,o=s.projection,a=s.resolution,l=s.center,c=e.pixelRatio,h=this.getLayer(),u=h.getSource(),f=u.getRevision(),g=u.getTileGridForProjection(o),d=g.getZForResolution(a,u.zDirection),p=g.getResolution(d),y=u.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==y&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=y):this.renderedSourceKey_=y;let w=e.extent;const v=u.getTilePixelRatio(c);this.prepareContainer(e,n);const M=this.context.canvas.width,E=this.context.canvas.height,T=r.extent&&cn(r.extent);T&&(w=_t(w,cn(r.extent)));const N=p*M/2/v,X=p*E/2/v,D=[l[0]-N,l[1]-X,l[0]+N,l[1]+X],k={};this.renderedTiles.length=0;const L=h.getPreload();if(e.nextExtent){const H=g.getZForResolution(s.nextResolution,u.zDirection),$=Ol(e,e.nextExtent);this.enqueueTiles(e,$,H,k,L)}const Z=Ol(e,w);if(this.enqueueTiles(e,Z,d,k,0),L>0&&setTimeout(()=>{this.enqueueTiles(e,Z,d-1,k,L-1)},0),!(d in k))return this.container;const Y=ke(this),q=e.time;for(const H of k[d]){const $=H.getState();if((H instanceof to||H instanceof wp)&&$===z.EMPTY)continue;const le=H.tileCoord;if($===z.LOADED&&H.getAlpha(Y,q)===1){H.endTransition(Y);continue}if($!==z.IDLE&&(i=!1),$!==z.ERROR&&(this.renderComplete=!1),this.findStaleTile_(le,k)){bp(k,H,d),e.animate=!0;continue}if(this.findAltTiles_(g,le,d+1,k))continue;const Re=g.getMinZoom();for(let ye=d-1;ye>=Re&&!this.findAltTiles_(g,le,ye,k);--ye);}const ie=p/a*c/v,B=this.getRenderContext(e);bi(this.tempTransform,M/2,E/2,ie,ie,0,-M/2,-E/2),r.extent&&this.clipUnrotated(B,e,T),u.getInterpolate()||(B.imageSmoothingEnabled=!1),this.preRender(B,e);const ee=Object.keys(k).map(Number);ee.sort(To);let G;const V=[],ae=[];for(let H=ee.length-1;H>=0;--H){const $=ee[H],le=u.getTilePixelSize($,c,o),be=g.getResolution($)/p,Re=le[0]*be*ie,ye=le[1]*be*ie,xe=g.getTileCoordForCoordAndZ(Nt(D),$),We=g.getTileCoordExtent(xe),ot=nt(this.tempTransform,[v*(We[0]-D[0])/p,v*(D[3]-We[3])/p]),Pe=v*u.getGutterForProjection(o);for(const Ut of k[$]){if(Ut.getState()!==z.LOADED)continue;const _=Ut.tileCoord,m=xe[1]-_[1],R=Math.round(ot[0]-(m-1)*Re),I=xe[2]-_[2],C=Math.round(ot[1]-(I-1)*ye),b=Math.round(ot[0]-m*Re),O=Math.round(ot[1]-I*ye),P=R-b,S=C-O,A=ee.length===1;let j=!1;G=[b,O,b+P,O,b+P,O+S,b,O+S];for(let F=0,K=V.length;F<K;++F)if(!A&&$<ae[F]){const U=V[F];zi([b,O,b+P,O+S],[U[0],U[3],U[4],U[7]])&&(j||(B.save(),j=!0),B.beginPath(),B.moveTo(G[0],G[1]),B.lineTo(G[2],G[3]),B.lineTo(G[4],G[5]),B.lineTo(G[6],G[7]),B.moveTo(U[6],U[7]),B.lineTo(U[4],U[5]),B.lineTo(U[2],U[3]),B.lineTo(U[0],U[1]),B.clip())}V.push(G),ae.push($),this.drawTile(Ut,e,b,O,P,S,Pe,A),j&&B.restore(),this.renderedTiles.unshift(Ut),this.updateUsedTiles(e.usedTiles,u,Ut)}}if(this.renderedRevision=f,this.renderedResolution=p,this.extentChanged=!this.renderedExtent_||!Ks(this.renderedExtent_,D),this.renderedExtent_=D,this.renderedPixelRatio=c,this.postRender(this.context,e),r.extent&&B.restore(),B.imageSmoothingEnabled=!0,this.renderComplete){const H=($,le)=>{const ue=ke(u),be=le.wantedTiles[ue],Re=be?Object.keys(be).length:0;this.updateCacheSize(Re),this.tileCache_.expireCache()};e.postRenderFunctions.push(H)}return!this.renderComplete&&!i&&(e.animate=!0),this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,n,i,r,s,o,a,l){let c;if(e instanceof Js){if(c=Tr(e.getData()),!c)throw new Error("Rendering array data is not yet supported")}else c=this.getTileImage(e);if(!c)return;const h=this.getRenderContext(n),u=ke(this),f=n.layerStatesArray[n.layerIndex],g=f.opacity*(l?e.getAlpha(u,n.time):1),d=g!==h.globalAlpha;d&&(h.save(),h.globalAlpha=g),h.drawImage(c,a,a,c.width-2*a,c.height-2*a,i,r,s,o),d&&h.restore(),g!==f.opacity?n.animate=!0:l&&e.endTransition(u)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,n,i){const r=ke(n);r in e||(e[r]={}),e[r][i.getKey()]=!0}}class Ap extends Zm{constructor(e){super(e)}createRenderer(){return new Ip(this,{cacheSize:this.getCacheSize()})}}const Ms={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class Mp extends kt{constructor(e){super(),this.projection=st(e.projection),this.attributions_=Dl(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(i,r){n.viewResolver=i,n.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=Dl(e),this.changed()}setState(e){this.state_=e,this.changed()}}function Dl(t){return t?typeof t=="function"?t:(Array.isArray(t)||(t=[t]),e=>t):null}const Cn=[0,0,0],Kt=5;class Nh{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Ee(yd(this.resolutions_,(r,s)=>s-r),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let r=0,s=this.resolutions_.length-1;r<s;++r)if(!n)n=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Ee(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Nt(i)),Ee(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Ee(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:xo,Ee(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,s)=>{const o=new ta(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){const a=this.getTileRangeForExtentAndZ(i,s);o.minX=Math.max(a.minX,o.minX),o.maxX=Math.min(a.maxX,o.maxX),o.minY=Math.max(a.minY,o.minY),o.maxY=Math.min(a.maxY,o.maxY)}return o}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,n,i){const r=this.getTileRangeForExtentAndZ(e,n);for(let s=r.minX,o=r.maxX;s<=o;++s)for(let a=r.minY,l=r.maxY;a<=l;++a)i([n,s,a])}forEachTileCoordParentTileRange(e,n,i,r){let s,o,a,l=null,c=e[0]-1;for(this.zoomFactor_===2?(o=e[1],a=e[2]):l=this.getTileCoordExtent(e,r);c>=this.minZoom;){if(o!==void 0&&a!==void 0?(o=Math.floor(o/2),a=Math.floor(a/2),s=xn(o,o,a,a,i)):s=this.getTileRangeForExtentAndZ(l,c,i),n(c,s))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,o=e[2]*2;return xn(s,s+1,o,o+1,n)}const r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,i){if(n>this.maxZoom||n<this.minZoom)return null;const r=e[0],s=e[1],o=e[2];if(n===r)return xn(s,o,s,o,i);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-r),c=Math.floor(s*l),h=Math.floor(o*l);if(n<r)return xn(c,c,h,h,i);const u=Math.floor(l*(s+1))-1,f=Math.floor(l*(o+1))-1;return xn(c,u,h,f,i)}const a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,n,i)}getTileRangeForExtentAndZ(e,n,i){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,Cn);const r=Cn[1],s=Cn[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,Cn);const o=Cn[1],a=Cn[2];return xn(r,o,s,a,i)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=qe(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*r[0]*i,n[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,n){const i=this.getOrigin(e[0]),r=this.getResolution(e[0]),s=qe(this.getTileSize(e[0]),this.tmpSize_),o=i[0]+e[1]*s[0]*r,a=i[1]-(e[2]+1)*s[1]*r,l=o+s[0]*r,c=a+s[1]*r;return Ni(o,a,l,c,n)}getTileCoordForCoordAndResolution(e,n,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,i)}getTileCoordForXYAndResolution_(e,n,i,r,s){const o=this.getZForResolution(i),a=i/this.getResolution(o),l=this.getOrigin(o),c=qe(this.getTileSize(o),this.tmpSize_);let h=a*(e-l[0])/i/c[0],u=a*(l[1]-n)/i/c[1];return r?(h=Wi(h,Kt)-1,u=Wi(u,Kt)-1):(h=Vi(h,Kt),u=Vi(u,Kt)),Rr(o,h,u,s)}getTileCoordForXYAndZ_(e,n,i,r,s){const o=this.getOrigin(i),a=this.getResolution(i),l=qe(this.getTileSize(i),this.tmpSize_);let c=(e-o[0])/a/l[0],h=(o[1]-n)/a/l[1];return r?(c=Wi(c,Kt)-1,h=Wi(h,Kt)-1):(c=Vi(c,Kt),h=Vi(h,Kt)),Rr(i,c,h,s)}getTileCoordForCoordAndZ(e,n,i){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const i=Ro(this.resolutions_,e,n||0);return Ae(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return sh(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,i=new Array(n);for(let r=this.minZoom;r<n;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}}function zh(t){let e=t.getDefaultTileGrid();return e||(e=Op(t),t.setDefaultTileGrid(e)),e}function Sp(t,e,n){const i=e[0],r=t.getTileCoordCenter(e),s=na(n);if(!Io(s,r)){const o=pe(s),a=Math.ceil((s[0]-r[0])/o);return r[0]+=o*a,t.getTileCoordForCoordAndZ(r,i)}return e}function Lp(t,e,n,i){i=i!==void 0?i:"top-left";const r=kh(t,e,n);return new Nh({extent:t,origin:kd(t,i),resolutions:r,tileSize:n})}function Pp(t){const e=t,n=e.extent||st("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:kh(n,e.maxZoom,e.tileSize,e.maxResolution)};return new Nh(i)}function kh(t,e,n,i){e=e!==void 0?e:xd,n=qe(n!==void 0?n:xo);const r=je(t),s=pe(t);i=i>0?i:Math.max(s/n[0],r/n[1]);const o=e+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=i/Math.pow(2,l);return a}function Op(t,e,n,i){const r=na(t);return Lp(r,e,n,i)}function na(t){t=st(t);let e=t.getExtent();if(!e){const n=180*Co.degrees/t.getMetersPerUnit();e=Ni(-n,-n,n,n)}return e}class Dp extends Mp{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&qe(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=e.key||ke(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,i,r,s){return ce()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:zh(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,i){const r=this.getTileGridForProjection(i),s=this.getTilePixelRatio(n),o=qe(r.getTileSize(e),this.tmpSize);return s==1?o:w_(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){const i=n!==void 0?n:this.getProjection(),r=n!==void 0?this.getTileGridForProjection(i):this.tileGrid||this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=Sp(r,e,i)),Cp(e,r)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class Fp extends en{constructor(e,n){super(e),this.tile=n}}const Np=/\{z\}/g,zp=/\{x\}/g,kp=/\{y\}/g,Gp=/\{-y\}/g;function Up(t,e,n,i,r){return t.replace(Np,e.toString()).replace(zp,n.toString()).replace(kp,i.toString()).replace(Gp,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function Xp(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let s;for(s=i;s<=r;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)e.push(t.replace(n[0],r.toString()));return e}return e.push(t),e}function Kp(t,e){return function(n,i,r){if(!n)return;let s;const o=n[0];if(e){const a=e.getFullTileRange(o);a&&(s=a.getHeight()-1)}return Up(t,o,n[1],n[2],s)}}function jp(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=Kp(t[r],e);return Yp(i)}function Yp(t){return t.length===1?t[0]:function(e,n,i){if(!e)return;const r=Rp(e),s=Nn(r,t.length);return t[s](e,n,i)}}class ia extends Dp{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===ia.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,i=ke(n),r=n.getState();let s;r==z.LOADING?(this.tileLoadingKeys_[i]=!0,s=Ms.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=r==z.ERROR?Ms.TILELOADERROR:r==z.LOADED?Ms.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new Fp(s,n))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=Xp(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(jp(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,i){}}class Bp extends ia{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Vp,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Ph,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!fs(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||fs(n,e)))return this.tileGrid;const i=ke(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=zh(e)),this.tileGridForProjection[i]}createTile_(e,n,i,r,s,o){const a=[e,n,i],l=this.getTileCoordForTileUrlFunction(a,s),c=l?this.tileUrlFunction(l,r,s):void 0,h=new this.tileClass(a,c!==void 0?z.IDLE:z.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=o,h.addEventListener(Q.CHANGE,this.handleTileChange.bind(this)),h}getTile(e,n,i,r,s){const o=this.getProjection();if(!o||!s||fs(o,s))return this.getTileInternal(e,n,i,r,o||s);const a=[e,n,i],l=this.getKey(),c=this.getTileGridForProjection(o),h=this.getTileGridForProjection(s),u=this.getTileCoordForTileUrlFunction(a,s),f=new to(o,c,s,h,a,u,this.getTilePixelRatio(r),this.getGutter(),(g,d,p,y)=>this.getTileInternal(g,d,p,y,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return f.key=l,f}getTileInternal(e,n,i,r,s){const o=this.getKey();return this.createTile_(e,n,i,r,s,o)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,n){const i=st(e);if(i){const r=ke(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=n)}}}function Vp(t,e){t.getImage().src=e}class Wp extends Bp{constructor(e){e=e||{};const n=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:Pp({extent:na(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const Zp='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class Hp extends Wp{constructor(e){e=e||{};let n;e.attributions!==void 0?n=e.attributions:n=[Zp];const i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",r=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:r,wrapX:e.wrapX,zDirection:e.zDirection})}}const Gh=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},$p={name:"MapContainer",components:{},props:{},mounted(){new Vm({target:this.$refs["map-root"],layers:[new Ap({source:new Hp})],view:new xt({zoom:0,center:[0,0],constrainResolution:!0})})}},qp={ref:"map-root",style:{width:"100%",height:"100%"}};function Jp(t,e,n,i,r,s){return Ac(),Mc("div",qp,null,512)}const Qp=Gh($p,[["render",Jp]]),e0={name:"AppMap",components:{MapComponent:Qp}},t0={id:"app"},n0={class:"cell cell-map"};function i0(t,e,n,i,r,s){const o=qu("MapComponent");return Ac(),Mc("div",t0,[mi("div",n0,[Ht(o)]),e[0]||(e[0]=mi("div",{class:"cell cell-edit"}," Edit ",-1)),e[1]||(e[1]=mi("div",{class:"cell cell-inspect"}," Inspect ",-1))])}const r0=Gh(e0,[["render",i0]]),s0=_d(r0);s0.mount("#app");
